(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[151],{1247:function(t,e,o){var i=o(1340);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(77).default)("67d3eca8",i,!0,{})},126:function(t,e,o){"use strict";o.d(e,"d",(function(){return i})),o.d(e,"a",(function(){return n})),o.d(e,"c",(function(){return s})),o.d(e,"b",(function(){return a}));var i,n,s,a,r=o(21),d=o(2),l=o(43),c=o(211),p=o(133),u=o(59),h=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},g=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t.H44px="H44px",t.H48px="H48px"}(i||(i={})),function(t){t.None="None",t.Bubble100="Bubble100",t.Bubble200="Bubble200",t.HighlightText="HighlightText"}(n||(n={})),function(t){t.Default="Default",t.Primary="Primary",t.Danger="Danger",t.Disabled="Disabled",t.Highlighted="Highlighted"}(s||(s={})),function(t){t.Default="Default",t.DisplayOnly="DisplayOnly",t.HistoryPushState="HistoryPushState"}(a||(a={}));let m=class extends r.a{constructor(){super(...arguments),this.FocusStyle=n,this.OzDividerColorScheme=p.a,this.OzTextButtonColorScheme=u.a,this.RowStyle=s,this.SizePreset=i}get iconSize(){return{[i.H44px]:16,[i.H48px]:24}[this.sizePreset]}get rowsData(){return this.rows.map(t=>Object.assign(Object.assign({rowStyle:s.Default},this.commonSettings),t))}get xLeftIconOrAvatar(){return this.rowsData.some(t=>t.icon||t.avatar)}get textHighlightStyles(){return[{"hover-hover:group-hover:text-grape-500 hover-hover:dark:group-hover:text-canary-500":"auto"===this.darkMode,"hover-hover:group-hover:text-grape-500":!1===this.darkMode,"hover-hover:group-hover:text-canary-500":!0===this.darkMode},{"group-focus-visible:text-grape-500 dark:group-focus-visible:text-canary-500":"auto"===this.darkMode,"group-focus-visible:text-grape-500":!1===this.darkMode,"group-focus-visible:text-canary-500":!0===this.darkMode},{"group-active:text-grape-500 dark:group-active:text-canary-500":"auto"===this.darkMode,"group-active:text-grape-500":!1===this.darkMode,"group-active:text-canary-500":!0===this.darkMode}]}selectRow(t,e){var o;e.isDisabled||(e.hrefMode!==a.Default&&t.preventDefault(),e.hrefMode===a.HistoryPushState&&(null===(o=null===window||void 0===window?void 0:window.history)||void 0===o||o.pushState(null,"",e.href)),this.$emit("select-row",t,e.eventPayload))}selectRightIcon(t,e){this.$emit("select-right-icon",t,e.rightIconEventPayload)}mounted(){this.isPhone?setTimeout(()=>{this.scrollActiveRowIntoView()},500):this.scrollActiveRowIntoView()}scrollActiveRowIntoView(){var t;if(!this.activeRow)return;const e=null===(t=this.$refs[this.activeRow])||void 0===t?void 0:t[0];null===e||void 0===e||e.scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}};h([Object(d.e)({default:"auto"}),g("design:type",Object)],m.prototype,"darkMode",void 0),h([Object(d.e)({default:i.H48px}),g("design:type",String)],m.prototype,"sizePreset",void 0),h([Object(d.e)({required:!0}),g("design:type",String)],m.prototype,"focusStyle",void 0),h([Object(d.e)({default:!1}),g("design:type",Boolean)],m.prototype,"xLastRowDivider",void 0),h([Object(d.e)({default:()=>[]}),g("design:type",Object)],m.prototype,"commonSettings",void 0),h([Object(d.e)({required:!0}),g("design:type",Array)],m.prototype,"rows",void 0),h([Object(d.e)({default:!1}),g("design:type",Boolean)],m.prototype,"isPhone",void 0),h([Object(d.e)({default:""}),g("design:type",String)],m.prototype,"activeRow",void 0),m=h([Object(d.a)({components:{OzAvatar:c.a,OzTextButton:u.c,OzIcon:l.default,OzDivider:p.b}})],m);var f=m,y=o(5),v=Object(y.a)(f,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["font-sans"]},[t._l(t.rowsData,(function(o,i){return[e("div",{key:`${o.icon}-${i}`,ref:o.ref,refInFor:!0,class:["block","py-1","px-2"],attrs:{"data-cy":o.testId,"data-pw":o.testId}},[e(o.href?"a":"div",{tag:"component",class:["group","focus:outline-none",o.isDisabled?"cursor-not-allowed":"cursor-pointer",o.rowStyle===t.RowStyle.Default&&{"text-dark-text-100":!1===t.darkMode,"text-light-text-100":!0===t.darkMode,"text-dark-text-100 dark:text-light-text-100":"auto"===t.darkMode},o.rowStyle===t.RowStyle.Disabled&&{"text-dark-text-300":!1===t.darkMode,"text-light-text-300":!0===t.darkMode,"text-dark-text-300 dark:text-light-text-300":"auto"===t.darkMode},o.rowStyle===t.RowStyle.Highlighted&&{"text-grape-500":!1===t.darkMode,"text-canary-500":!0===t.darkMode,"text-grape-500 dark:text-canary-500":"auto"===t.darkMode},o.rowStyle===t.RowStyle.Primary&&"text-padlet-pink-500",o.rowStyle===t.RowStyle.Danger&&"text-danger-100","p-2",t.sizePreset===t.SizePreset.H44px&&"min-h-[20px]",t.sizePreset===t.SizePreset.H48px&&"min-h-[24px]",!o.isDisabled&&"transition-colors",!o.isDisabled&&t.focusStyle===t.FocusStyle.Bubble100&&["rounded-lg",{"hover-hover:hover:bg-light-ui-100 hover-hover:dark:hover:bg-dark-ui-100":"auto"===t.darkMode,"hover-hover:hover:bg-light-ui-100":!1===t.darkMode,"hover-hover:hover:bg-dark-ui-100":!0===t.darkMode},{"focus-visible:bg-light-ui-100 dark:focus-visible:bg-dark-ui-100":"auto"===t.darkMode,"focus-visible:bg-light-ui-100":!1===t.darkMode,"focus-visible:bg-dark-ui-100":!0===t.darkMode},{"active:bg-light-ui-100 dark:active:bg-dark-ui-100":"auto"===t.darkMode,"active:bg-light-ui-100":!1===t.darkMode,"active:bg-dark-ui-100":!0===t.darkMode}],!o.isDisabled&&t.focusStyle===t.FocusStyle.Bubble200&&["rounded-lg",{"hover-hover:hover:bg-light-ui-200 hover-hover:dark:hover:bg-dark-ui-200":"auto"===t.darkMode,"hover-hover:hover:bg-light-ui-200":!1===t.darkMode,"hover-hover:hover:bg-dark-ui-200":!0===t.darkMode},{"focus-visible:bg-light-ui-200 dark:focus-visible:bg-dark-ui-200":"auto"===t.darkMode,"focus-visible:bg-light-ui-200":!1===t.darkMode,"focus-visible:bg-dark-ui-200":!0===t.darkMode},{"active:bg-light-ui-200 dark:active:bg-dark-ui-200":"auto"===t.darkMode,"active:bg-light-ui-200":!1===t.darkMode,"active:bg-dark-ui-200":!0===t.darkMode}],!o.isDisabled&&t.focusStyle===t.FocusStyle.HighlightText&&o.rowStyle===t.RowStyle.Default&&t.textHighlightStyles,"flex","items-center"],attrs:{tabindex:o.isDisabled?-1:0,disabled:o.isDisabled,"aria-disabled":o.isDisabled,href:o.href||null,rel:o.href&&"noopener nofollow"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.selectRow(e,o)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.selectRow(e,o))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.stopPropagation(),e.preventDefault(),t.selectRow(e,o))}]}},[t.xLeftIconOrAvatar&&o.icon?e("OzIcon",{class:[{"me-3":t.sizePreset===t.SizePreset.H44px,"me-4":t.sizePreset===t.SizePreset.H48px},!o.isDisabled&&[t.FocusStyle.Bubble100,t.FocusStyle.Bubble200].includes(t.focusStyle)&&o.rowStyle===t.RowStyle.Default&&t.textHighlightStyles],attrs:{name:o.icon,size:t.iconSize}}):t.xLeftIconOrAvatar&&o.avatar?e("OzAvatar",{class:[{"me-3":t.sizePreset===t.SizePreset.H44px,"me-4":t.sizePreset===t.SizePreset.H48px},o.avatarStyles||"rounded-full"],attrs:{width:t.iconSize,height:t.iconSize,src:o.avatar,"alt-text-name":o.text}}):t._e(),t._v(" "),e("div",{class:[o.textTruncated&&"truncate","flex-1",o.textStyleClass||{"text-body-small":t.sizePreset===t.SizePreset.H44px,"text-body":t.sizePreset===t.SizePreset.H48px}],attrs:{title:o.text}},[o.htmlText?e("span",{domProps:{innerHTML:t._s(o.htmlText)}}):e("span",[t._v(t._s(o.text))])]),t._v(" "),o.rightIcon&&o.rightIconEventPayload?e("OzTextButton",{class:["h-full",t.sizePreset===t.SizePreset.H44px&&"ps-3",t.sizePreset===t.SizePreset.H48px&&"ps-4","pe-0","py-0","focus:outline-none","flex","flex-col","justify-center"],attrs:{"data-cy":o.rightIconTestId,"color-scheme":t.OzTextButtonColorScheme.Secondary,"dark-mode":t.darkMode,"aria-label":o.rightIconAriaLabel},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.selectRightIcon(e,o)}},nativeOn:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.stopPropagation(),t.selectRightIcon(e,o))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),e.stopPropagation(),t.selectRightIcon(e,o))}]}},[e("OzIcon",{attrs:{name:o.rightIcon,size:o.rightIconSize||t.iconSize}})],1):t._e(),t._v(" "),o.rightIcon&&!o.rightIconEventPayload?e("OzIcon",{class:[o.rightIconHighlighted&&{"text-grape-500":!1===t.darkMode,"text-canary-500":!0===t.darkMode,"text-grape-500 dark:text-canary-500":"auto"===t.darkMode},!o.isDisabled&&!o.rightIconHighlighted&&o.rowStyle===t.RowStyle.Default&&{"text-dark-text-200 hover-hover:group-hover:text-dark-text-100":!1===t.darkMode,"text-light-text-200 hover-hover:group-hover:text-light-text-100":!0===t.darkMode,"text-dark-text-200 dark:text-light-text-200 hover-hover:group-hover:text-dark-text-100 hover-hover:dark:group-hover:text-dark-text-100":"auto"===t.darkMode},!o.isDisabled&&t.focusStyle===t.FocusStyle.HighlightText&&o.rowStyle===t.RowStyle.Default&&t.textHighlightStyles],attrs:{name:o.rightIcon,size:o.rightIconSize||t.iconSize,"aria-label":o.rightIconAriaLabel}}):t._e()],1)],1),t._v(" "),t.xLastRowDivider||i<t.rows.length-1?e("OzDivider",{key:`${o.icon}-${i}-divider`,class:[!t.xLeftIconOrAvatar&&"mx-4",t.xLeftIconOrAvatar&&t.sizePreset===t.SizePreset.H44px&&"ms-10.5 me-4",t.xLeftIconOrAvatar&&t.sizePreset===t.SizePreset.H48px&&"ms-14 me-4"],attrs:{"color-scheme":t.OzDividerColorScheme.Solid,"dark-mode":t.darkMode}}):t._e()]}))],2)}),[],!1,null,null,null);e.e=v.exports},133:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var i,n=o(2),s=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},a=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t.Solid="Solid",t.Translucent="Translucent"}(i||(i={}));let r=class extends n.f{constructor(){super(...arguments),this.OzDividerColorScheme=i}};s([Object(n.e)({default:"auto"}),a("design:type",Object)],r.prototype,"darkMode",void 0),s([Object(n.e)({required:!0}),a("design:type",String)],r.prototype,"colorScheme",void 0),r=s([n.a],r);var d=r,l=o(5),c=Object(l.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["h-[0.5px]",t.colorScheme===t.OzDividerColorScheme.Solid&&[{"bg-divider-gray dark:bg-divider-gray-dark":"auto"===t.darkMode,"bg-divider-gray":!1===t.darkMode,"bg-divider-gray-dark":!0===t.darkMode}],t.colorScheme===t.OzDividerColorScheme.Translucent&&["bg-opacity-30",{"bg-grey-200 dark:bg-white-400":"auto"===t.darkMode,"bg-grey-200":!1===t.darkMode,"bg-white-400":!0===t.darkMode}]]})}),[],!1,null,null,null);e.b=c.exports},1339:function(t,e,o){"use strict";o(1247)},1340:function(t,e,o){e=t.exports=o(76)(!1);var i=o(240),n=i(o(279)),s=i(o(280));e.push([t.i,"/*\nGenerate the stylesheet for the dot grid layout.\n@see https://stackoverflow.com/c/padlet/questions/1891/1892\n*/\n:root {\n  --dot-grid-url: url("+n+");\n}\n.dot-grid {\n  background-image: var(--dot-grid-url);\n  background-color: #ddd;\n  background-size: 48px;\n  background-position: top left;\n}\n/* gradient colors are 500 pink and 500 yellow */\n.dot-grid-loading {\n  background-image: var(--dot-grid-url), linear-gradient(0deg, #FF4081, #FEC006);\n  background-size: 48px, 400% 400%;\n  animation: dot-gradient 4s linear infinite;\n}\n@keyframes dot-gradient {\n0% {\n    background-position: top left, 0% 200%;\n}\n100% {\n    background-position: top left, 0% -200%;\n}\n}\n@media (prefers-color-scheme: dark) {\n:root {\n    /* Downloaded from: https://padlet-uploads.storage.googleapis.com/12/5dc95d41e8d84ba1d701303545aa170b/dot_grid_111111.png */\n    --dot-grid-url: url("+s+");\n}\n.dot-grid {\n    background-color: #3d3d3d;\n}\n  /* gradient colors are 500 pink and 500 purple */\n.dot-grid-loading {\n    background-image: var(--dot-grid-url), linear-gradient(0deg, #FF4081, #9466E8);\n}\n}\n.dot-grid-filter {\n  -webkit-backdrop-filter: brightness(0.985);\n          backdrop-filter: brightness(0.985);\n}\n@media (prefers-color-scheme: dark) {\n.dot-grid-filter {\n    -webkit-backdrop-filter: brightness(1.6);\n            backdrop-filter: brightness(1.6);\n}\n}\n/* Prevent overflow scrolling when pinch-zoomed on mobile */\nhtml.mobile.expanded-post {\n  position: fixed;\n  overflow: hidden;\n}\nhtml.mobile.expanded-post body {\n    position: fixed;\n    overflow: hidden;\n    /* Prevent pinch-zoomed expanded post showing the content behind the overlay when dragged around [a browser rendering issue in May 2022]*/\n}\nhtml.mobile.expanded-post body #wall-container {\n      visibility: hidden;\n      opacity: 0;\n}\n",""])},1378:function(t,e,o){"use strict";o.r(e);var i,n,s,a,r=o(2),d=o(8),l=o(193),c=o(33),p=o(3),u=o(69),h=o.n(u),g=o(91),m=o(133),f=o(96),y=o(191),v=o(506),b=o(19),x=o(43),P=o(126),_=o(37),O=o(566),k=o(121),S=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},w=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t.OpenPostInNewTab="OpenPostInNewTab",t.OpenAttachment="OpenAttachment",t.DownloadAttachment="DownloadAttachment",t.CopyAttachmentLink="CopyAttachmentLink",t.CopyPostLink="CopyPostLink",t.EditPost="EditPost",t.TransferPost="TransferPost",t.CopyPost="CopyPost",t.UnsetAsCover="UnsetAsCover",t.SetAsCover="SetAsCover",t.DeletePost="DeletePost"}(a||(a={}));const A=Object(d.d)("browser"),C=Object(d.d)("post"),T=Object(d.d)("postAction");let j=class extends r.f{constructor(){super(...arguments),this.OzBoxColors=_.a,this.OzMenuRowsFocusStyle=P.a,this.OzMenuRowsSizePreset=P.d}get post(){return this.postEntitiesByCid[this.postCid]}get actionListGroups(){const t=[],e=[],o=[],i=[],n=[];return t.push({icon:"post_open",text:this.__("Open post in new tab"),eventPayload:a.OpenPostInNewTab}),t.push({icon:"post_copy_link",text:this.__("Copy link to post"),eventPayload:a.CopyPostLink}),this.attachmentIsDownloadable&&this.downloadUrl?(e.push({icon:"attachment_download",text:this.__("Download attachment"),eventPayload:a.DownloadAttachment}),e.push({icon:"attachment_copy_link",text:this.__("Copy direct link to attachment"),eventPayload:a.CopyAttachmentLink})):this.attachmentUrl&&(e.push({icon:"attachment_open",text:this.__("Open attachment in new tab"),eventPayload:a.OpenAttachment}),e.push({icon:"attachment_copy_link",text:this.__("Copy attachment link"),eventPayload:a.CopyAttachmentLink})),this.canEdit&&o.push({icon:"pencil_outline",text:this.__("Edit post"),eventPayload:a.EditPost}),this.canCopy&&i.push({icon:"post_duplicate",text:this.__("Duplicate post"),eventPayload:a.CopyPost}),this.canTransfer&&i.push({icon:"post_transfer",text:this.__("Transfer post"),eventPayload:a.TransferPost}),this.canChangeCoverPost&&this.isPreviewPost&&i.push({icon:"padlet_cover",text:this.__("Unset as padlet cover"),eventPayload:a.UnsetAsCover}),this.canChangeCoverPost&&!this.isPreviewPost&&i.push({icon:"padlet_cover",text:this.__("Set as padlet cover"),eventPayload:a.SetAsCover}),this.canDelete&&n.push({icon:"delete",text:this.__("Delete post"),rowStyle:P.c.Danger,eventPayload:a.DeletePost}),[t,e,o,i,n].filter(t=>t.length>0)}close(){this.$emit("close")}onSwipedown({isAtTopBeforeDragging:t}){t||this.$emit("close")}openPostInNewTab(){this.close(),this.post.permalink&&Object(b.s)(this.post.permalink,{target:"_blank"})}openAttachment(){this.close(),this.attachmentUrl&&Object(b.s)(this.attachmentUrl,{target:"_blank"})}downloadAttachment(){this.close(),this.downloadUrl&&Object(b.s)(this.downloadUrl,{target:"_blank"})}copyLink(){this.copyPostLinkAndAlert({postCid:this.postCid}),this.close()}copyAttachmentLink(){this.copyAttachmentLinkAndAlert({postCid:this.postCid}),this.close()}edit(){this.close(),this.unexpandPost(),this.startEditingPost({postCid:this.post.cid})}transfer(){this.close(),this.unexpandPost(),this.startPostTransfer({transferPostCid:this.post.cid})}copy(){this.close(),this.unexpandPost(),this.startPostCopy({copyPostCid:this.post.cid})}unsetAsCover(){this.post.id&&(this.unsetCoverPost({postId:this.post.id}),this.close())}setAsCover(){this.post.id&&(this.setCoverPost({postId:this.post.id}),this.close())}askToDelete(){this.close(),Object(k.k)(this.post)||Object(k.j)(this.post)?(this.unexpandPost(),this.deletePost({postCid:this.post.cid})):this.confirmDeletePost({postCid:this.post.cid})}get actionHandlers(){return{[a.OpenPostInNewTab]:this.openPostInNewTab,[a.OpenAttachment]:this.openAttachment,[a.DownloadAttachment]:this.downloadAttachment,[a.CopyAttachmentLink]:this.copyAttachmentLink,[a.CopyPostLink]:this.copyLink,[a.EditPost]:this.edit,[a.TransferPost]:this.transfer,[a.CopyPost]:this.copy,[a.UnsetAsCover]:this.unsetAsCover,[a.SetAsCover]:this.setAsCover,[a.DeletePost]:this.askToDelete}}handleSelectedAction(t,e){return this.actionHandlers[e]()}};S([Object(r.e)({type:String,default:null,validator:t=>t.startsWith("c")}),w("design:type",String)],j.prototype,"postCid",void 0),S([Object(r.e)({required:!0}),w("design:type","function"===typeof(i="undefined"!==typeof PopoverAnchor&&PopoverAnchor)?i:Object)],j.prototype,"popoverAnchor",void 0),S([Object(r.e)({default:!1}),w("design:type",Boolean)],j.prototype,"attachmentIsDownloadable",void 0),S([Object(r.e)(),w("design:type",String)],j.prototype,"attachmentUrl",void 0),S([Object(r.e)(),w("design:type",String)],j.prototype,"downloadUrl",void 0),S([d.b,w("design:type",String)],j.prototype,"dir",void 0),S([d.b,w("design:type",Boolean)],j.prototype,"isUsingNewSurfaceShadows",void 0),S([d.c,w("design:type",Boolean)],j.prototype,"isFirefox",void 0),S([d.c,w("design:type","function"===typeof(n="undefined"!==typeof User&&User)?n:Object)],j.prototype,"user",void 0),S([A.Getter,w("design:type",Boolean)],j.prototype,"isPhone",void 0),S([A.Getter,w("design:type",Boolean)],j.prototype,"isSmallerThanDesktop",void 0),S([A.Getter,w("design:type",Boolean)],j.prototype,"isSmallerThanTabletPortrait",void 0),S([A.Getter,w("design:type",Number)],j.prototype,"windowHeight",void 0),S([A.State,w("design:type",Boolean)],j.prototype,"darkMode",void 0),S([C.Getter,w("design:type","function"===typeof(s="undefined"!==typeof Record&&Record)?s:Object)],j.prototype,"postEntitiesByCid",void 0),S([T.Getter("canEditPostUnderAction"),w("design:type",Boolean)],j.prototype,"canEdit",void 0),S([T.Getter("canTransferPostUnderAction"),w("design:type",Boolean)],j.prototype,"canTransfer",void 0),S([T.Getter("canCopyPostUnderAction"),w("design:type",Boolean)],j.prototype,"canCopy",void 0),S([T.Getter("canChangeCoverToExpandedPost"),w("design:type",Boolean)],j.prototype,"canChangeCoverPost",void 0),S([T.Getter("isExpandedPostPreviewPost"),w("design:type",Boolean)],j.prototype,"isPreviewPost",void 0),S([T.Getter("canDeletePostUnderAction"),w("design:type",Boolean)],j.prototype,"canDelete",void 0),S([d.a,w("design:type",Function)],j.prototype,"unsetCoverPost",void 0),S([d.a,w("design:type",Function)],j.prototype,"setCoverPost",void 0),S([C.Action,w("design:type",Function)],j.prototype,"startEditingPost",void 0),S([C.Action,w("design:type",Function)],j.prototype,"deletePost",void 0),S([T.Action,w("design:type",Function)],j.prototype,"unexpandPost",void 0),S([T.Action,w("design:type",Function)],j.prototype,"copyPostLinkAndAlert",void 0),S([T.Action,w("design:type",Function)],j.prototype,"copyAttachmentLinkAndAlert",void 0),S([T.Action,w("design:type",Function)],j.prototype,"startPostTransfer",void 0),S([T.Action,w("design:type",Function)],j.prototype,"startPostCopy",void 0),S([T.Action,w("design:type",Function)],j.prototype,"confirmDeletePost",void 0),j=S([Object(r.a)({components:{OzIcon:x.default,OzMenuRows:P.e,OzScreenSizeAwarePopoverModal:O.a}})],j);var D,z=j,I=o(5),M=Object(I.a)(z,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("OzScreenSizeAwarePopoverModal",{class:["select-none",t.darkMode&&"dark-mode"],attrs:{"is-draggable-drawer":!0,dir:t.dir,"is-phone":t.isPhone,"window-height":t.windowHeight,"popover-width":270,"popover-anchor":t.popoverAnchor,"box-classes":{"shadow-popover":!t.isUsingNewSurfaceShadows,"shadow-elevation-3":t.isUsingNewSurfaceShadows},"x-popover-tip":!1,color:t.OzBoxColors.PrimaryBlur,"is-firefox":t.isFirefox},on:{"trigger-anchor-update":function(e){return t.$emit("trigger-anchor-update")},swipedown:t.onSwipedown,"scrim-click":t.close,"scrim-esc":t.close}},[e("template",{slot:"body"},[e("div",{class:["p-4 tablet-portrait:p-0","grid grid-flow-row grid-cols-1","gap-3 tablet-portrait:gap-2","overflow-hidden","tablet-portrait:rounded-2xl","tablet-portrait:bg-grey-50 tablet-portrait:dark:bg-popover-overlay-dark"]},t._l(t.actionListGroups,(function(o,i){return e("div",{key:i,class:["rounded-2.5xl tablet-portrait:rounded-none","bg-grey-50 dark:bg-grey-800 tablet-portrait:bg-common-ui-l86 tablet-portrait:dark:bg-common-ui-d86"]},[e("OzMenuRows",{class:{"tablet-portrait:pt-1":0===i,"tablet-portrait:pb-1":i===t.actionListGroups.length-1},attrs:{"size-preset":t.isSmallerThanTabletPortrait?t.OzMenuRowsSizePreset.H48px:t.OzMenuRowsSizePreset.H44px,"focus-style":t.isSmallerThanTabletPortrait?t.OzMenuRowsFocusStyle.HighlightText:t.OzMenuRowsFocusStyle.Bubble200,rows:o},on:{"select-row":t.handleSelectedAction}})],1)})),0)])],2)}),[],!1,null,null,null).exports,B=o(16),R=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},E=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let F=class extends r.f{constructor(){super(...arguments),this.OzContainedButtonSizePreset=B.c,this.OzContainedButtonColorScheme=B.a}};R([d.b,E("design:type",Boolean)],F.prototype,"canIModerate",void 0),R([Object(d.d)("postAction").Getter,E("design:type","function"===typeof(D="undefined"!==typeof Post&&Post)?D:Object)],F.prototype,"expandedPost",void 0),R([Object(d.d)("postAction").Action,E("design:type",Function)],F.prototype,"confirmDeletePost",void 0),R([Object(d.d)("post").Action,E("design:type",Function)],F.prototype,"approvePost",void 0),F=R([Object(r.a)({components:{OzContainedButton:B.d}})],F);var H,N,L,$=F,G=Object(I.a)($,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.canIModerate?e("div",{class:["absolute top-4","flex items-center justify-between","w-[352px] h-10","rounded-lg","bg-light-ui-100 dark:bg-dark-ui-100","shadow-elevation-3"]},[e("p",{staticClass:"ms-3.5 text-body-extra-small text-dark-text-100 dark:text-light-text-100"},[t._v("\n    "+t._s(t.__("This post requires approval"))+"\n  ")]),t._v(" "),e("div",{staticClass:"me-2 flex"},[e("OzContainedButton",{staticClass:"me-2",attrs:{"size-preset":t.OzContainedButtonSizePreset.H24px,"color-scheme":t.OzContainedButtonColorScheme.SecondaryClear,text:t.__("Remove")},on:{click:function(e){return t.confirmDeletePost({postCid:t.expandedPost.cid})}}}),t._v(" "),e("OzContainedButton",{attrs:{"size-preset":t.OzContainedButtonSizePreset.H24px,"color-scheme":t.OzContainedButtonColorScheme.Primary,text:t.__("Approve")},on:{click:function(e){return t.approvePost({postCid:t.expandedPost.cid})}}})],1)]):e("p",{class:["absolute top-4","flex items-center justify-center","px-3.5","h-10","rounded-lg","bg-light-ui-200 dark:bg-dark-ui-200","shadow-elevation-2","text-body-extra-small italic","text-dark-text-200 dark:text-light-text-200"]},[t._v("\n  "+t._s(t.__("Awaiting approval"))+"\n")])}),[],!1,null,null,null).exports,U=o(597),Y=o(68),W=o(125),V=o(199),q=o(211),X=o(320),K=o(325),Z=o(738),J=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},Q=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let tt=class extends r.f{constructor(){super(...arguments),this.OzDividerColorScheme=m.a,this.OzIconButtonColorScheme=f.a,this.OzIconButtonSizePreset=f.c}get shouldCommentInputStick(){return this.isPhone&&this.shouldCommentInputStickToScreen}get commentList(){return(this.commentIdsByPost[this.post.id]||[]).map(t=>this.commentEntities[t])}get newestCommentId(){var t;return null===(t=this.commentList[this.commentList.length-1])||void 0===t?void 0:t.id}get newCommentBody(){return this.newCommentBodyForPostCid(this.post.cid)}isLastComment(t){return t===this.commentList.length-1}onAddCommentFocus(){this.startWritingNewComment({postId:this.post.id})}onAddCommentBlur(){this.stopWritingNewComment({postId:this.post.id})}onAddCommentInput(t){this.updateNewCommentBody({postCid:this.post.cid,body:t}),this.updateInlineCommentInputLastTypedInMs()}scrollToNewestComment(){setTimeout(()=>{const t=document.getElementById("comment-in-expanded-view-"+this.newestCommentId);null===t||void 0===t||t.scrollIntoView()},0)}publishComment(){this.newCommentBody&&(this.createComment({postId:this.post.id,body:this.newCommentBody}),this.scrollToNewestComment(),this.updateNewCommentBody({postCid:this.post.cid,body:""}),this.$refs.addCommentInput.focus(),Object(X.e)("keyboard",{target:"expanded-view-add-comment"}))}mounted(){this.shouldFocusInput&&this.$refs.addCommentInput.focus()}};J([Object(r.e)({default:!1}),Q("design:type",Boolean)],tt.prototype,"shouldCommentInputStickToScreen",void 0),J([d.b,Q("design:type",Boolean)],tt.prototype,"isCommentable",void 0),J([d.c,Q("design:type","function"===typeof(H="undefined"!==typeof User&&User)?H:Object)],tt.prototype,"user",void 0),J([Object(d.d)("browser").Getter,Q("design:type",Boolean)],tt.prototype,"isPhone",void 0),J([Object(d.d)("browser").State,Q("design:type",Object)],tt.prototype,"darkMode",void 0),J([Object(d.d)("comment").Getter,Q("design:type",Boolean)],tt.prototype,"isCommenting",void 0),J([Object(d.d)("comment").Getter,Q("design:type","function"===typeof(N="undefined"!==typeof Record&&Record)?N:Object)],tt.prototype,"commentIdsByPost",void 0),J([Object(d.d)("comment").Getter,Q("design:type",Function)],tt.prototype,"newCommentBodyForPostCid",void 0),J([Object(d.d)("comment").State,Q("design:type","function"===typeof(L="undefined"!==typeof CommentId&&CommentId)?L:Object)],tt.prototype,"commentBeingEditedId",void 0),J([Object(d.d)("comment").State,Q("design:type",Array)],tt.prototype,"commentEntities",void 0),J([Object(d.d)("comment").Action,Q("design:type",Function)],tt.prototype,"startWritingNewComment",void 0),J([Object(d.d)("comment").Action,Q("design:type",Function)],tt.prototype,"stopWritingNewComment",void 0),J([Object(d.d)("comment").Action,Q("design:type",Function)],tt.prototype,"updateInlineCommentInputLastTypedInMs",void 0),J([Object(d.d)("comment").Action,Q("design:type",Function)],tt.prototype,"createComment",void 0),J([Object(d.d)("comment").Action,Q("design:type",Function)],tt.prototype,"updateNewCommentBody",void 0),J([Object(d.d)("comment").Action,Q("design:type",Function)],tt.prototype,"showCommentActionMenu",void 0),J([Object(d.d)("comment").Action,Q("design:type",Function)],tt.prototype,"stopEditingComment",void 0),J([Object(d.d)("comment").Action,Q("design:type",Function)],tt.prototype,"editComment",void 0),J([Object(d.d)("postAction").Getter("expandedPost"),Q("design:type",Object)],tt.prototype,"post",void 0),J([Object(d.d)("postAction").Getter("shouldFocusExpandedPostAddCommentInput"),Q("design:type",Boolean)],tt.prototype,"shouldFocusInput",void 0),tt=J([Object(r.a)({components:{MultilineInput:K.a,OzAvatar:q.a,OzDivider:m.b,OzIcon:x.default,OzIconButton:f.d,SurfacePostComment:Z.a}})],tt);var et,ot=tt,it=Object(I.a)(ot,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"bg-transparent"},[e("div",{class:[t.shouldCommentInputStick&&"mb-[68px]"]},t._l(t.commentList,(function(o,i){return e("div",{key:o.id,class:[t.commentBeingEditedId===o.id?"mt-5":"mt-4","ps-3"]},[e("SurfacePostComment",{class:["relative","me-1.75",t.isLastComment(i)&&"mb-4"],attrs:{id:o.id,comment:o,"is-being-edited":t.commentBeingEditedId===o.id,"usage-context":"postExpandedView"},on:{"show-comment-action-menu":function(e){return t.showCommentActionMenu({commentId:o.id})},"stop-editing":t.stopEditingComment,edit:function(e){return t.editComment(e)}}}),t._v(" "),t.isLastComment(i)?t._e():e("OzDivider",{staticClass:"ms-8 mt-4",attrs:{"color-scheme":t.OzDividerColorScheme.Solid}})],1)})),0),t._v(" "),t.isCommentable?e("div",{class:[t.shouldCommentInputStick?["absolute","w-[calc(100vw-24px)]"]:"sticky","bottom-0","pt-4 pb-3","bg-light-ui-100 dark:bg-dark-ui-100"]},[e("div",{staticClass:"flex items-end"},[e("div",{class:["flex-grow","flex justify-start","border-2 border-solid rounded-2xl","border-dark-text-200 dark:border-light-text-200","focus-within:border-grape-500 dark:focus-within:border-canary-500","min-h-[21px]","ps-2.5 pe-1.5 pt-1.75 pb-2"],style:{willChange:"transform"}},[e("OzAvatar",{staticClass:"me-4 rounded-full",attrs:{src:t.user.avatar,width:20,height:20,"alt-text-name":t.user.name||t.user.username}}),t._v(" "),e("div",{staticClass:"flex-grow"},[e("MultilineInput",{ref:"addCommentInput",class:["transition-none","m-0","text-body-small-posts","font-sans","text-dark-text-100 dark:text-light-text-100","placeholder-dark-text-200 dark:placeholder-light-text-200"],attrs:{autocomplete:"off",value:t.newCommentBody,placeholder:t.__("Add comment"),title:t.__("Add comment"),"auto-height":!1},on:{focus:t.onAddCommentFocus,blur:t.onAddCommentBlur,input:t.onAddCommentInput,enter:t.publishComment},nativeOn:{paste:function(t){t.stopPropagation()}}})],1)],1),t._v(" "),t.newCommentBody?e("OzIconButton",{staticClass:"flex-shrink-0 ms-2.5",attrs:{"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.Primary,"icon-name":"arrow_right","icon-size":16,"size-preset":t.OzIconButtonSizePreset.H40px,label:t.__("Add comment")},on:{click:t.publishComment}}):t._e()],1)]):t._e()])}),[],!1,null,null,null).exports,nt=o(502),st=o(596),at=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},rt=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let dt=class extends r.f{constructor(){super(...arguments),this.OzDividerColorScheme=m.a}get post(){return this.expandedPost}get section(){return this.post.wall_section_id?this.sectionById(this.post.wall_section_id):null}get author(){return(this.post.author_id?this.getUserById(this.post.author_id):null)||Object(W.c)()}get authorName(){return this.isAuthorRegistered?this.author.name||this.author.username:W.b}get isAuthorRegistered(){return Object(W.g)(this.author)}get postBody(){return this.post.body}get xDivider(){return this.xAuthor||!!this.post.subject||!!this.postBody||!!this.post.location_name||!!this.section||!!this.attachmentCaption}get commentCount(){var t;return this.post.id&&(null===(t=this.commentIdsByPost[this.post.id])||void 0===t?void 0:t.length)||0}get xReactions(){var t;return(this.isReactable||(null===(t=this.reactionIdsByPost[this.post.id])||void 0===t?void 0:t.length)>0)&&!!this.reactionData}get xComments(){return!!Object(Y.a)("expandedPostComments")&&(!0===this.post.published&&(this.isCommentable||this.commentCount>0))}openInMap(){this.post.location_point&&Object(b.t)({lat:this.post.location_point.latitude,lng:this.post.location_point.longitude,name:this.post.location_name||""})}};at([Object(r.e)({default:""}),rt("design:type",String)],dt.prototype,"attachmentCaption",void 0),at([d.b,rt("design:type",String)],dt.prototype,"title",void 0),at([d.b,rt("design:type",Boolean)],dt.prototype,"isCommentable",void 0),at([d.b,rt("design:type",Boolean)],dt.prototype,"isReactable",void 0),at([d.b,rt("design:type","function"===typeof(et="undefined"!==typeof WallReactionData&&WallReactionData)?et:Object)],dt.prototype,"reactionData",void 0),at([d.b,rt("design:type",Boolean)],dt.prototype,"xAuthor",void 0),at([Object(d.d)("browser").Getter,rt("design:type",Boolean)],dt.prototype,"isSmallerThanDesktop",void 0),at([Object(d.d)("comment").Getter,rt("design:type",Object)],dt.prototype,"commentIdsByPost",void 0),at([Object(d.d)("reaction").Getter,rt("design:type",Object)],dt.prototype,"reactionIdsByPost",void 0),at([Object(d.d)("postAction").Getter,rt("design:type",Object)],dt.prototype,"expandedPost",void 0),at([Object(d.d)("section").Getter,rt("design:type",Function)],dt.prototype,"sectionById",void 0),at([Object(d.d)("userContributor").Getter,rt("design:type",Function)],dt.prototype,"getUserById",void 0),dt=at([Object(r.a)({components:{RelativeTime:V.a,OzAvatar:q.a,OzDivider:m.b,OzIcon:x.default,SurfacePanelPostExpandedTextPanelComments:it,SurfacePostBody:nt.a,SurfacePostSocialContentTopBar:st.a}})],dt);var lt,ct,pt,ut=dt,ht=Object(I.a)(ut,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["flex flex-col","overflow-y-auto scrollbar-regular dark:scrollbar-regular-dark","px-3","bg-light-ui-100 dark:bg-dark-ui-100"],attrs:{"aria-live":"polite"}},[e("div",{staticClass:"px-3"},[t.isSmallerThanDesktop?t._e():e("div",{staticClass:"flex flex-col justify-center mb-2.5 h-10"},[e("p",{staticClass:"text-body-extra-small truncate text-dark-text-200 dark:text-light-text-200"},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),t.section?e("p",{staticClass:"text-body-small truncate text-dark-text-100 dark:text-light-text-100"},[t._v("\n        "+t._s(t.section.title)+"\n      ")]):t._e()]),t._v(" "),t.xAuthor?e("div",{staticClass:"flex items-center mb-2.5"},[e(t.isAuthorRegistered?"a":"span",{tag:"component",staticClass:"flex items-center",attrs:{href:t.author.profile_url,target:"_blank"}},[e("OzAvatar",{staticClass:"me-3 rounded-full",attrs:{src:t.author.avatar,width:20,height:20,"alt-text-name":t.authorName}}),t._v(" "),e("span",{staticClass:"text-body-small text-dark-text-100 dark:text-light-text-100"},[e("strong",[t._v(t._s(t.authorName))])])],1),t._v(" "),e("RelativeTime",{staticClass:"ms-1 text-body-small text-dark-text-200 dark:text-light-text-200",attrs:{datetime:t.post.updated_at}})],1):t._e(),t._v(" "),t.post.subject?e("h3",{staticClass:"mb-2.5 text-heading-3 font-semibold break-words text-dark-text-100 dark:text-light-text-100 select-text"},[t._v("\n      "+t._s(t.post.subject)+"\n    ")]):t._e(),t._v(" "),t.postBody?e("SurfacePostBody",{staticClass:"text-body",attrs:{content:t.postBody,"is-text-selectable":!0}}):t._e(),t._v(" "),t.attachmentCaption&&!t.isSmallerThanDesktop?e("div",{staticClass:"flex items-start mt-4.5"},[e("OzIcon",{staticClass:"text-dark-text-300 dark:text-light-text-300",attrs:{name:"attachment_caption",size:16}}),t._v(" "),e("p",{staticClass:"ms-2.5 text-body-extra-small break-words text-dark-text-200 dark:text-light-text-200"},[t._v("\n        "+t._s(t.attachmentCaption)+"\n      ")])],1):t._e(),t._v(" "),t.post.location_name?e("div",{staticClass:"flex items-start mt-4.5"},[e("OzIcon",{staticClass:"text-dark-text-300 dark:text-light-text-300",attrs:{name:"location_marker",size:16}}),t._v(" "),e("p",{staticClass:"ms-2.5 text-body-extra-small text-dark-text-200 dark:text-light-text-200 hover:cursor-pointer hover:underline",on:{click:t.openInMap}},[t._v("\n        "+t._s(t.post.location_name)+"\n      ")])],1):t._e(),t._v(" "),t.isSmallerThanDesktop&&t.section?e("div",{staticClass:"flex items-start mt-4.5"},[e("OzIcon",{staticClass:"text-dark-text-300 dark:text-light-text-300",attrs:{name:"section",size:16}}),t._v(" "),e("p",{staticClass:"ms-2.5 text-body-extra-small text-dark-text-200 dark:text-light-text-200"},[t._v("\n        "+t._s(t.section.title)+"\n      ")])],1):t._e()],1),t._v(" "),t.xDivider?e("OzDivider",{staticClass:"flex-shrink-0 mt-6",attrs:{"color-scheme":t.OzDividerColorScheme.Solid}}):t._e(),t._v(" "),t.xComments||t.xReactions?e("SurfacePostSocialContentTopBar",{class:{"mt-4":t.xDivider,"px-3":!0},attrs:{post:t.post,"usage-context":"postExpandedView"}}):t._e(),t._v(" "),t.xComments?e("SurfacePanelPostExpandedTextPanelComments",{staticClass:"flex-grow mt-2 desktop:mt-3"}):t._e()],1)}),[],!1,null,null,null).exports,gt=o(441),mt=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},ft=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let yt=class extends r.f{constructor(){super(...arguments),this.OzDividerColorScheme=m.a,this.layout="collapsed",this.preferredTrayStartHeight=0,this.isDragging=!1,this.dragDistance=0,this.maxBodyHeight=1/0,this.maxCommentHeight=1/0}get xDivider(){return this.xAuthor||!!this.post.subject||!!this.postBody||!!this.post.location_name||!!this.section}get post(){return this.expandedPost}get section(){return this.post.wall_section_id?this.sectionById(this.post.wall_section_id):null}get author(){return(this.post.author_id?this.getUserById(this.post.author_id):null)||Object(W.c)()}get authorName(){return this.isAuthorRegistered?this.author.name||this.author.username:W.b}get isAuthorRegistered(){return Object(W.g)(this.author)}get postBody(){return this.post.body}openInMap(){this.post.location_point&&Object(b.t)({lat:this.post.location_point.latitude,lng:this.post.location_point.longitude,name:this.post.location_name||""})}get xReactions(){var t;return(this.isReactable||(null===(t=this.reactionIdsByPost[this.post.id])||void 0===t?void 0:t.length)>0)&&!!this.reactionData}get isBeingReacted(){return this.postIdBeingReactedTo===this.post.id}editReaction(){var t;if(this.isPhone)return void this.startEditingReaction({postId:this.post.id});if(null===(t=this.$el.closest(".surface-post"))||void 0===t?void 0:t.classList.contains("noclick"))return;const{left:e,top:o,width:i}=this.$refs.socialContentTopBar.$el.getBoundingClientRect();this.startEditingReaction({postId:this.post.id,dropdownLeft:e,dropdownTop:o,dropdownWidth:i})}get xComments(){return!!Object(Y.a)("expandedPostComments")&&(!0===this.post.published&&(this.isCommentable||this.commentCount>0))}get commentCount(){var t;return this.post.id&&(null===(t=this.commentIdsByPost[this.post.id])||void 0===t?void 0:t.length)||0}get xExpandedLayout(){return"expanded"===this.layout}get isDraggingUp(){return this.isDragging&&this.dragDistance<0}get bodyDragHeightString(){if(!this.xExpandedLayout&&!this.isDraggingUp)return"0px";const t=Math.abs(this.dragDistance),e=t/2<=this.maxCommentHeight?t/2:this.maxCommentHeight+(t-2*this.maxCommentHeight);return this.isDragging&&this.dragDistance<0?Math.min(Math.abs(e),this.maxBodyHeight)+"px":"auto"}get commentDragHeightString(){if(!this.xExpandedLayout&&!this.isDraggingUp)return"0px";const t=Math.abs(this.dragDistance),e=t/2<=this.maxBodyHeight?t/2:this.maxBodyHeight+(t-2*this.maxBodyHeight);return this.isDragging&&this.dragDistance<0?Math.min(Math.abs(e),this.maxCommentHeight)+"px":"auto"}onDragStart(){this.isDragging=!0}onDragging(t){this.dragDistance=t}onDragEnd(t){this.isDragging=!1,this.dragDistance=0,this.layout=t<0?"expanded":"collapsed"}calculateTrayHeight(){var t;this.preferredTrayStartHeight=28+(this.$refs.author?this.$refs.author.scrollHeight+10:0)+(this.$refs.postSubject?this.$refs.postSubject.scrollHeight:0)+(this.$refs.divider?this.$refs.divider.$el.scrollHeight+24:0)+((null===(t=this.$refs.socialContentTopBar)||void 0===t?void 0:t.$el)?this.$refs.socialContentTopBar.$el.scrollHeight:0)+(this.$refs.divider?32:16)}calculateMaxHeightForDraggableComponents(){this.$nextTick(()=>{var t,e;this.maxBodyHeight=(null===(t=this.$refs.bodyWrapper)||void 0===t?void 0:t.scrollHeight)||1/0,this.maxCommentHeight=(null===(e=this.$refs.commentWrapper)||void 0===e?void 0:e.$el.scrollHeight)||1/0})}onExpandedPostChange(){this.$nextTick(()=>{this.calculateTrayHeight()}),this.calculateMaxHeightForDraggableComponents()}mounted(){this.calculateTrayHeight(),this.calculateMaxHeightForDraggableComponents()}};mt([Object(d.d)("browser").Getter,ft("design:type",Boolean)],yt.prototype,"isSmallerThanTabletPortrait",void 0),mt([Object(d.d)("browser").Getter,ft("design:type",Number)],yt.prototype,"windowHeight",void 0),mt([Object(d.d)("browser").State,ft("design:type",Object)],yt.prototype,"darkMode",void 0),mt([d.b,ft("design:type",Boolean)],yt.prototype,"xAuthor",void 0),mt([Object(d.d)("postAction").Getter,ft("design:type",Object)],yt.prototype,"expandedPost",void 0),mt([Object(d.d)("section").Getter,ft("design:type",Function)],yt.prototype,"sectionById",void 0),mt([Object(d.d)("userContributor").Getter,ft("design:type",Function)],yt.prototype,"getUserById",void 0),mt([d.b,ft("design:type",Boolean)],yt.prototype,"isPhone",void 0),mt([d.b,ft("design:type",Boolean)],yt.prototype,"isReactable",void 0),mt([d.b,ft("design:type","function"===typeof(lt="undefined"!==typeof WallReactionData&&WallReactionData)?lt:Object)],yt.prototype,"reactionData",void 0),mt([d.b,ft("design:type","function"===typeof(ct="undefined"!==typeof User&&User)?ct:Object)],yt.prototype,"user",void 0),mt([Object(d.d)("reaction").Getter,ft("design:type",Object)],yt.prototype,"reactionIdsByPost",void 0),mt([Object(d.d)("reaction").State,ft("design:type","function"===typeof(pt="undefined"!==typeof Id&&Id)?pt:Object)],yt.prototype,"postIdBeingReactedTo",void 0),mt([Object(d.d)("reaction").Action,ft("design:type",Function)],yt.prototype,"startEditingReaction",void 0),mt([d.b,ft("design:type",Boolean)],yt.prototype,"isCommentable",void 0),mt([Object(d.d)("comment").Getter,ft("design:type",Object)],yt.prototype,"commentIdsByPost",void 0),mt([Object(r.g)("expandedPost"),ft("design:type",Function),ft("design:paramtypes",[]),ft("design:returntype",void 0)],yt.prototype,"onExpandedPostChange",null),yt=mt([Object(r.a)({components:{OzAvatar:q.a,OzDivider:m.b,OzDrawerDraggable:gt.a,OzIcon:x.default,RelativeTime:V.a,SurfacePanelPostExpandedTextPanelComments:it,SurfacePostBody:nt.a,SurfacePostSocialContentTopBar:st.a}})],yt);var vt,bt=yt,xt=Object(I.a)(bt,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("OzDrawerDraggable",{attrs:{"dark-mode":t.darkMode,"x-drawer-handle":!0,"preferred-tray-start-height":t.preferredTrayStartHeight,"should-full-size-cover-screen":!0,"window-height":t.windowHeight,"x-scrim":!1,"is-scrim-spectral":!0,"min-top-margin":50},on:{dragstart:t.onDragStart,dragging:t.onDragging,dragend:t.onDragEnd,"scrim-click":function(e){return t.$emit("close")}}},[e("template",{slot:"body"},[e("div",{class:["flex flex-col","overflow-y-auto scrollbar-regular dark:scrollbar-regular-dark","px-3","bg-light-ui-100 dark:bg-dark-ui-100"],attrs:{"aria-live":"polite"}},[e("div",{staticClass:"px-3"},[t.xAuthor?e("div",{ref:"author",staticClass:"flex items-center mb-2.5"},[e(t.isAuthorRegistered?"a":"span",{tag:"component",staticClass:"flex items-center",attrs:{href:t.author.profile_url,target:"_blank"}},[e("OzAvatar",{staticClass:"me-3 rounded-full",attrs:{src:t.author.avatar,width:20,height:20,"alt-text-name":t.authorName}}),t._v(" "),e("span",{staticClass:"text-body-small text-dark-text-100 dark:text-light-text-100"},[e("strong",[t._v(t._s(t.authorName))])])],1),t._v(" "),e("RelativeTime",{staticClass:"ms-1 text-body-small text-dark-text-200 dark:text-light-text-200",attrs:{datetime:t.post.updated_at}})],1):t._e(),t._v(" "),t.post.subject?e("h3",{ref:"postSubject",class:[(t.xExpandedLayout||t.isDragging)&&"mb-2.5","text-heading-3 font-semibold break-words text-dark-text-100 dark:text-light-text-100","select-text"]},[t._v("\n          "+t._s(t.post.subject)+"\n        ")]):t._e(),t._v(" "),e("div",{ref:"bodyWrapper",class:{"overflow-hidden":!t.xExpandedLayout||t.isDragging},style:{height:t.bodyDragHeightString}},[t.postBody?e("SurfacePostBody",{staticClass:"text-body",attrs:{content:t.postBody,"is-text-selectable":!0}}):t._e(),t._v(" "),t.post.location_name?e("div",{staticClass:"flex items-start mt-4.5"},[e("OzIcon",{staticClass:"text-dark-text-300 dark:text-light-text-300",attrs:{name:"location_marker",size:16}}),t._v(" "),e("p",{staticClass:"ms-2.5 text-body-extra-small text-dark-text-100 dark:text-light-text-100 hover:cursor-pointer hover:underline",on:{click:t.openInMap}},[t._v("\n              "+t._s(t.post.location_name)+"\n            ")])],1):t._e(),t._v(" "),t.section?e("div",{staticClass:"flex items-start mt-4.5"},[e("OzIcon",{staticClass:"text-dark-text-300 dark:text-light-text-300",attrs:{name:"section",size:16}}),t._v(" "),e("p",{staticClass:"ms-2.5 text-body-extra-small text-dark-text-100 dark:text-light-text-100"},[t._v("\n              "+t._s(t.section.title)+"\n            ")])],1):t._e()],1)]),t._v(" "),t.xDivider?e("OzDivider",{ref:"divider",staticClass:"flex-shrink-0 mt-6",attrs:{"color-scheme":t.OzDividerColorScheme.Solid}}):t._e(),t._v(" "),t.xComments||t.xReactions?e("SurfacePostSocialContentTopBar",{ref:"socialContentTopBar",class:{"mt-4":t.xDivider,"mb-2 desktop:mb-3":t.xExpandedLayout||t.isDragging,"mb-4":!t.xExpandedLayout,"px-3":!0},attrs:{post:t.post,"usage-context":"postExpandedView"}}):t._e(),t._v(" "),t.xComments?e("SurfacePanelPostExpandedTextPanelComments",{ref:"commentWrapper",class:{"flex-grow":!0,"overflow-hidden":!t.xExpandedLayout||t.isDragging},style:{height:t.commentDragHeightString},attrs:{"should-comment-input-stick-to-screen":t.xExpandedLayout}}):t._e()],1)])],2)}),[],!1,null,null,null).exports,Pt=o(92),_t=o(468),Ot=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},kt=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let St=class extends r.f{constructor(){super(...arguments),this.OzDividerColorScheme=m.a,this.OzIconButtonColorScheme=f.a,this.OzIconButtonSizePreset=f.c,this.removeKeyboardShortcutsListener=()=>{}}get accessiblePostCounterDescription(){return this.__("Post %{postIndex} of %{numTotalPosts}",{postIndex:this.postIndex+1,numTotalPosts:this.totalPosts})}get postIndex(){return this.expandedPostPostsToNavigate.findIndex(t=>t.cid===this.expandedPost.cid)}get totalPosts(){return this.expandedPostPostsToNavigate.length}get isFirstPost(){return 0===this.postIndex}get isLastPost(){return this.postIndex===this.totalPosts-1}goToPrevious(){if(this.isFirstPost)return;const t=this.expandedPostPostsToNavigate[this.postIndex-1];t&&this.expandPost({postCid:t.cid})}goToNext(){if(this.isLastPost)return;const t=this.expandedPostPostsToNavigate[this.postIndex+1];t&&this.expandPost({postCid:t.cid})}toggleTextPanel(){this.$emit("toggle-text-panel")}togglePostActionMenu(){this.$emit("toggle-post-action-menu")}expandPost(t){this.$emit("expand-post",t)}close(){this.$emit("close")}installKeyboardShortcuts(){this.removeKeyboardShortcutsListener=Object(_t.a)(window,{ArrowLeft:()=>{var t,e;Object(Pt.a)()||(this.goToPrevious(),null===(e=null===(t=this.$refs.previousButton)||void 0===t?void 0:t.$el)||void 0===e||e.focus(),Object(X.e)("keyboard",{target:"expanded-view-go-to-previous-post"}))},ArrowRight:()=>{var t,e;Object(Pt.a)()||(this.goToNext(),null===(e=null===(t=this.$refs.nextButton)||void 0===t?void 0:t.$el)||void 0===e||e.focus(),Object(X.e)("keyboard",{target:"expanded-view-go-to-next-post"}))}})}mounted(){this.installKeyboardShortcuts()}beforeDestroy(){this.removeKeyboardShortcutsListener()}};Ot([Object(d.d)("browser").Getter,kt("design:type",Boolean)],St.prototype,"isSmallerThanDesktop",void 0),Ot([Object(d.d)("browser").Getter,kt("design:type",Boolean)],St.prototype,"isSmallerThanTabletPortrait",void 0),Ot([Object(d.d)("postAction").Getter,kt("design:type","function"===typeof(vt="undefined"!==typeof Post&&Post)?vt:Object)],St.prototype,"expandedPost",void 0),Ot([Object(d.d)("postAction").Getter,kt("design:type",Array)],St.prototype,"expandedPostPostsToNavigate",void 0),Ot([Object(d.d)("browser").State,kt("design:type",Object)],St.prototype,"darkMode",void 0),Ot([Object(d.d)("postAction").Getter,kt("design:type",Boolean)],St.prototype,"xExpandedPostTextPanel",void 0),St=Ot([Object(r.a)({components:{OzDivider:m.b,OzIconButton:f.d}})],St);var wt,At,Ct=St,Tt=Object(I.a)(Ct,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["px-2 pt-1 pb-1.5 desktop:p-4","flex flex-row justify-between items-center desktop:flex-col desktop:justify-start","h-10 desktop:h-auto","desktop:w-10"]},[t.isSmallerThanDesktop?t._e():e("div",{staticClass:"w-10 h-10 text-center text-body-small",attrs:{"aria-live":"assertive","aria-label":t.accessiblePostCounterDescription}},[e("div",{staticClass:"font-semibold text-dark-text-100 dark:text-light-text-100",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(t.postIndex+1)+"\n    ")]),t._v(" "),e("OzDivider",{staticClass:"mx-2",attrs:{"color-scheme":t.OzDividerColorScheme.Solid}}),t._v(" "),e("div",{staticClass:"text-dark-text-200 dark:text-light-text-200",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.totalPosts))])],1),t._v(" "),t.isSmallerThanDesktop?e("OzIconButton",{staticClass:"me-12",attrs:{"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.SecondaryClear,"icon-name":"close_thin","icon-size":24,"size-preset":t.OzIconButtonSizePreset.H40px,label:t.__("Close")},on:{click:t.close}}):t._e(),t._v(" "),t.isSmallerThanDesktop?e("div",{staticClass:"flex justify-center items-center"},[e("OzIconButton",{ref:"previousButton",class:t.isFirstPost&&"disabled:bg-transparent",attrs:{"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.SecondaryClear,"icon-name":"chevron_left_center","icon-size":24,"size-preset":t.OzIconButtonSizePreset.H40px,label:t.__("Previous"),disabled:t.isFirstPost,"data-pepin-id":"expanded-view-go-to-previous-post","data-pepin-trigger":"click"},on:{click:t.goToPrevious}}),t._v(" "),e("div",{staticClass:"mx-1.5 text-center text-body-small"},[e("span",{staticClass:"font-semibold text-dark-text-100 dark:text-light-text-100"},[t._v("\n        "+t._s(t.postIndex+1)+"\n      ")]),t._v(" "),e("span",{staticClass:"text-dark-text-200 dark:text-light-text-200"},[t._v(" / "+t._s(t.totalPosts))])]),t._v(" "),e("OzIconButton",{ref:"nextButton",class:t.isLastPost&&"disabled:bg-transparent",attrs:{"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.SecondaryClear,"icon-name":"chevron_right_center","icon-size":24,"size-preset":t.OzIconButtonSizePreset.H40px,label:t.__("Next"),disabled:t.isLastPost,"data-pepin-id":"expanded-view-go-to-next-post","data-pepin-trigger":"click"},on:{click:t.goToNext}})],1):t._e(),t._v(" "),t.isSmallerThanDesktop?t._e():e("div",{staticClass:"flex justify-center items-center flex-col"},[e("OzIconButton",{ref:"nextButton",staticClass:"mt-3",attrs:{"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.Secondary,"icon-name":"chevron_right_center","icon-size":16,"size-preset":t.OzIconButtonSizePreset.H40px,label:t.__("Next"),disabled:t.isLastPost,"data-pepin-id":"expanded-view-go-to-next-post","data-pepin-trigger":"click"},on:{click:t.goToNext}}),t._v(" "),e("OzIconButton",{ref:"previousButton",staticClass:"mt-3",attrs:{"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.Secondary,"icon-name":"chevron_left_center","icon-size":16,"size-preset":t.OzIconButtonSizePreset.H40px,label:t.__("Previous"),disabled:t.isFirstPost,"data-pepin-id":"expanded-view-go-to-previous-post","data-pepin-trigger":"click"},on:{click:t.goToPrevious}})],1),t._v(" "),e("div",{staticClass:"flex justify-end items-center desktop:block"},[e("OzIconButton",{staticClass:"desktop:mt-3",attrs:{tabindex:t.isSmallerThanDesktop&&!t.isSmallerThanTabletPortrait&&t.xExpandedPostTextPanel?-1:void 0,"is-active":t.xExpandedPostTextPanel,"dark-mode":t.darkMode,"color-scheme":t.isSmallerThanDesktop?t.OzIconButtonColorScheme.SecondaryClear:t.OzIconButtonColorScheme.Secondary,"icon-name":"note_outline","active-icon-name":"note_filled","icon-size":t.isSmallerThanDesktop?24:16,label:t.__("Text panel"),"data-pepin-id":t.xExpandedPostTextPanel?"expanded-view-show-text-panel":"expanded-view-hide-text-panel","data-pepin-trigger":"click"},on:{click:function(e){return t.toggleTextPanel()}}}),t._v(" "),e("OzIconButton",{ref:"actionMenuButton",staticClass:"ms-2 desktop:mx-auto desktop:mt-3",attrs:{tabindex:t.isSmallerThanDesktop&&!t.isSmallerThanTabletPortrait&&t.xExpandedPostTextPanel?-1:void 0,"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.SecondaryClear,"icon-name":"dot_3_horizontal","icon-size":24,label:t.__("More")},on:{click:function(e){return t.togglePostActionMenu()}}})],1)],1)}),[],!1,null,null,null).exports,jt=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},Dt=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let zt=class extends r.f{constructor(){super(...arguments),this.OzDividerColorScheme=m.a,this.OzIconButtonColorScheme=f.a,this.OzIconButtonSizePreset=f.c,this.displayAttributes=null,this.xActionMenu=!1,this.actionMenuAnchor={},this.debouncedUpdateActionMenuAnchor=h()(()=>{p.a.visualViewport&&p.a.visualViewport.scale>1||this.updateActionMenuAnchor()},500)}get attachmentUrl(){var t,e,o,i;return(null===(o=null===(e=null===(t=this.expandedPost)||void 0===t?void 0:t.wish_content)||void 0===e?void 0:e.attachment_props)||void 0===o?void 0:o.url)||(null===(i=this.expandedPost)||void 0===i?void 0:i.attachment)}get downloadUrl(){return this.attachmentUrl?Object(l.d)(this.attachmentUrl):void 0}get attachmentCaption(){const t=this.expandedPost.attachment_caption,e=Object(v.b)(this.displayAttributes);return Object(v.a)({postAttachmentCaption:t,defaultCaption:e})||""}get attachmentIsImage(){var t;return"photo"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)}get attachmentIsUpload(){var t,e;return"padlet drive"===(null===(e=null===(t=this.displayAttributes)||void 0===t?void 0:t.provider_name)||void 0===e?void 0:e.toLowerCase())}get attachmentIsDownloadable(){return Object(l.h)(this.displayAttributes)}get hasAttachment(){return this.expandedPost?(t=>{var e;return!!(null===(e=t.wish_content)||void 0===e?void 0:e.attachment_props)||!!t.attachment})(this.expandedPost):(Object(c.c)("expandedPost should not be undefined"),!1)}close(){this.unexpandPost()}toggleTextPanel(t){this.toggleExpandedPostTextPanel(t),this.isPhone&&this.xExpandedPostTextPanel&&this.togglePostActionMenu({status:!1})}togglePostActionMenu(t){this.xActionMenu=void 0!==(null===t||void 0===t?void 0:t.status)?t.status:!this.xActionMenu,this.isPhone&&this.xActionMenu&&this.toggleExpandedPostTextPanel({status:!1})}updateActionMenuAnchor(){var t,e,o;const i=(null===(t=this.$refs.actionMenuButton)||void 0===t?void 0:t.$el)||(null===(o=null===(e=this.$refs.toolbar)||void 0===e?void 0:e.$refs.actionMenuButton)||void 0===o?void 0:o.$el);if(!i)return;const n=Object(y.c)(i,this.isSmallerThanDesktop?{top:52,left:"rtl"===this.dir?-36:-15}:{top:12,left:"rtl"===this.dir?-4:-47});this.actionMenuAnchor=Object.assign(Object.assign({},n),{position:"side"})}async handleAttachmentUrlChange(){this.displayAttributes=null,await this.fetchDisplayAttributesForPost(this.expandedPost.cid),this.displayAttributes=this.linkDisplayAttributesForPost(this.expandedPost.cid)}addZoomFixStyle(){document.getElementsByTagName("html")[0].classList.add("expanded-post")}removeZoomFixStyle(){document.getElementsByTagName("html")[0].classList.remove("expanded-post")}onWindowResize(){this.debouncedUpdateActionMenuAnchor()}mounted(){this.$nextTick(()=>{this.hasAttachment||this.toggleExpandedPostTextPanel({status:!0})}),this.updateActionMenuAnchor(),this.addZoomFixStyle(),p.a.addEventListener("resize",this.onWindowResize)}beforeDestroy(){this.removeZoomFixStyle(),p.a.removeEventListener("resize",this.onWindowResize)}};jt([d.b,Dt("design:type",String)],zt.prototype,"dir",void 0),jt([Object(d.d)("browser").Getter,Dt("design:type",Boolean)],zt.prototype,"isPhone",void 0),jt([Object(d.d)("browser").Getter,Dt("design:type",Boolean)],zt.prototype,"isSmallerThanDesktop",void 0),jt([Object(d.d)("browser").Getter,Dt("design:type",Boolean)],zt.prototype,"isSmallerThanTabletPortrait",void 0),jt([Object(d.d)("browser").Getter,Dt("design:type",Number)],zt.prototype,"windowHeight",void 0),jt([Object(d.d)("browser").State,Dt("design:type",Object)],zt.prototype,"darkMode",void 0),jt([Object(d.d)("post").Getter,Dt("design:type",Function)],zt.prototype,"getPostByCid",void 0),jt([Object(d.d)("postAction").Action,Dt("design:type",Function)],zt.prototype,"expandPost",void 0),jt([Object(d.d)("postAction").Getter,Dt("design:type","function"===typeof(wt="undefined"!==typeof Post&&Post)?wt:Object)],zt.prototype,"expandedPost",void 0),jt([Object(d.d)("postAction").Action,Dt("design:type",Function)],zt.prototype,"unexpandPost",void 0),jt([Object(d.d)("postAction").Action,Dt("design:type",Function)],zt.prototype,"toggleExpandedPostTextPanel",void 0),jt([Object(d.d)("postAction").Getter,Dt("design:type",Boolean)],zt.prototype,"xExpandedPostTextPanel",void 0),jt([Object(d.d)("attachment").Getter,Dt("design:type",Function)],zt.prototype,"linkDisplayAttributesForPost",void 0),jt([Object(d.d)("attachment").Action,Dt("design:type",Function)],zt.prototype,"fetchDisplayAttributesForPost",void 0),jt([Object(r.g)("attachmentUrl",{immediate:!0}),Dt("design:type",Function),Dt("design:paramtypes",[]),Dt("design:returntype","function"===typeof(At="undefined"!==typeof Promise&&Promise)?At:Object)],zt.prototype,"handleAttachmentUrlChange",null),zt=jt([Object(r.a)({components:{OzOverlay:g.a,OzDivider:m.b,OzIconButton:f.d,SurfacePanelPostExpandedActionMenu:M,SurfacePanelPostExpandedApprovalBanner:G,SurfacePanelPostExpandedAttachment:U.a,SurfacePanelPostExpandedTextPanel:ht,SurfacePanelPostExpandedTextPanelMobile:xt,SurfacePanelPostExpandedToolbar:Tt}})],zt);var It=zt,Mt=(o(1339),Object(I.a)(It,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("OzOverlay",{class:["flex","items-center","justify-center","font-sans"],attrs:{"aria-modal":"true",role:"dialog",dir:t.dir},on:{"scrim-esc":t.close}},[e("div",{class:["overflow-auto","flex flex-col desktop:flex-row","w-full","h-full","bg-grey-0 dark:bg-grey-850"]},[t.isSmallerThanDesktop?e("SurfacePanelPostExpandedToolbar",{ref:"toolbar",on:{"toggle-text-panel":t.toggleTextPanel,"toggle-post-action-menu":t.togglePostActionMenu,"expand-post":t.expandPost,close:t.close}}):t._e(),t._v(" "),t.xExpandedPostTextPanel&&t.isSmallerThanTabletPortrait?e("SurfacePanelPostExpandedTextPanelMobile",{on:{close:function(e){return t.toggleTextPanel({status:!1})}}}):t.xExpandedPostTextPanel&&t.isSmallerThanDesktop?e("div",{class:["absolute top-0 end-0","flex flex-col","w-68.5 h-vh100","bg-light-ui-100 dark:bg-dark-ui-100","z-10"]},[t.isSmallerThanDesktop&&!t.isSmallerThanTabletPortrait?e("div",{class:["flex flex-row justify-end items-center","h-10","pt-1 pb-1.5 pe-2"]},[e("OzIconButton",{attrs:{"is-active":!0,"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.SecondaryClearActive,"icon-name":"note_outline","active-icon-name":"note_filled","icon-size":24,label:t.__("Text panel"),"size-preset":t.OzIconButtonSizePreset.H40px,"data-pepin-id":"expanded-view-hide-text-panel","data-pepin-trigger":"click"},on:{click:function(e){return t.toggleTextPanel()}}}),t._v(" "),e("OzIconButton",{ref:"actionMenuButton",staticClass:"ms-2",attrs:{"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.SecondaryClear,"icon-name":"dot_3_horizontal","icon-size":24,label:t.__("More"),"size-preset":t.OzIconButtonSizePreset.H40px},on:{click:function(e){return t.togglePostActionMenu()}}})],1):t._e(),t._v(" "),e("SurfacePanelPostExpandedTextPanel",{staticClass:"flex-grow"})],1):t._e(),t._v(" "),t.isSmallerThanDesktop?e("div",{class:["max-h-7.5","px-20 pb-3.25",t.xExpandedPostTextPanel&&!t.isSmallerThanTabletPortrait&&"box-border w-[calc(100vw-274px)]","text-body-extra-small","text-center","truncate","text-dark-text-200 dark:text-light-text-200"],attrs:{"aria-live":"polite"}},[t._v("\n      "+t._s(t.attachmentCaption)+"\n    ")]):t._e(),t._v(" "),e("div",{class:["w-full","h-full","flex","flex-col","overflow-hidden",!t.hasAttachment&&["dot-grid","relative"]]},[e("div",{ref:"attachmentArea",class:[!t.hasAttachment&&"dot-grid-filter",!t.isSmallerThanDesktop&&"relative","flex","flex-col","flex-grow","h-full"]},[e("div",{class:["relative","flex flex-col items-center flex-grow","h-full",t.xExpandedPostTextPanel&&t.isSmallerThanDesktop&&!t.isSmallerThanTabletPortrait?"w-[calc(100vw-274px)]":"w-full"]},[t.hasAttachment?e("SurfacePanelPostExpandedAttachment",{key:t.attachmentUrl,staticClass:"flex-grow self-end",attrs:{"aria-live":"polite","safe-area":{width:64,height:64},"display-attributes":t.displayAttributes,"dark-mode":t.darkMode}}):e("div",{staticClass:"flex items-center justify-center flex-grow",attrs:{"aria-live":"polite"}},[t.xExpandedPostTextPanel?t._e():e("span",{staticClass:"text-dark-text-400 dark:text-light-text-400 font-semibold text-17"},[t._v(t._s(t.__("No attachment")))])]),t._v(" "),t.expandedPost.published?t._e():e("SurfacePanelPostExpandedApprovalBanner")],1),t._v(" "),t.isSmallerThanDesktop?t._e():e("OzIconButton",{staticClass:"absolute top-0 start-0 mt-4 me-2 mb-2 ms-4",attrs:{"dark-mode":t.darkMode,"color-scheme":t.OzIconButtonColorScheme.SecondaryClear,"icon-name":"close","icon-size":16,label:t.__("Close"),"size-preset":t.OzIconButtonSizePreset.H40px},on:{click:t.close}})],1)]),t._v(" "),!t.isSmallerThanDesktop&&t.xExpandedPostTextPanel?e("div",{class:["flex-shrink-0 flex flex-col","w-80 pt-4","bg-light-ui-100 dark:bg-dark-ui-100"]},[e("SurfacePanelPostExpandedTextPanel",{staticClass:"flex-grow",attrs:{"attachment-caption":t.attachmentCaption}})],1):t._e(),t._v(" "),t.isSmallerThanDesktop?t._e():e("SurfacePanelPostExpandedToolbar",{ref:"toolbar",on:{"toggle-text-panel":t.toggleTextPanel,"toggle-post-action-menu":t.togglePostActionMenu,"expand-post":t.expandPost,close:t.close}})],1),t._v(" "),t.xActionMenu?e("SurfacePanelPostExpandedActionMenu",{attrs:{"post-cid":t.expandedPost.cid,"attachment-is-downloadable":t.attachmentIsDownloadable,"attachment-url":t.attachmentUrl,"download-url":t.downloadUrl,"popover-anchor":t.actionMenuAnchor},on:{"trigger-anchor-update":t.updateActionMenuAnchor,close:function(e){return t.togglePostActionMenu({status:!1})}}}):t._e()],1)}),[],!1,null,null,null));e.default=Mt.exports},182:function(t,e,o){"use strict";var i=o(2),n=o(91),s=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},a=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let r=class extends i.f{constructor(){super(...arguments),this.isTouchingTopOfScreen=!1}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}mounted(){this.fullSize&&(this.isTouchingTopOfScreen=!0),this.$refs.modalContainer.clientHeight>=this.$el.clientHeight&&(this.isTouchingTopOfScreen=!0)}};s([Object(i.e)({default:!1}),a("design:type",Boolean)],r.prototype,"fullSize",void 0),s([Object(i.e)({default:"auto"}),a("design:type",Object)],r.prototype,"darkMode",void 0),s([Object(i.e)({default:!1}),a("design:type",Boolean)],r.prototype,"xScrim",void 0),s([Object(i.e)({default:!1}),a("design:type",Boolean)],r.prototype,"isScrimSpectral",void 0),s([Object(i.e)({default:!0}),a("design:type",Boolean)],r.prototype,"shouldFadeIn",void 0),r=s([Object(i.a)({components:{OzOverlay:n.a}})],r);var d=r,l=(o(276),o(5)),c=Object(l.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition",{attrs:{"leave-active-class":"out",duration:200}},[e("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":t.isScrimSpectral,scrim:t.xScrim?"modal":null,"should-fade-in":t.shouldFadeIn},on:{"scrim-click":t.scrimClick,"scrim-esc":t.scrimEsc}},[e("div",{ref:"modalContainer",class:[{"w-full":!0,"max-h-full":!0,"min-h-full":t.fullSize,"overflow-auto flex flex-col":!0,"modal-container":!0,"shadow-elevation-5":!t.fullSize,"rounded-none":t.isTouchingTopOfScreen,"rounded-3xl rounded-br-none rounded-bl-none":!t.isTouchingTopOfScreen,"full-size":t.fullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===t.darkMode,"bg-light-ui-100 ":!1===t.darkMode,"bg-dark-ui-100":!0===t.darkMode,"pb-safe-inset-bottom":!0}]},[e("div",{class:[{"max-h-full flex flex-grow flex-col overflow-hidden":!0}]},[e("header",[t._t("header")],2),t._v(" "),e("div",{class:{"flex flex-grow flex-col p-0 overflow-auto":!0}},[t._t("body")],2)])])])],1)}),[],!1,null,"77e9b671",null);e.a=c.exports},227:function(t,e,o){var i=o(277);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(77).default)("37daa0f8",i,!0,{})},240:function(t,e,o){"use strict";t.exports=function(t,e){return"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},276:function(t,e,o){"use strict";o(227)},277:function(t,e,o){(t.exports=o(76)(!1)).push([t.i,".modal-container[data-v-77e9b671] {\n  max-height: none;\n  animation-name: modal-slide-up-77e9b671;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-77e9b671] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-77e9b671] {\n    animation-name: modal-slide-down-77e9b671;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-77e9b671 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-77e9b671 {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])},279:function(t,e,o){t.exports=o.p+"media/images/dot_grid_light-5d6d47a89e5b41eabe52b8eba961c929.png"},280:function(t,e,o){t.exports=o.p+"media/images/dot_grid_dark-6b049085d136a66cadc8865290401049.png"},304:function(t,e,o){"use strict";var i=o(2),n=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},s=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let a=class extends i.f{get spinnerStyles(){return{width:this.size+"px",height:this.size+"px"}}};n([Object(i.e)({type:Number,required:!0,default:20}),s("design:type",Number)],a.prototype,"size",void 0),n([Object(i.e)({required:!1,default:"auto"}),s("design:type",Object)],a.prototype,"darkMode",void 0),a=n([Object(i.a)({})],a);var r=a,d=o(5),l=Object(d.a)(r,(function(){var t=this._self._c;this._self._setupProxy;return t("div",{class:["animate-spin rounded-full box-border border-2 border-solid",{"border-light-text-400 border-t-canary-500":!0===this.darkMode,"border-dark-text-400 border-t-grape-500":!1===this.darkMode,"border-dark-text-400 dark:border-light-text-400 border-t-grape-500 dark:border-t-canary-500":"auto"===this.darkMode}],style:this.spinnerStyles})}),[],!1,null,null,null);e.a=l.exports},441:function(t,e,o){"use strict";var i=o(2),n=o(348),s=o.n(n),a=o(91),r=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},d=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let l=class extends i.f{constructor(){super(...arguments),this.MAX_TOP_MARGIN=0,this.MIN_TOP_MARGIN=0,this.DRAG_DISTANCE_AT_TOP=0,this.DRAG_DISTANCE_MIN=0,this.dragDistanceY=0,this.dragDistanceYBeforeStart=0,this.latestVelocityY=0,this.latestPanEventTimestamp=0,this.draggedToFullSize=!1,this.scrollEnabled=!1,this.panEnabled=!1,this.marginTop=0,this.scrollTop=0,this.isDragStartEmittedForScroll=!1,this.scrollWithPan=!1}handleDragDisable(t){t?this.removePanListener():this.addPanListener()}handleResize(t){t?(this.resetElement("full","slow"),setTimeout(()=>{document.documentElement.scrollTop=0},100),this.removePanListener()):(this.resetElement("top","slow"),this.addPanListener())}updateElement(){this.$nextTick(()=>{const t=this.$refs.modalContainer;t&&(this.marginTop=this.MAX_TOP_MARGIN+this.dragDistanceY,this.marginTop==this.MIN_TOP_MARGIN?this.draggedToFullSize=!0:this.draggedToFullSize=!1,t.style.marginTop=this.marginTop+"px")})}addTransition(t="slow"){const e=this.$refs.modalContainer;e&&(e.style.transition="slow"==t?"margin 150ms cubic-bezier(0.4, 0, 0.2, 1)":"margin 50ms cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{e.style.transition=""},"slow"==t?150:100))}resetElement(t="bottom",e="slow"){this.addTransition(e),"bottom"==t?(this.dragDistanceY=0,this.disableScroll()):"top"==t?(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll()):"full"==t?(this.dragDistanceY=-this.MAX_TOP_MARGIN,this.enableScroll()):"out"===t&&(this.dragDistanceY=this.windowHeight),this.updateElement()}computeEndVelocity({endEvent:t,lastPanEvent:e}){const o=(t.velocity+e.velocity)/Math.abs(t.velocity+e.velocity);return t.timestamp-e.timestamp>60?o*Math.max(Math.abs(e.velocity),t.velocity)*1e3:o*Math.abs(t.velocity)*1e3}get isScrollingWholeModal(){return"whole"==this.scrollType}get scrollingElement(){return this.isScrollingWholeModal?this.$refs.modalContainerInnerWrapper:this.$refs.modalBody}handleTrayScrollStart(t){this.touchStartY=t.touches[0].clientY,this.isDragStartEmittedForScroll=!1}handleTrayScroll(t){if(!this.scrollEnabled)return void(t.cancelable&&t.preventDefault());this.isDragStartEmittedForScroll||(this.isDragStartEmittedForScroll=!0,this.$emit("dragstart"));const e=this.scrollingElement;e&&(this.panEnabled&&e.scrollTop<0?t.preventDefault():this.panEnabled&&0==e.scrollTop&&(this.touchStartY&&this.touchStartY>t.changedTouches[0].clientY+5||this.touchStartY&&this.touchStartY<t.changedTouches[0].clientY-5&&t.cancelable&&t.preventDefault()),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=void 0),this.scrollTimeout=setTimeout(()=>{this.scrollTop=e.scrollTop;this.scrollTop<=5?this.addPanListener():this.removePanListener()},250))}enableScroll(){this.scrollEnabled=!0,this.scrollingElement.style.overflow="auto"}disableScroll(){this.scrollEnabled=!1,this.scrollingElement.style.overflow="visible"}handleStartPan(){this.dragDistanceYBeforeStart=this.dragDistanceY;const t=this.scrollingElement;this.scrollEnabled&&0==t.scrollTop&&(this.scrollWithPan=!0),this.$emit("dragstart")}handlePanMove(t,e,o){if(this.scrollWithPan&&t<0){this.scrollingElement.scrollTop=-t,this.scrollWithPan=!1}else this.dragDistanceY=Math.max(this.dragDistanceYBeforeStart+t,this.DRAG_DISTANCE_AT_TOP),this.updateElement(),this.latestVelocityY=e,this.latestPanEventTimestamp=o,this.$emit("dragging",t)}handlePanEnd(t,e){const o=this.computeEndVelocity({endEvent:{velocity:t,timestamp:e},lastPanEvent:{velocity:this.latestVelocityY,timestamp:this.latestPanEventTimestamp}});this.dragDistanceY<=this.DRAG_DISTANCE_AT_TOP&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll());const i=this.dragDistanceYBeforeStart<=this.DRAG_DISTANCE_AT_TOP;o>300?(this.$emit("swipedown",{isAtTopBeforeDragging:i}),this.latestVelocityY+t>0?this.resetElement("bottom","fast"):this.resetElement("top","fast")):o<-300?(this.$emit("swipeup",{isAtTopBeforeDragging:i}),this.latestVelocityY+t<0?this.resetElement("top","fast"):this.resetElement("bottom","fast")):this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP/2?this.resetElement("bottom","slow"):this.DRAG_DISTANCE_AT_TOP/2>this.dragDistanceY&&this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP&&this.resetElement("top","slow"),this.$emit("dragend",this.dragDistanceY)}addPanListener(){if(!this.fullSize)if(this.disableDrag)this.enableScroll();else{if(!this.hammer){const t=this.$refs.modalContainerInner;this.hammer=new s.a(t)}this.hammer.get("pan").set({direction:s.a.DIRECTION_VERTICAL}),this.hammer.on("panstart",t=>{this.handleStartPan()}),this.hammer.on("panmove",t=>{this.handlePanMove(t.deltaY,t.velocityY,t.timeStamp)}),this.hammer.on("panend",t=>{this.handlePanEnd(t.velocityY,t.timeStamp)}),this.panEnabled=!0}}removePanListener(){this.hammer&&(this.hammer.off("panstart panmove panend"),this.panEnabled=!1)}computePrecalculatedMeasurement(){this.MAX_TOP_MARGIN=this.preferredTrayStartHeight?this.windowHeight-this.preferredTrayStartHeight:this.windowHeight/4,this.MIN_TOP_MARGIN=(()=>{var t;if(this.shouldFullSizeCoverScreen)return this.minTopMargin;const e=this.$refs.modalBodyContent;if(e){const o=this.windowHeight-e.clientHeight-(null===(t=this.$refs.header)||void 0===t?void 0:t.clientHeight);return o>this.MAX_TOP_MARGIN||o<0?this.minTopMargin:o}return this.minTopMargin})(),this.DRAG_DISTANCE_AT_TOP=-this.MAX_TOP_MARGIN+Math.max(0,this.MIN_TOP_MARGIN),this.DRAG_DISTANCE_MIN=-this.MAX_TOP_MARGIN+this.MIN_TOP_MARGIN}setStartingTopMargin(){this.marginTop=this.MAX_TOP_MARGIN,(this.fullSize||this.draggedToFullSize)&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP),this.updateElement()}recalculateMeasurement(){this.$nextTick(()=>{this.computePrecalculatedMeasurement(),this.setStartingTopMargin()})}mounted(){this.computePrecalculatedMeasurement(),this.setStartingTopMargin(),this.addPanListener()}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}};r([Object(i.e)({default:!0}),d("design:type",Boolean)],l.prototype,"xHeader",void 0),r([Object(i.e)({required:!0}),d("design:type",Number)],l.prototype,"windowHeight",void 0),r([Object(i.e)({default:!1}),d("design:type",Boolean)],l.prototype,"xDrawerHandle",void 0),r([Object(i.e)({default:!1}),d("design:type",Boolean)],l.prototype,"fullSize",void 0),r([Object(i.e)({default:!1}),d("design:type",Boolean)],l.prototype,"disableDrag",void 0),r([Object(i.e)({default:"body"}),d("design:type",String)],l.prototype,"scrollType",void 0),r([Object(i.e)({default:"auto"}),d("design:type",Object)],l.prototype,"darkMode",void 0),r([Object(i.e)({default:void 0}),d("design:type",Number)],l.prototype,"preferredTrayStartHeight",void 0),r([Object(i.e)({default:!1}),d("design:type",Boolean)],l.prototype,"shouldFullSizeCoverScreen",void 0),r([Object(i.e)({default:!1}),d("design:type",Boolean)],l.prototype,"xScrim",void 0),r([Object(i.e)({default:!1}),d("design:type",Boolean)],l.prototype,"isScrimSpectral",void 0),r([Object(i.e)({default:!0}),d("design:type",Boolean)],l.prototype,"shouldFadeIn",void 0),r([Object(i.e)({default:0}),d("design:type",Number)],l.prototype,"minTopMargin",void 0),r([Object(i.g)("disableDrag"),d("design:type",Function),d("design:paramtypes",[Boolean]),d("design:returntype",void 0)],l.prototype,"handleDragDisable",null),r([Object(i.g)("fullSize"),d("design:type",Function),d("design:paramtypes",[Boolean]),d("design:returntype",void 0)],l.prototype,"handleResize",null),r([Object(i.g)("preferredTrayStartHeight"),d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],l.prototype,"recalculateMeasurement",null),l=r([Object(i.a)({components:{OzOverlay:a.a}})],l);var c=l,p=(o(536),o(5)),u=Object(p.a)(c,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition",{attrs:{"leave-active-class":"out"}},[e("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":t.isScrimSpectral,scrim:t.xScrim?"modal":null,"should-fade-in":t.shouldFadeIn},on:{"scrim-click":t.scrimClick,"scrim-esc":t.scrimEsc}},[e("div",{ref:"modalContainer",class:[{"mt-96 min-h-auto w-full":!0,"h-full":t.shouldFullSizeCoverScreen,"overflow-auto flex flex-col":!0,"modal-container":!0,"shadow-elevation-5":!t.fullSize&&!t.draggedToFullSize,"rounded-none":(t.fullSize||t.draggedToFullSize)&&t.MIN_TOP_MARGIN===t.minTopMargin,"rounded-3xl rounded-br-none rounded-bl-none":!t.fullSize&&!t.draggedToFullSize||t.MIN_TOP_MARGIN>t.minTopMargin,"full-size":t.fullSize||t.draggedToFullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===t.darkMode,"bg-light-ui-100 ":!1===t.darkMode,"bg-dark-ui-100":!0===t.darkMode,"pb-safe-inset-bottom":!0}]},[e("div",{ref:"modalContainerInner",class:[{"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===t.darkMode,"bg-light-ui-100 ":!1===t.darkMode,"bg-dark-ui-100":!0===t.darkMode,"min-h-full flex flex-grow flex-col overflow-hidden":!0}]},[e("div",{ref:"modalContainerInnerWrapper",class:[t.isScrollingWholeModal?"block":"contents","pb-0"]},[t.xHeader?e("header",{ref:"header"},[t.xDrawerHandle?e("div",{staticClass:"flex justify-center mb-2 pt-1",attrs:{id:"tray-expander-controller"}},[e("div",{staticClass:"rounded w-7 h-1 bg-highway-disabled dark:bg-white-disabled"})]):t._e(),t._v(" "),t._t("header")],2):t._e(),t._v(" "),e("div",{ref:"modalBody",class:{"h-auto flex flex-grow flex-col p-0 overflow-hidden":!0,"overflow-y-auto":t.fullSize||t.draggedToFullSize},on:{touchstart:t.handleTrayScrollStart,touchmove:t.handleTrayScroll,touchend:function(e){return t.$emit("dragend",t.dragDistanceY)}}},[e("div",{ref:"modalBodyContent"},[t._t("body")],2)])])])])])],1)}),[],!1,null,"53b37445",null);e.a=u.exports},463:function(t,e,o){var i=o(537);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(77).default)("33433caf",i,!0,{})},536:function(t,e,o){"use strict";o(463)},537:function(t,e,o){(t.exports=o(76)(!1)).push([t.i,".modal-container[data-v-53b37445] {\n  max-height: none;\n  animation-name: modal-slide-up-53b37445;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-53b37445] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-53b37445] {\n    animation-name: modal-slide-down-53b37445;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-53b37445 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-53b37445 {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])},566:function(t,e,o){"use strict";var i=o(2),n=o(182),s=o(441),a=o(191),r=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},d=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let l=class extends i.f{};r([Object(i.e)({default:!1}),d("design:type",Boolean)],l.prototype,"isPhone",void 0),r([Object(i.e)({default:!1}),d("design:type",Boolean)],l.prototype,"isDraggableDrawer",void 0),l=r([Object(i.a)({components:{OzDrawerStatic:n.a,OzDrawerDraggable:s.a,OzPopoverModal:a.b}})],l);var c=l,p=o(5),u=Object(p.a)(c,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.isPhone&&!t.isDraggableDrawer?e("OzDrawerStatic",t._b({on:{"scrim-click":function(e){return t.$emit("scrim-click")},"scrim-esc":function(e){return t.$emit("scrim-esc")}}},"OzDrawerStatic",{...t.$props,...t.$attrs},!1),[t._l(t.$slots,(function(e,o){return t._t(o,null,{slot:o})}))],2):t.isPhone&&t.isDraggableDrawer?e("OzDrawerDraggable",t._b({on:{"scrim-click":function(e){return t.$emit("scrim-click")},"scrim-esc":function(e){return t.$emit("scrim-esc")},swipedown:function(e){return t.$emit("swipedown",e)},swipeup:function(e){return t.$emit("swipeup",e)}}},"OzDrawerDraggable",{...t.$props,...t.$attrs},!1),[t._l(t.$slots,(function(e,o){return t._t(o,null,{slot:o})}))],2):e("OzPopoverModal",t._b({on:{"trigger-anchor-update":function(e){return t.$emit("trigger-anchor-update")},"scrim-click":function(e){return t.$emit("scrim-click")},"scrim-esc":function(e){return t.$emit("scrim-esc")}}},"OzPopoverModal",{...t.$props,...t.$attrs},!1),[t._l(t.$slots,(function(e,o){return t._t(o,null,{slot:o})}))],2)}),[],!1,null,null,null);e.a=u.exports},597:function(t,e,o){"use strict";var i,n,s,a,r=o(2),d=o(8),l=o(98),c=o(304),p=o(193),u=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},h=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t.DAILYMOTION="dailymotion",t.LOOM="loom",t.VIMEO="vimeo",t.YOUTUBE="youtube"}(a||(a={}));let g=class extends r.f{constructor(){super(...arguments),this.isLoaded=!1,this.attachmentAreaPaddings={paddingLeft:"0px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px"}}get lowerCaseProviderName(){var t;return null===(t=this.displayAttributes)||void 0===t?void 0:t.provider_name.toLowerCase()}get url(){var t;return(null===(t=this.post.wish_content)||void 0===t?void 0:t.attachment_props.url)||this.post.attachment}get isFile(){var t;return"file"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)}get isImage(){var t;return"photo"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)}get isEmbedCodeImgTag(){var t,e;if(!(null===(t=this.displayAttributes)||void 0===t?void 0:t.embed_code))return!1;const o=document.createElement("div");o.innerHTML=null===(e=this.displayAttributes)||void 0===e?void 0:e.embed_code;return"img"===o.firstChild.tagName.toLowerCase()}get isAudio(){var t;return"audio"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)}get isVideo(){var t;return"video"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)}get isResizableVideo(){return Object.values(a).includes(this.lowerCaseProviderName)}get isYoutube(){return"youtube"===this.lowerCaseProviderName}get isSpotify(){return"spotify"===this.lowerCaseProviderName}get isUpload(){return"padlet drive"===this.lowerCaseProviderName}get isDocument(){var t;return"document"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)}get isPdf(){var t,e;return"document"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)&&"pdf"===(null===(e=this.displayAttributes)||void 0===e?void 0:e.content_subcategory)}get isArticle(){var t,e;return"page"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)&&"article"===(null===(e=this.displayAttributes)||void 0===e?void 0:e.content_subcategory)}get isHtml(){var t,e;return"page"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)&&"html"===(null===(e=this.displayAttributes)||void 0===e?void 0:e.content_subcategory)}get isPadletWall(){var t,e;return"padlet"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_subcategory)&&!!(null===(e=this.displayAttributes)||void 0===e?void 0:e.provider_name)&&"padlet"!==this.lowerCaseProviderName}get isFacebookPost(){var t;return"page"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)&&"facebook"===this.lowerCaseProviderName}get isInstagramPost(){var t;return"page"===(null===(t=this.displayAttributes)||void 0===t?void 0:t.content_category)&&"instagram"===this.lowerCaseProviderName}get isTweet(){var t,e,o;return"tweet"===(null===(o=null===(e=null===(t=this.post.wish_content)||void 0===t?void 0:t.attachment_props)||void 0===e?void 0:e.type)||void 0===o?void 0:o.toLowerCase())}get isAttachmentScreenCenteredOnMobile(){var t;return!!this.isSmallerThanTabletPortrait&&(this.isFile||this.isImage||this.isAudio||this.isVideo||!(null===(t=this.displayAttributes)||void 0===t?void 0:t.embed_code))}get attachmentAreaStyles(){var t;return this.isSmallerThanDesktop||!this.safeArea?{}:this.isResizableVideo?{paddingTop:this.safeArea.height+"px",paddingBottom:"16px"}:this.isImage||this.isEmbedCodeImgTag||this.isAudio||this.isVideo||this.isFile||!(null===(t=this.displayAttributes)||void 0===t?void 0:t.embed_code)?this.attachmentAreaPaddings:{width:`calc(100% - ${this.safeArea.width}px)`}}handleAttachmentResize({width:t,height:e}){if(this.isSmallerThanDesktop||!this.safeArea)return;const{clientWidth:o,clientHeight:i}=this.$refs.attachmentArea,n=Math.floor((o-t)/2),s=Math.floor((i-e)/2);if(n>this.safeArea.width||s>this.safeArea.height)return void(this.attachmentAreaPaddings={paddingLeft:"0px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px"});const a=this.safeArea.width-n,r=this.safeArea.height-s;a<r?(this.attachmentAreaPaddings.paddingLeft=this.safeArea.width+"px",this.attachmentAreaPaddings.paddingRight="16px"):a>r&&(this.attachmentAreaPaddings.paddingTop=this.safeArea.height+"px",this.attachmentAreaPaddings.paddingBottom="16px")}handleAttachmentLoaded(){this.isLoaded=!0}onDisplayAttributesChange(){var t;(this.isFile||!this.isImage&&!(null===(t=this.displayAttributes)||void 0===t?void 0:t.embed_code))&&(this.isLoaded=!0)}onPreviousPostCidChange(t){this.preloadAttachmentForPost(t)}onNextPostCidChange(t){this.preloadAttachmentForPost(t)}preloadAttachmentForPost(t){this.$nextTick().then(async()=>{await this.fetchDisplayAttributesForPost(t);const e=this.linkDisplayAttributesForPost(t);"photo"===(null===e||void 0===e?void 0:e.content_category)&&this.preloadImage(e)})}preloadImage(t){const e={width:this.$refs.wrapper.offsetWidth,height:this.$refs.wrapper.offsetHeight},o=t.original_image_url||t.url,i=t.original_image_width,n=t.original_image_height,s={width:i,height:n,aspectRatio:i/n},{width:a,height:r}=Object(p.c)(s,e),d=Object(l.processedUrl)(o,{width:a,height:r});(new Image).src=d}};u([Object(r.e)({required:!0}),h("design:type",Object)],g.prototype,"darkMode",void 0),u([Object(r.e)({required:!0}),h("design:type",Object)],g.prototype,"displayAttributes",void 0),u([Object(r.e)(),h("design:type",Object)],g.prototype,"safeArea",void 0),u([Object(d.d)("browser").Getter,h("design:type",Boolean)],g.prototype,"isSmallerThanDesktop",void 0),u([Object(d.d)("browser").Getter,h("design:type",Boolean)],g.prototype,"isSmallerThanTabletPortrait",void 0),u([Object(d.d)("postAction").Getter("expandedPost"),h("design:type","function"===typeof(i="undefined"!==typeof Post&&Post)?i:Object)],g.prototype,"post",void 0),u([Object(r.g)("displayAttributes"),h("design:type",Function),h("design:paramtypes",[]),h("design:returntype",void 0)],g.prototype,"onDisplayAttributesChange",null),u([Object(d.d)("postAction").Getter,h("design:type",Object)],g.prototype,"expandedPostPreviousPostCid",void 0),u([Object(d.d)("postAction").Getter,h("design:type",Object)],g.prototype,"expandedPostNextPostCid",void 0),u([Object(d.d)("attachment").Getter,h("design:type",Function)],g.prototype,"linkDisplayAttributesForPost",void 0),u([Object(d.d)("attachment").Action,h("design:type",Function)],g.prototype,"fetchDisplayAttributesForPost",void 0),u([Object(r.g)("expandedPostPreviousPostCid",{immediate:!0}),h("design:type",Function),h("design:paramtypes",["function"===typeof(n="undefined"!==typeof Cid&&Cid)?n:Object]),h("design:returntype",void 0)],g.prototype,"onPreviousPostCidChange",null),u([Object(r.g)("expandedPostNextPostCid",{immediate:!0}),h("design:type",Function),h("design:paramtypes",["function"===typeof(s="undefined"!==typeof Cid&&Cid)?s:Object]),h("design:returntype",void 0)],g.prototype,"onNextPostCidChange",null),g=u([Object(r.a)({components:{OzIndeterminateSpinner:c.a,SurfacePanelPostExpandedAttachmentFile:()=>Promise.all([o.e(15),o.e(226)]).then(o.bind(null,1409)),SurfacePanelPostExpandedAttachmentImage:()=>Promise.all([o.e(17),o.e(16),o.e(227)]).then(o.bind(null,1397)),SurfacePanelPostExpandedAttachmentAudio:()=>o.e(225).then(o.bind(null,1410)),SurfacePanelPostExpandedAttachmentVideo:()=>o.e(229).then(o.bind(null,1411)),SurfacePanelPostExpandedAttachmentEmbed:()=>o.e(195).then(o.bind(null,1412)),SurfacePanelPostExpandedAttachmentLink:()=>Promise.all([o.e(17),o.e(15),o.e(16),o.e(228)]).then(o.bind(null,1413))}})],g);var m=g,f=o(5),y=Object(f.a)(m,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"attachmentArea",class:["flex","w-full h-[calc(var(--vh100)-80px)] desktop:h-full",...t.isAttachmentScreenCenteredOnMobile?["absolute","tablet-portrait:static","tablet-portrait:flex-grow","tablet-portrait:overflow-hidden"]:["static","flex-grow","overflow-hidden"]],style:t.attachmentAreaStyles},[e("div",{ref:"wrapper",staticClass:"relative flex flex-grow w-full h-full"},[e("transition",{attrs:{name:"fade"}},[t.isLoaded?t._e():e("div",{staticClass:"absolute left-0 right-0 top-0 bottom-0 flex justify-center items-center"},[e("OzIndeterminateSpinner",{attrs:{"dark-mode":t.darkMode,size:24}})],1)]),t._v(" "),t.isFile&&t.displayAttributes?e("SurfacePanelPostExpandedAttachmentFile",{attrs:{"dark-mode":t.darkMode,extension:t.displayAttributes.extension,size:t.displayAttributes.metadata&&t.displayAttributes.metadata.pretty_size,"download-url":t.displayAttributes.url},on:{load:t.handleAttachmentLoaded}}):(t.isImage||t.isEmbedCodeImgTag)&&t.displayAttributes?e("SurfacePanelPostExpandedAttachmentImage",{attrs:{title:t.displayAttributes.title,"dark-mode":t.darkMode,url:t.displayAttributes.url,"original-image-url":t.displayAttributes.original_image_url,"original-image-width":t.displayAttributes.original_image_width,"original-image-height":t.displayAttributes.original_image_height},on:{load:t.handleAttachmentLoaded,resize:t.handleAttachmentResize}}):t.isAudio&&t.displayAttributes?e("SurfacePanelPostExpandedAttachmentAudio",{attrs:{"embed-code":t.displayAttributes.embed_code,"is-spotify":t.isSpotify},on:{load:t.handleAttachmentLoaded}}):t.isVideo&&t.displayAttributes?e("SurfacePanelPostExpandedAttachmentVideo",{attrs:{"embed-code":t.displayAttributes.embed_code,"embed-width":t.displayAttributes.embed_width,"embed-height":t.displayAttributes.embed_height,"is-upload":t.isUpload,"is-youtube":t.isYoutube,"should-fill-available-space":t.isResizableVideo},on:{load:t.handleAttachmentLoaded,resize:t.handleAttachmentResize}}):t.displayAttributes&&t.displayAttributes.embed_code?e("SurfacePanelPostExpandedAttachmentEmbed",{attrs:{"embed-code":t.displayAttributes.embed_code,"is-document":t.isDocument,"is-article":t.isArticle,"is-html":t.isHtml,"is-facebook-post":t.isFacebookPost,"is-instagram-post":t.isInstagramPost,"is-tweet":t.isTweet},on:{load:t.handleAttachmentLoaded}}):t.displayAttributes?e("SurfacePanelPostExpandedAttachmentLink",{attrs:{"dark-mode":t.darkMode,url:t.displayAttributes.url||t.url,title:t.displayAttributes.title,"is-padlet-wall":t.isPadletWall,description:t.displayAttributes.description,"provider-name":t.displayAttributes.provider_name,"is-fallback-image":t.displayAttributes.is_fallback,"image-url":t.displayAttributes.image_url,"image-width":t.displayAttributes.image_width,"image-height":t.displayAttributes.image_height},on:{load:t.handleAttachmentLoaded}}):t._e()],1)])}),[],!1,null,null,null);e.a=y.exports}}]);
//# sourceMappingURL=151-a30ed7a25bfaac018de2.chunk.js.map