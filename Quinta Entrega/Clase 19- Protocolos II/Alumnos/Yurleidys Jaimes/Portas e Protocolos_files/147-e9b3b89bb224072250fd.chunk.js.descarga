(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[147],{1084:function(e,t,o){"use strict";var i=o(21),r=o(8),n=o(2),a=o(43),s=o(212),l=o(1114),c=o.n(l),d=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},p=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let u=class extends i.b{get scale(){return this.height/37}get hexWidth(){return 32*this.scale}get hexHeight(){return this.height}get bgClasses(){switch(this.backgroundColor){case"pink":return["bg-padlet-pink"];case"green":return["bg-park"];case"orange":return["bg-tangerine"];case"blue":return["bg-oceanic"];case"yellow":return["bg-canary-500"];case"purple":return["bg-grape-500"];case"white":return["bg-light-ui-200"];case"black":return["bg-dark-ui-200"];case"monochrome":return["bg-light-ui-200","dark:bg-nightfall"];case"transparent":return["bg-transparent"];case"loadingColors":return["bg-grape-500","dark:bg-canary-500"]}return["bg-light-ui-200"]}get textClasses(){const e=this.color;switch(this.backgroundColor){case"pink":case"green":case"orange":case"blue":case"purple":case"black":return["primary"==e?"text-white-100":"","secondary"==e?"text-white-200":"","tertiary"==e?"text-white-300":"","disabled"==e?"text-white-400":""];case"yellow":case"white":return["primary"==e?"text-highway-100":"","secondary"==e?"text-highway-200":"","tertiary"==e?"text-highway-300":"","disabled"==e?"text-highway-400":""];case"monochrome":case"transparent":case"loadingColors":return["primary"==e?"text-highway-100 dark:text-white-100":"","secondary"==e?"text-highway-200 dark:text-white-200":"","tertiary"==e?"text-highway-300 dark:text-white-300":"","disabled"==e?"text-highway-400 dark:text-white-400":"","invertedPrimary"==e?"text-white-100 dark:text-highway-100":""]}return[]}get hoverColorClasses(){if(!this.isButton)return[];switch(this.backgroundColor){case"pink":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-padlet-pink-500","pulse-bg-to-padlet-pink-600","dark:pulse-bg-from-padlet-pink-500","dark:pulse-bg-to-padlet-pink-400"];case"green":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-park-500","pulse-bg-to-park-600","dark:pulse-bg-from-park-500","dark:pulse-bg-to-park-400"];case"orange":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-tangerine-500","pulse-bg-to-tangerine-600","dark:pulse-bg-from-tangerine-500","dark:pulse-bg-to-tangerine-400"];case"blue":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-oceanic-500","pulse-bg-to-oceanic-600","dark:pulse-bg-from-oceanic-500","dark:pulse-bg-to-oceanic-400"];case"purple":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-grape-500","pulse-bg-to-grape-600","dark:pulse-bg-from-grape-500","dark:pulse-bg-to-grape-400"];default:return[]}}get activeFocusColorClasses(){if(!this.isButton)return[];switch(this.backgroundColor){case"pink":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-padlet-pink-700","dark:active:bg-padlet-pink-400","focus:bg-padlet-pink-700","dark:focus:bg-padlet-pink-400"];case"green":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-park-700","dark:active:bg-park-400","focus:bg-park-700","dark:focus:bg-park-400"];case"orange":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-tangerine-700","dark:active:bg-tangerine-400","focus:bg-tangerine-700","dark:focus:bg-tangerine-400"];case"blue":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-oceanic-700","dark:active:bg-oceanic-400","focus:bg-oceanic-700","dark:focus:bg-oceanic-400"];case"purple":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-grape-700","dark:active:bg-grape-400","focus:bg-grape-700","dark:focus:bg-grape-400"];default:return[]}}get styles(){const e=this.isChrome&&this.isMac?{clipPath:"url(#rounded-hexagon-svg-clip-path)"}:{maskImage:this.hexMask,maskSize:"100% 100%"};return Object.assign({minWidth:this.hexWidth+"px",maxWidth:this.hexWidth+"px",minHeight:this.hexHeight+"px",maxHeight:this.hexHeight+"px"},e)}get iconStyle(){return{maxWidth:this.iconSize+"px",width:this.iconSize+"px",height:this.iconSize+"px",fontSize:` ${this.iconSize}px`,lineHeight:""+this.iconLineHeight}}get hexMask(){return`url(${c.a})`}click(e){this.isButton&&(this.$emit("click",e),this.shouldStopClickPropagation&&e.stopPropagation())}};d([Object(n.e)({default:48}),p("design:type",Number)],u.prototype,"height",void 0),d([Object(n.e)({default:"pink"}),p("design:type",String)],u.prototype,"backgroundColor",void 0),d([Object(n.e)({default:""}),p("design:type",String)],u.prototype,"iconName",void 0),d([Object(n.e)({default:"oricon"}),p("design:type",String)],u.prototype,"iconFont",void 0),d([Object(n.e)({default:24}),p("design:type",Number)],u.prototype,"iconSize",void 0),d([Object(n.e)({default:""}),p("design:type",String)],u.prototype,"text",void 0),d([Object(n.e)({default:"primary"}),p("design:type",String)],u.prototype,"color",void 0),d([Object(n.e)({default:1}),p("design:type",Number)],u.prototype,"iconLineHeight",void 0),d([Object(n.e)({default:!1}),p("design:type",Boolean)],u.prototype,"isButton",void 0),d([Object(n.e)({default:!1}),p("design:type",Boolean)],u.prototype,"shouldStopClickPropagation",void 0),d([Object(n.e)({default:""}),p("design:type",String)],u.prototype,"imageUrl",void 0),d([Object(n.e)({default:""}),p("design:type",String)],u.prototype,"imageAltText",void 0),d([r.c,p("design:type",Boolean)],u.prototype,"isChrome",void 0),d([r.c,p("design:type",Boolean)],u.prototype,"isMac",void 0),u=d([Object(n.a)({components:{OzIcon:a.default,OzAvatar:s.a}})],u);var h=u,g=o(5),f=Object(g.a)(h,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["flex","items-center","justify-center","select-none",e.bgClasses,e.textClasses,e.hoverColorClasses,e.activeFocusColorClasses,e.isButton&&"cursor-pointer"],style:e.styles,attrs:{role:e.isButton&&"button",tabindex:e.isButton&&0},on:{click:e.click,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.click.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.click.apply(null,arguments)}]}},[e.iconName?t("OzIcon",{class:["flex-auto","text-center",e.textClasses],style:e.iconStyle,attrs:{name:e.iconName,font:e.iconFont,size:e.iconSize}}):e.imageUrl?t("OzAvatar",{attrs:{height:e.height,width:e.height,src:e.imageUrl,"alt-text-name":e.imageAltText}}):e._e(),e._v("\n\n  "+e._s(e.text&&e.text)+"\n")],1)}),[],!1,null,null,null);t.a=f.exports},1114:function(e,t,o){e.exports=o.p+"media/images/rounded-hexagon-d06c029393fed206931352d962c06c5e.svg"},1193:function(e,t,o){"use strict";var i=o(2),r=o(8),n=o(43),a=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},s=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends i.f{get hasIcon(){return!!this.$slots.icon}selectOption(){this.$emit("select-option",this.value)}};a([Object(i.e)({required:!0}),s("design:type",String)],l.prototype,"displayValue",void 0),a([Object(i.e)({required:!0}),s("design:type",Object)],l.prototype,"value",void 0),a([Object(i.e)({default:!1}),s("design:type",Boolean)],l.prototype,"isSelected",void 0),a([Object(i.e)({default:!0}),s("design:type",Boolean)],l.prototype,"xSeparator",void 0),a([r.b,s("design:type",String)],l.prototype,"dir",void 0),l=a([Object(i.a)({components:{OzIcon:n.default}})],l);var c=l,d=o(5),p=Object(d.a)(c,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["h-11","md:h-10","px-2","mx-2","my-0.5","flex","flex-shrink-0","relative","select-none","outline-none","bg-transparent","cursor-pointer","transition","rounded-lg","group","hover-hover:hover:bg-light-ui-200","hover-hover:focus:bg-light-ui-200","hover-hover:active:bg-light-ui-300","hover-hover:dark:hover:bg-dark-ui-200","hover-hover:dark:focus:bg-dark-ui-200","hover-hover:dark:active:bg-dark-ui-300"],attrs:{dir:e.dir,tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectOption.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.selectOption.apply(null,arguments)}],click:e.selectOption}},[t("div",{staticClass:"flex items-center w-full justify-between text-grape-500 dark:text-canary-500"},[t("div",{staticClass:"flex flex-row space-x-4 rtl:space-x-reverse overflow-hidden"},[e._t("icon"),e._v(" "),t("div",{class:["font-normal","font-sans","text-alert-body-small","text-highway-100","dark:text-white","whitespace-nowrap","overflow-ellipsis","overflow-hidden"]},[e._v("\n        "+e._s(e.displayValue)+"\n      ")])],2),e._v(" "),e.isSelected?t("OzIcon",{attrs:{size:14,name:"checkmark_thicker"}}):e._e()],1),e._v(" "),e.xSeparator?t("div",{class:["absolute",e.hasIcon?"ltr:left-11 ltr:right-2 rtl:left-2 rtl:right-11":"left-2 right-2","right-2","-bottom-0.5","border-b-0.5","border-solid","border-highway-disabled","dark:border-white-disabled"],attrs:{role:"separator"}}):e._e()])}),[],!1,null,null,null);t.a=p.exports},127:function(e,t,o){"use strict";o.d(t,"d",(function(){return i})),o.d(t,"a",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"b",(function(){return a}));var i,r,n,a,s=o(21),l=o(2),c=o(43),d=o(212),p=o(133),u=o(59),h=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},g=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.H44px="H44px",e.H48px="H48px"}(i||(i={})),function(e){e.None="None",e.Bubble100="Bubble100",e.Bubble200="Bubble200",e.HighlightText="HighlightText"}(r||(r={})),function(e){e.Default="Default",e.Primary="Primary",e.Danger="Danger",e.Disabled="Disabled",e.Highlighted="Highlighted"}(n||(n={})),function(e){e.Default="Default",e.DisplayOnly="DisplayOnly",e.HistoryPushState="HistoryPushState"}(a||(a={}));let f=class extends s.b{constructor(){super(...arguments),this.FocusStyle=r,this.OzDividerColorScheme=p.a,this.OzTextButtonColorScheme=u.a,this.RowStyle=n,this.SizePreset=i}get iconSize(){return{[i.H44px]:16,[i.H48px]:24}[this.sizePreset]}get rowsData(){return this.rows.map(e=>Object.assign(Object.assign({rowStyle:n.Default},this.commonSettings),e))}get xLeftIconOrAvatar(){return this.rowsData.some(e=>e.icon||e.avatar)}get textHighlightStyles(){return[{"hover-hover:group-hover:text-grape-500 hover-hover:dark:group-hover:text-canary-500":"auto"===this.darkMode,"hover-hover:group-hover:text-grape-500":!1===this.darkMode,"hover-hover:group-hover:text-canary-500":!0===this.darkMode},{"group-focus-visible:text-grape-500 dark:group-focus-visible:text-canary-500":"auto"===this.darkMode,"group-focus-visible:text-grape-500":!1===this.darkMode,"group-focus-visible:text-canary-500":!0===this.darkMode},{"group-active:text-grape-500 dark:group-active:text-canary-500":"auto"===this.darkMode,"group-active:text-grape-500":!1===this.darkMode,"group-active:text-canary-500":!0===this.darkMode}]}selectRow(e,t){var o;t.isDisabled||(t.hrefMode!==a.Default&&e.preventDefault(),t.hrefMode===a.HistoryPushState&&(null===(o=null===window||void 0===window?void 0:window.history)||void 0===o||o.pushState(null,"",t.href)),this.$emit("select-row",e,t.eventPayload))}selectRightIcon(e,t){this.$emit("select-right-icon",e,t.rightIconEventPayload)}mounted(){this.isPhone?setTimeout(()=>{this.scrollActiveRowIntoView()},500):this.scrollActiveRowIntoView()}scrollActiveRowIntoView(){var e;if(!this.activeRow)return;const t=null===(e=this.$refs[this.activeRow])||void 0===e?void 0:e[0];null===t||void 0===t||t.scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}};h([Object(l.e)({default:"auto"}),g("design:type",Object)],f.prototype,"darkMode",void 0),h([Object(l.e)({default:i.H48px}),g("design:type",String)],f.prototype,"sizePreset",void 0),h([Object(l.e)({required:!0}),g("design:type",String)],f.prototype,"focusStyle",void 0),h([Object(l.e)({default:!1}),g("design:type",Boolean)],f.prototype,"xLastRowDivider",void 0),h([Object(l.e)({default:()=>[]}),g("design:type",Object)],f.prototype,"commonSettings",void 0),h([Object(l.e)({required:!0}),g("design:type",Array)],f.prototype,"rows",void 0),h([Object(l.e)({default:!1}),g("design:type",Boolean)],f.prototype,"isPhone",void 0),h([Object(l.e)({default:""}),g("design:type",String)],f.prototype,"activeRow",void 0),f=h([Object(l.a)({components:{OzAvatar:d.a,OzTextButton:u.c,OzIcon:c.default,OzDivider:p.b}})],f);var m=f,v=o(5),y=Object(v.a)(m,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["font-sans"]},[e._l(e.rowsData,(function(o,i){return[t("div",{key:`${o.icon}-${i}`,ref:o.ref,refInFor:!0,class:["block","py-1","px-2"],attrs:{"data-cy":o.testId,"data-pw":o.testId}},[t(o.href?"a":"div",{tag:"component",class:["group","focus:outline-none",o.isDisabled?"cursor-not-allowed":"cursor-pointer",o.rowStyle===e.RowStyle.Default&&{"text-dark-text-100":!1===e.darkMode,"text-light-text-100":!0===e.darkMode,"text-dark-text-100 dark:text-light-text-100":"auto"===e.darkMode},o.rowStyle===e.RowStyle.Disabled&&{"text-dark-text-300":!1===e.darkMode,"text-light-text-300":!0===e.darkMode,"text-dark-text-300 dark:text-light-text-300":"auto"===e.darkMode},o.rowStyle===e.RowStyle.Highlighted&&{"text-grape-500":!1===e.darkMode,"text-canary-500":!0===e.darkMode,"text-grape-500 dark:text-canary-500":"auto"===e.darkMode},o.rowStyle===e.RowStyle.Primary&&"text-padlet-pink-500",o.rowStyle===e.RowStyle.Danger&&"text-danger-100","p-2",e.sizePreset===e.SizePreset.H44px&&"min-h-[20px]",e.sizePreset===e.SizePreset.H48px&&"min-h-[24px]",!o.isDisabled&&"transition-colors",!o.isDisabled&&e.focusStyle===e.FocusStyle.Bubble100&&["rounded-lg",{"hover-hover:hover:bg-light-ui-100 hover-hover:dark:hover:bg-dark-ui-100":"auto"===e.darkMode,"hover-hover:hover:bg-light-ui-100":!1===e.darkMode,"hover-hover:hover:bg-dark-ui-100":!0===e.darkMode},{"focus-visible:bg-light-ui-100 dark:focus-visible:bg-dark-ui-100":"auto"===e.darkMode,"focus-visible:bg-light-ui-100":!1===e.darkMode,"focus-visible:bg-dark-ui-100":!0===e.darkMode},{"active:bg-light-ui-100 dark:active:bg-dark-ui-100":"auto"===e.darkMode,"active:bg-light-ui-100":!1===e.darkMode,"active:bg-dark-ui-100":!0===e.darkMode}],!o.isDisabled&&e.focusStyle===e.FocusStyle.Bubble200&&["rounded-lg",{"hover-hover:hover:bg-light-ui-200 hover-hover:dark:hover:bg-dark-ui-200":"auto"===e.darkMode,"hover-hover:hover:bg-light-ui-200":!1===e.darkMode,"hover-hover:hover:bg-dark-ui-200":!0===e.darkMode},{"focus-visible:bg-light-ui-200 dark:focus-visible:bg-dark-ui-200":"auto"===e.darkMode,"focus-visible:bg-light-ui-200":!1===e.darkMode,"focus-visible:bg-dark-ui-200":!0===e.darkMode},{"active:bg-light-ui-200 dark:active:bg-dark-ui-200":"auto"===e.darkMode,"active:bg-light-ui-200":!1===e.darkMode,"active:bg-dark-ui-200":!0===e.darkMode}],!o.isDisabled&&e.focusStyle===e.FocusStyle.HighlightText&&o.rowStyle===e.RowStyle.Default&&e.textHighlightStyles,"flex","items-center"],attrs:{tabindex:o.isDisabled?-1:0,disabled:o.isDisabled,"aria-disabled":o.isDisabled,href:o.href||null,rel:o.href&&"noopener nofollow"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.selectRow(t,o)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),e.selectRow(t,o))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.stopPropagation(),t.preventDefault(),e.selectRow(t,o))}]}},[e.xLeftIconOrAvatar&&o.icon?t("OzIcon",{class:[{"me-3":e.sizePreset===e.SizePreset.H44px,"me-4":e.sizePreset===e.SizePreset.H48px},!o.isDisabled&&[e.FocusStyle.Bubble100,e.FocusStyle.Bubble200].includes(e.focusStyle)&&o.rowStyle===e.RowStyle.Default&&e.textHighlightStyles],attrs:{name:o.icon,size:e.iconSize}}):e.xLeftIconOrAvatar&&o.avatar?t("OzAvatar",{class:[{"me-3":e.sizePreset===e.SizePreset.H44px,"me-4":e.sizePreset===e.SizePreset.H48px},o.avatarStyles||"rounded-full"],attrs:{width:e.iconSize,height:e.iconSize,src:o.avatar,"alt-text-name":o.text}}):e._e(),e._v(" "),t("div",{class:[o.textTruncated&&"truncate","flex-1",o.textStyleClass||{"text-body-small":e.sizePreset===e.SizePreset.H44px,"text-body":e.sizePreset===e.SizePreset.H48px}],attrs:{title:o.text}},[o.htmlText?t("span",{domProps:{innerHTML:e._s(o.htmlText)}}):t("span",[e._v(e._s(o.text))])]),e._v(" "),o.rightIcon&&o.rightIconEventPayload?t("OzTextButton",{class:["h-full",e.sizePreset===e.SizePreset.H44px&&"ps-3",e.sizePreset===e.SizePreset.H48px&&"ps-4","pe-0","py-0","focus:outline-none","flex","flex-col","justify-center"],attrs:{"data-cy":o.rightIconTestId,"color-scheme":e.OzTextButtonColorScheme.Secondary,"dark-mode":e.darkMode,"aria-label":o.rightIconAriaLabel},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.selectRightIcon(t,o)}},nativeOn:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.selectRightIcon(t,o))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),t.stopPropagation(),e.selectRightIcon(t,o))}]}},[t("OzIcon",{attrs:{name:o.rightIcon,size:o.rightIconSize||e.iconSize}})],1):e._e(),e._v(" "),o.rightIcon&&!o.rightIconEventPayload?t("OzIcon",{class:[o.rightIconHighlighted&&{"text-grape-500":!1===e.darkMode,"text-canary-500":!0===e.darkMode,"text-grape-500 dark:text-canary-500":"auto"===e.darkMode},!o.isDisabled&&!o.rightIconHighlighted&&o.rowStyle===e.RowStyle.Default&&{"text-dark-text-200 hover-hover:group-hover:text-dark-text-100":!1===e.darkMode,"text-light-text-200 hover-hover:group-hover:text-light-text-100":!0===e.darkMode,"text-dark-text-200 dark:text-light-text-200 hover-hover:group-hover:text-dark-text-100 hover-hover:dark:group-hover:text-dark-text-100":"auto"===e.darkMode},!o.isDisabled&&e.focusStyle===e.FocusStyle.HighlightText&&o.rowStyle===e.RowStyle.Default&&e.textHighlightStyles],attrs:{name:o.rightIcon,size:o.rightIconSize||e.iconSize,"aria-label":o.rightIconAriaLabel}}):e._e()],1)],1),e._v(" "),e.xLastRowDivider||i<e.rows.length-1?t("OzDivider",{key:`${o.icon}-${i}-divider`,class:[!e.xLeftIconOrAvatar&&"mx-4",e.xLeftIconOrAvatar&&e.sizePreset===e.SizePreset.H44px&&"ms-10.5 me-4",e.xLeftIconOrAvatar&&e.sizePreset===e.SizePreset.H48px&&"ms-14 me-4"],attrs:{"color-scheme":e.OzDividerColorScheme.Solid,"dark-mode":e.darkMode}}):e._e()]}))],2)}),[],!1,null,null,null);t.e=y.exports},1270:function(e,t,o){var i=o(1375);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o(78).default)("602540c4",i,!0,{})},1271:function(e,t,o){},132:function(e,t,o){"use strict";var i=o(2),r=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},n=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let a=class extends i.f{get style(){return this.size?{width:this.size+"px",height:this.size+"px"}:null}get strokeWidth(){return this.size&&this.size<30?4:2}};r([Object(i.e)({type:Number,default:48}),n("design:type",Number)],a.prototype,"size",void 0),r([Object(i.e)({type:String,default:"rainbow"}),n("design:type",String)],a.prototype,"color",void 0),r([Object(i.e)({default:"default"}),n("design:type",String)],a.prototype,"variation",void 0),r([Object(i.e)({default:"auto"}),n("design:type",Object)],a.prototype,"darkMode",void 0),a=r([i.a],a);var s=a,l=(o(279),o(5)),c=Object(l.a)(s,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["loader","loader-"+e.variation,"color-"+e.color],style:e.style},["default"===e.variation?t("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":e.strokeWidth,"stroke-miterlimit":"10"}})]):t("svg",{class:["fill-current",{"text-loading-spinner-dark dark:text-white-100":"auto"===e.darkMode,"text-white-100":!0===e.darkMode,"text-loading-spinner-dark":!1===e.darkMode}],attrs:{width:e.size+"px",height:e.size+"px",viewBox:"22 22 56 56",preserveAspectRatio:"xMidYMid"}},[t("g",{attrs:{transform:"rotate(0 50 50)"}},[t("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[t("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.875s",repeatCount:"indefinite"}})])]),e._v(" "),t("g",{attrs:{transform:"rotate(45 50 50)"}},[t("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[t("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}})])]),e._v(" "),t("g",{attrs:{transform:"rotate(90 50 50)"}},[t("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[t("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.625s",repeatCount:"indefinite"}})])]),e._v(" "),t("g",{attrs:{transform:"rotate(135 50 50)"}},[t("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[t("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}})])]),e._v(" "),t("g",{attrs:{transform:"rotate(180 50 50)"}},[t("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[t("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.375s",repeatCount:"indefinite"}})])]),e._v(" "),t("g",{attrs:{transform:"rotate(225 50 50)"}},[t("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[t("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}})])]),e._v(" "),t("g",{attrs:{transform:"rotate(270 50 50)"}},[t("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[t("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.125s",repeatCount:"indefinite"}})])]),e._v(" "),t("g",{attrs:{transform:"rotate(315 50 50)"}},[t("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[t("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}})])])])])}),[],!1,null,"0e972c25",null);t.a=c.exports},133:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var i,r=o(2),n=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},a=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.Solid="Solid",e.Translucent="Translucent"}(i||(i={}));let s=class extends r.f{constructor(){super(...arguments),this.OzDividerColorScheme=i}};n([Object(r.e)({default:"auto"}),a("design:type",Object)],s.prototype,"darkMode",void 0),n([Object(r.e)({required:!0}),a("design:type",String)],s.prototype,"colorScheme",void 0),s=n([r.a],s);var l=s,c=o(5),d=Object(c.a)(l,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["h-[0.5px]",e.colorScheme===e.OzDividerColorScheme.Solid&&[{"bg-divider-gray dark:bg-divider-gray-dark":"auto"===e.darkMode,"bg-divider-gray":!1===e.darkMode,"bg-divider-gray-dark":!0===e.darkMode}],e.colorScheme===e.OzDividerColorScheme.Translucent&&["bg-opacity-30",{"bg-grey-200 dark:bg-white-400":"auto"===e.darkMode,"bg-grey-200":!1===e.darkMode,"bg-white-400":!0===e.darkMode}]]})}),[],!1,null,null,null);t.b=d.exports},1368:function(e,t,o){e.exports=o.p+"media/images/composer_modal_hex_grid_mobile_tablet-9abe299c6ddf96a2761f1d9daca8c984.svg"},1369:function(e,t,o){e.exports=o.p+"media/images/composer_modal_hex_grid_desktop_light-75d4a6e11cb0e0f67015de8bc8d7bb3d.svg"},1370:function(e,t,o){e.exports=o.p+"media/images/composer_modal_hex_grid_desktop_light_docked-23aa572ee33a32f4ebfc62fb15828f41.svg"},1371:function(e,t,o){e.exports=o.p+"media/images/composer_modal_hex_grid_desktop_dark-5133cc2f94474d655beba63dfb83603e.svg"},1372:function(e,t,o){e.exports=o.p+"media/images/composer_modal_hex_grid_desktop_dark_docked-5cb6480eb2336e9d7909d0ad93b048af.svg"},1374:function(e,t,o){"use strict";o(1270)},1375:function(e,t,o){(e.exports=o(77)(!1)).push([e.i,'/* style for formatted texts inside the editor (list, quote, highlight, ...)\n * need deep to work with the underlying trix editor\n */\n.new-post-modal-editor[data-v-7eb4b5ee]  {\n    white-space: pre-wrap;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] var {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n    display: block;\n    text-align: center;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] pre {\n    white-space: pre-wrap;\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n    border-radius: 0.125rem;\n    padding: 0.5em;\n    --tw-bg-opacity: 1;\n    background-color: rgba(236, 236, 236, var(--tw-bg-opacity));\n}\n@media (prefers-color-scheme: dark) {\n.new-post-modal-editor[data-v-7eb4b5ee] pre {\n        --tw-bg-opacity: 1;\n        background-color: rgba(50, 51, 53, var(--tw-bg-opacity));\n}\n}\n.new-post-modal-editor[data-v-7eb4b5ee] pre {\n    margin-left: -0.5em;\n    margin-right: -0.5em;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] ol {\n    list-style-type: decimal;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] ul {\n    list-style-type: disc;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] ul, .new-post-modal-editor[data-v-7eb4b5ee] ol {\n    list-style-position: outside;\n    padding-inline-start: 2em;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] ul li,\n    .new-post-modal-editor[data-v-7eb4b5ee] ol li {\n      margin: 0.25em 0;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] blockquote {\n    font-style: italic;\n    border-style: solid;\n    border-color: rgba(0, 0, 0, 0.38);\n}\n@media (prefers-color-scheme: dark) {\n.new-post-modal-editor[data-v-7eb4b5ee] blockquote {\n        border-color: rgba(255,255,255,0.5);\n}\n}\n.new-post-modal-editor[data-v-7eb4b5ee] blockquote {\n    border-left-width: 0.25em;\n    padding: 0 1em;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] mark {\n    --tw-bg-opacity: 1;\n    background-color: rgba(255, 223, 122, var(--tw-bg-opacity));\n}\n@media (prefers-color-scheme: dark) {\n.new-post-modal-editor[data-v-7eb4b5ee] mark {\n        --tw-bg-opacity: 1;\n        background-color: rgba(0, 124, 141, var(--tw-bg-opacity));\n}\n}\n.new-post-modal-editor[data-v-7eb4b5ee] mark {\n    color: currentColor;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] strong {\n    font-weight: 600;\n}\n.new-post-modal-editor[data-v-7eb4b5ee] a {\n    text-decoration: underline;\n    color: currentColor;\n    text-underline-position: from-font;\n}\n',""])},1376:function(e,t,o){e.exports=o.p+"media/images/fallback_file-96368877a1bb2a12d1af5f69bebabe82.png"},1377:function(e,t,o){"use strict";o(1271)},1379:function(e,t,o){"use strict";o.r(t);var i,r=o(2),n=o(8),a=o(125),s=o(21),l=o(276),c=o(522),d=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},p=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let u=class extends s.b{constructor(){super(...arguments),this.overlayTop=0}get isDocked(){return"docked"===this.state}get isExpanded(){return"expanded"===this.state}get isMinimized(){return"minimized"===this.state}get actualVisualViewportHeight(){return Math.round(this.visualViewportHeight*this.visualViewportScale)}get isVirtualKeyboardShowing(){return this.actualVisualViewportHeight<this.windowHeight}get virtualKeyboardHeight(){return this.isVirtualKeyboardShowing?this.windowHeight-this.actualVisualViewportHeight:0}get overlayPaddingStyle(){return this.isExpanded?{paddingBottom:this.virtualKeyboardHeight+this.overlayTop+"px",paddingTop:-this.overlayTop+"px"}:{}}get overlayMouseDownEvent(){return this.isExpanded?"mousedown":null}get overlayTouchStartEvent(){return this.isExpanded?"touchstart":null}get xExtraContent(){return!this.isPhone&&this.isExpanded}get minimizedWidthStyle(){return this.isMinimized?{minWidth:"0px",flexBasis:"164px",maxWidth:"164px"}:{}}get minimizedZIndexClass(){return this.xMinimizedContextMenu?"z-dropdown":"z-minimized-modal"}get modalMinHeight(){if(this.isPhone)return 0;const e=this.visualViewportHeight-(this.isNarrowLandscapeViewport?68:92);return Math.min(e,this.isVirtualKeyboardShowing?404:540)}get isNarrowLandscapeViewport(){return this.visualViewportHeight<this.visualViewportWidth&&this.visualViewportHeight<330}cancel(){this.$emit("close")}onWindowScroll(){this.$refs.modalOverlay&&this.isExpanded&&(this.overlayTop=this.$refs.modalOverlay.getBoundingClientRect().top)}mounted(){this.onWindowScroll()}};d([Object(r.e)({default:"expanded"}),p("design:type","function"===typeof(i="undefined"!==typeof DockableModalState&&DockableModalState)?i:Object)],u.prototype,"state",void 0),d([Object(r.e)({required:!0}),p("design:type",Number)],u.prototype,"windowHeight",void 0),d([Object(r.e)({required:!0}),p("design:type",Number)],u.prototype,"visualViewportHeight",void 0),d([Object(r.e)({required:!0}),p("design:type",Number)],u.prototype,"visualViewportWidth",void 0),d([Object(r.e)({required:!0}),p("design:type",Number)],u.prototype,"visualViewportScale",void 0),d([Object(r.e)({required:!0}),p("design:type",Boolean)],u.prototype,"isPhone",void 0),d([Object(r.e)({default:!0}),p("design:type",Boolean)],u.prototype,"xExpandedOverlayColor",void 0),d([Object(r.e)({default:!1}),p("design:type",Boolean)],u.prototype,"xMinimizedContextMenu",void 0),d([Object(r.e)({default:!1}),p("design:type",Boolean)],u.prototype,"xNewSurfaceShadows",void 0),d([Object(r.e)({required:!0}),p("design:type",String)],u.prototype,"dir",void 0),u=d([Object(r.a)({mixins:[l.a,c.a]})],u);var h=u,g=o(5),f=Object(g.a)(h,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("transition",{attrs:{"enter-active-class":"transition-transform md:transition-none duration-200 ease-in transform","enter-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transition-transform md:transition-none duration-200 ease-out transform","leave-class":"translate-y-0","leave-to-class":"translate-y-full"}},[t("div",{ref:"modalOverlay",class:["flex",e.isMinimized?"flex-shrink":"flex-shrink-0","bg-none",...e.isExpanded?["fixed","inset-0","z-dockable-modal",e.xExpandedOverlayColor&&"bg-common-ui-darkened-bg","justify-center","items-center","pointer-events-auto"]:[e.isDocked?"z-docked-modal":e.minimizedZIndexClass,"pointer-events-none","max-h-screen-with-space-8"]],style:{...e.overlayPaddingStyle,...e.minimizedWidthStyle},on:e._d({},[e.overlayMouseDownEvent,function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.$emit("overlay-clicked"))},e.overlayTouchStartEvent,function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.$emit("overlay-clicked"))}])},[e.isMinimized?e._t("minimized-content"):t("div",{key:"opened-modal",class:["h-full","w-full","md:h-auto","md:w-auto","my-0",e.isNarrowLandscapeViewport?"md:mt-2 md:max-h-[calc(100%-4rem)]":"md:mt-8 md:max-h-[calc(100%-6rem)]",e.isExpanded&&"md:mb-14","flex","pointer-events-none"],attrs:{dir:e.dir}},[e.xExtraContent?t("div",{staticClass:"w-12 pointer-events-none"},[e._t("extra-left")],2):e._e(),e._v(" "),t("div",{class:["pointer-events-auto","bg-white-100","dark:bg-nightfall-900","w-full","md:w-auto","md:h-auto",!e.isVirtualKeyboardShowing&&"pb-safe-inset-bottom md:pb-0","md:rounded-t-3xl","relative","z-0","flex","flex-col","overflow-hidden",e.isExpanded&&!e.isPhone&&"transition-all",e.isExpanded&&"md:rounded-3xl",e.xNewSurfaceShadows&&!e.isExpanded&&"shadow-elevation-2",e.xNewSurfaceShadows&&e.isExpanded&&"shadow-elevation-3"],style:e.isPhone?{}:{minHeight:e.modalMinHeight+"px"}},[e._t("modal-content")],2),e._v(" "),e.xExtraContent?t("div",{staticClass:"w-12 pointer-events-none"},[e._t("extra-right")],2):e._e(),e._v(" "),e.isMinimized?e._e():e._t("overflowable-modal-content")],2)],2)])}),[],!1,null,null,null).exports,m=o(271),v=o.n(m),y=o(16),b=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},x=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let k=class extends s.b{cancel(){this.$emit("cancel")}};b([Object(r.e)({required:!0}),x("design:type",Boolean)],k.prototype,"xNewSurfaceShadows",void 0),k=b([Object(r.a)({})],k);var w=k,S=Object(g.a)(w,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"absolute font-sans inset-0 w-full h-full flex justify-center items-center bg-modal-overlay-light dark:bg-modal-overlay-dark z-modal",on:{mousedown:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.cancel.apply(null,arguments))},touchstart:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.cancel.apply(null,arguments))},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),e.cancel.apply(null,arguments))}}},[t("div",{class:["absolute","rounded-3xl","w-78","text-center","bg-light-ui-100","dark:bg-dark-ui-100",e.xNewSurfaceShadows&&"shadow-elevation-5"]},[e._t("body")],2)])}),[],!1,null,null,null).exports,O=o(3),_=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},C=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const P=Object(n.d)("composerModalAlert");let D=class extends s.b{constructor(){super(...arguments),this.alertSignSrc=v.a,this.OzContainedButtonColorScheme=y.a}handleKeydown(e){const t=!!this.$refs.primaryActionButton,o=!!this.$refs.secondaryActionButton,i=t&&this.$refs.primaryActionButton.$el===document.activeElement,r=o&&this.$refs.secondaryActionButton.$el===document.activeElement,n="Enter"===e.key||13===e.keyCode,a="Tab"===e.key||9===e.keyCode;n&&!i&&!r&&t&&(e.preventDefault(),this.$refs.primaryActionButton.$el.click()),a&&(e.preventDefault(),t&&!i?this.$refs.primaryActionButton.$el.focus():o&&!r&&this.$refs.secondaryActionButton.$el.focus())}mounted(){O.a.addEventListener("keydown",this.handleKeydown)}beforeDestroy(){O.a.removeEventListener("keydown",this.handleKeydown)}};_([n.b,C("design:type",Boolean)],D.prototype,"isUsingNewSurfaceShadows",void 0),_([P.State,C("design:type",String)],D.prototype,"title",void 0),_([P.State,C("design:type",String)],D.prototype,"body",void 0),_([P.State,C("design:type",String)],D.prototype,"primaryActionText",void 0),_([P.State,C("design:type",String)],D.prototype,"secondaryActionText",void 0),_([P.State,C("design:type",Boolean)],D.prototype,"isPrimaryActionDanger",void 0),_([P.Action,C("design:type",Function)],D.prototype,"executePrimaryActions",void 0),_([P.Action,C("design:type",Function)],D.prototype,"executeSecondaryActions",void 0),D=_([Object(r.a)({components:{OzContainedButton:y.d,SurfaceComposerModalPrompt:S}})],D);var j=D,T=Object(g.a)(j,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("surface-composer-modal-prompt",{attrs:{"x-new-surface-shadows":e.isUsingNewSurfaceShadows},on:{cancel:function(t){return e.$emit("cancel")}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{ref:"alertBody",staticClass:"py-4",attrs:{tabindex:"-1"}},[t("img",{staticClass:"select-none",attrs:{src:e.alertSignSrc,width:"48",height:"40",alt:""}}),e._v(" "),t("div",{staticClass:"mt-4 mx-4 break-normal font-semibold text-alert-title text-dark-text-100 dark:text-light-text-100"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),t("div",{staticClass:"mx-8 mt-4 break-normal font-normal text-alert-body-small text-dark-text-100 dark:text-light-text-100"},[e._v("\n        "+e._s(e.body)+"\n      ")]),e._v(" "),t("div",{staticClass:"mt-6 w-full flex flex-col items-center space-y-3"},[e.primaryActionText?t("OzContainedButton",{ref:"primaryActionButton",staticClass:"w-70",attrs:{"color-scheme":e.isPrimaryActionDanger?e.OzContainedButtonColorScheme.Destructive:e.OzContainedButtonColorScheme.Primary,text:e.primaryActionText},on:{click:e.executePrimaryActions}}):e._e(),e._v(" "),e.secondaryActionText?t("OzContainedButton",{ref:"secondaryActionButton",staticClass:"w-70",attrs:{"color-scheme":e.OzContainedButtonColorScheme.Secondary,text:e.secondaryActionText},on:{click:e.executeSecondaryActions}}):e._e()],1)])]},proxy:!0}])})}),[],!1,null,null,null).exports,A=o(121),M=o(43),B=o(96),z=o(59),R=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},I=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const E=Object(n.d)("browser"),F=Object(n.d)("draft"),N=Object(n.d)("composerModal");let H=class extends(Object(r.c)()){constructor(){super(...arguments),this.OzTextButtonColorScheme=z.a,this.OzContainedButtonColorScheme=y.a,this.OzIconButtonColorScheme=B.a}get xDockButton(){return this.canDock&&!this.isDocked}get xExpandButton(){return this.canDock&&this.isDocked}get xMinimizeButton(){return this.canMinimize&&!this.isSmallerThanTabletLandscape}get sendPostButtonText(){return this.canIPostWithoutWaitingForApproval?this.activeDraft&&Object(A.k)(this.activeDraft)?this.__("Publish"):this.__("Update"):this.__("Submit")}get shouldAutoPublish(){var e;return!!(null===(e=this.activeDraft)||void 0===e?void 0:e.shouldAutoPublish)}close(){this.$emit("close")}dock(){this.$emit("dock")}expand(){this.$emit("expand")}minimize(){this.$emit("minimize")}save(){this.$emit("save")}onApprovalInfoClick(){this.xRequiresApprovalBanner?this.hideRequiresApprovalBanner():this.showRequiresApprovalBanner()}};R([Object(r.e)({required:!0}),I("design:type",Boolean)],H.prototype,"isDocked",void 0),R([Object(r.e)({required:!0}),I("design:type",Boolean)],H.prototype,"disableSave",void 0),R([Object(r.e)({required:!0}),I("design:type",Boolean)],H.prototype,"canDock",void 0),R([Object(r.e)({required:!0}),I("design:type",Boolean)],H.prototype,"canMinimize",void 0),R([Object(r.e)({required:!0}),I("design:type",Boolean)],H.prototype,"isLargeUi",void 0),R([n.b,I("design:type",Boolean)],H.prototype,"canIPostWithoutWaitingForApproval",void 0),R([n.b,I("design:type",Boolean)],H.prototype,"isDesktop",void 0),R([E.State,I("design:type",Boolean)],H.prototype,"darkMode",void 0),R([E.Getter,I("design:type",Boolean)],H.prototype,"isPhone",void 0),R([E.Getter,I("design:type",Boolean)],H.prototype,"isSmallerThanTabletLandscape",void 0),R([F.Getter,I("design:type",Object)],H.prototype,"activeDraft",void 0),R([N.Getter,I("design:type",Boolean)],H.prototype,"xRequiresApprovalBanner",void 0),R([N.Action,I("design:type",Function)],H.prototype,"showRequiresApprovalBanner",void 0),R([N.Action,I("design:type",Function)],H.prototype,"hideRequiresApprovalBanner",void 0),H=R([Object(r.a)({components:{OzContainedButton:y.d,OzIcon:M.default,OzIconButton:B.d,OzTextButton:z.c}})],H);var $=H,L=Object(g.a)($,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["bg-modal-top-light","dark:bg-modal-top-dark","md:bg-transparent","flex","justify-between","pt-1",!e.isPhone&&"pb-1","px-2.5","md:pt-4","md:pb-3","md:px-4","flex-shrink-0",e.darkMode&&"dark-mode"]},[t("div",{class:[!e.isPhone&&"flex space-x-2 rtl:space-x-reverse","flex-shrink-0"]},[e.isPhone?[t("OzTextButton",{key:"composer-modal-mobile-close",staticClass:"h-10 px-1.5 py-0 font-semibold text-17",attrs:{"color-scheme":e.OzTextButtonColorScheme.Secondary,text:e.__("Close"),"aria-label":e.__("Close"),title:e.__("Close"),"data-cy":"composerModalCloseButton"},on:{click:function(t){return t.stopPropagation(),e.close.apply(null,arguments)}}})]:[t("OzIconButton",{key:"composer-modal-desktop-close",staticClass:"bg-light-ui-150 dark:bg-dark-ui-150 text-dark-text-200 dark:text-light-text-200 hover-hover:hover:bg-grey-200 hover-hover:dark:hover:bg-grey-600",attrs:{"data-cy":"composerModalCloseButton",label:e.__("Close"),"color-scheme":e.OzIconButtonColorScheme.Bare,"icon-name":"close"},on:{click:function(t){return t.stopPropagation(),e.close.apply(null,arguments)}}}),e._v(" "),t("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:e.xDockButton,expression:"xDockButton"}],staticClass:"bg-light-ui-150 dark:bg-dark-ui-150 text-dark-text-200 dark:text-light-text-200 hover-hover:hover:bg-grey-200 hover-hover:dark:hover:bg-grey-600",attrs:{label:e.__("Dock"),"color-scheme":e.OzIconButtonColorScheme.Bare,"icon-name":"dock"},on:{click:function(t){return t.stopPropagation(),e.dock.apply(null,arguments)}}}),e._v(" "),t("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:e.xExpandButton,expression:"xExpandButton"}],staticClass:"bg-light-ui-150 dark:bg-dark-ui-150 text-dark-text-200 dark:text-light-text-200 hover-hover:hover:bg-grey-200 hover-hover:dark:hover:bg-grey-600",attrs:{label:e.__("Expand"),"color-scheme":e.OzIconButtonColorScheme.Bare,"icon-name":"expand"},on:{click:function(t){return t.stopPropagation(),e.expand.apply(null,arguments)}}}),e._v(" "),e.xMinimizeButton?t("OzIconButton",{staticClass:"bg-light-ui-150 dark:bg-dark-ui-150 text-dark-text-200 dark:text-light-text-200 hover-hover:hover:bg-grey-200 hover-hover:dark:hover:bg-grey-600",attrs:{label:e.__("Minimize"),"color-scheme":e.OzIconButtonColorScheme.Bare,"icon-name":"minimize"},on:{click:function(t){return t.stopPropagation(),e.minimize.apply(null,arguments)}}}):e._e()]],2),e._v(" "),e.shouldAutoPublish?t("div",{key:"auto-publish-controls",class:["text-dark-text-200","dark:text-light-text-200","mt-1.5","text-body-extra-small","ltr:text-right","rtl:text-left","block","flex-grow-0",e.isDocked?"w-48":"w-60"]},[e._v("\n    "+e._s(e.isDocked?e.__("Will auto-publish upon upload completion."):e.__("Will auto-publish when upload completes."))+"\n    "),t("OzTextButton",{class:["h-[17px]","p-0","text-body-extra-small","font-bold",e.isDocked?"!inline-block":"mr-0 ml-auto"],attrs:{"color-scheme":e.OzTextButtonColorScheme.Primary,text:e.__("Undo auto-publish"),"aria-label":e.__("Undo auto-publish"),title:e.__("Undo auto-publish")},on:{click:function(t){return t.stopPropagation(),e.$emit("stop-auto-publish")}}})],1):t("div",{key:"draft-publish-controls",class:{flex:!0,"rtl:space-x-reverse":!0,"space-x-2.5":e.isPhone,"space-x-2":!e.isPhone&&e.isDocked,"space-x-4":!e.isPhone&&!e.isDocked}},[e.canIPostWithoutWaitingForApproval?e._e():[e.isPhone?t("div",{staticClass:"self-center text-dark-text-200 dark:text-light-text-200",on:{click:function(t){return t.stopPropagation(),e.onApprovalInfoClick.apply(null,arguments)}}},[t("OzIcon",{attrs:{name:e.xRequiresApprovalBanner?"info_solid":"info_outline",size:24}})],1):t("div",{staticClass:"self-center text-body-extra-small text-dark-text-200 dark:text-light-text-200"},[e._v("\n        "+e._s(e.__("Requires approval"))+"\n      ")])],e._v(" "),e.isLargeUi?t("OzContainedButton",{attrs:{"color-scheme":e.OzContainedButtonColorScheme.PrimaryPulsing,disabled:e.disableSave,text:e.sendPostButtonText},on:{click:function(t){return t.stopPropagation(),e.save.apply(null,arguments)}}}):t("OzTextButton",{staticClass:"px-1.5 py-0 h-10 font-semibold text-17",attrs:{"color-scheme":e.OzTextButtonColorScheme.Primary,text:e.sendPostButtonText,"aria-label":e.sendPostButtonText,title:e.sendPostButtonText,disabled:e.disableSave},on:{click:function(t){return t.stopPropagation(),e.save.apply(null,arguments)}}})],2)])}),[],!1,null,null,null).exports,G=o(741),U=o(325),W=o(421),V=o(737),q=o(739),Y=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},K=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let X=class extends(Object(r.c)()){click(e){this.$emit("click")}};Y([Object(r.e)(),K("design:type",Boolean)],X.prototype,"xBorder",void 0),X=Y([Object(r.a)({})],X);var Z=X,J=Object(g.a)(Z,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{class:["block","bg-light-ui-200","dark:bg-dark-ui-300","bg-opacity-80","dark:bg-opacity-86","text-dark-text-200","dark:text-light-text-200","backdrop-filter","backdrop-blur-md","no-underline","cursor-pointer","select-none","transition","focus:outline-none","h-6","w-17.5","rounded-lg",e.xBorder?"":"border-none","flex","items-center","justify-center","font-sans","font-semibold","text-body-extra-small","whitespace-nowrap","hover-hover:hover:bg-light-ui-300","hover-hover:dark:hover:bg-steel-active-dark","focus:bg-light-ui-300","dark:focus:bg-steel-active-dark","hover-hover:active:bg-grape-500","hover-hover:active:text-white-100","hover-hover:dark:active:bg-canary-500","hover-hover:dark:active:text-highway-100",...e.xBorder?["border","border-solid","border-attachment-preview-border-light","dark:border-attachment-preview-border-dark"]:""],on:{click:e.click,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.click.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.click.apply(null,arguments)}]}},[e._v("\n  "+e._s(e.__("Remove"))+"\n")])}),[],!1,null,null,null).exports,Q=o(506),ee=o(213),te=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},oe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const ie=Object(n.d)("browser"),re=Object(n.d)("draft");let ne=class extends r.f{constructor(){super(...arguments),this.OzTextButtonColorScheme=z.a,this.isImageLoaded=!1,this.linkData=null,this.imageWidth=(()=>this.isShownOnSide?256:this.isPhone?343:this.isModalDocked?372:508)(),this.focusingCaptionOnLoad=!1}get darkThemeType(){return"browser"}get isDark(){return this.darkMode}get backgroundColor(){return this.darkMode?ee.a:ee.c}get buttonBackgroundColor(){return this.darkMode?ee.b:ee.d}get imageBackgroundColor(){return this.linkData?Object(ee.p)(this.linkData.image_color):this.backgroundColor}get isShowingAttachmentBorder(){return Object(ee.e)(this.backgroundColor,this.imageBackgroundColor)<1.5}get isShowingRemoveButtonBorder(){return Object(ee.e)(this.buttonBackgroundColor,this.imageBackgroundColor)<1.5}get attachmentTitle(){return Object(Q.b)(this.linkData)}get isCustomAttachment(){var e,t,o;return!!(null===(o=null===(t=null===(e=this.activeDraft)||void 0===e?void 0:e.wish_content)||void 0===t?void 0:t.attachment_props)||void 0===o?void 0:o.type)}handleDeviceWidthChanged(){this.$nextTick(()=>{this.calculateImageSize()})}removeAttachment(){this.$emit("remove"),this.removeDraftAttachment({postCid:this.activeDraft.cid})}handleCaptionTextChange(e){this.updateActiveDraft({attachment_caption:e})}handleAttachmentDataLoaded(e){this.linkData=e}calculateImageSize(){this.imageWidth=this.$el.offsetWidth}handleAttachmentPreviewLoaded(){this.$emit("load"),this.isImageLoaded=!0,this.isPhone&&this.$nextTick(()=>{this.calculateImageSize()}),this.focusingCaptionOnLoad&&this.$nextTick(()=>{this.$refs.caption.focusOnLoad()})}handleAttachmentPreviewError(){}focusCaptionOnLoad(){this.isImageLoaded?this.$refs.caption.focusOnLoad():this.focusingCaptionOnLoad=!0}};te([Object(r.e)(),oe("design:type",String)],ne.prototype,"url",void 0),te([Object(r.e)(),oe("design:type",Object)],ne.prototype,"caption",void 0),te([Object(r.e)({required:!0}),oe("design:type",Boolean)],ne.prototype,"isModalDocked",void 0),te([Object(r.e)({default:!1}),oe("design:type",Boolean)],ne.prototype,"isShownOnSide",void 0),te([n.b,oe("design:type",String)],ne.prototype,"dir",void 0),te([ie.Getter,oe("design:type",Number)],ne.prototype,"windowWidth",void 0),te([ie.Getter,oe("design:type",Boolean)],ne.prototype,"isPhone",void 0),te([ie.State,oe("design:type",Boolean)],ne.prototype,"darkMode",void 0),te([re.Getter,oe("design:type",Object)],ne.prototype,"activeDraft",void 0),te([re.Action,oe("design:type",Function)],ne.prototype,"updateActiveDraft",void 0),te([re.Action,oe("design:type",Function)],ne.prototype,"removeDraftAttachment",void 0),te([Object(r.g)("windowWidth"),oe("design:type",Function),oe("design:paramtypes",[]),oe("design:returntype",void 0)],ne.prototype,"handleDeviceWidthChanged",null),ne=te([Object(r.a)({components:{BeethovenAttachmentPreview:V.a,BeethovenAttachmentCaption:q.a,OzTextButton:z.c,SurfaceComposerModalAttachmentRemoveButton:J}})],ne);var ae=ne,se=Object(g.a)(ae,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["rounded-2xl","justify-center","flex","flex-col",e.isImageLoaded?" mt-4":"w-px h-0"]},[t("div",{staticClass:"relative flex"},[!e.isCustomAttachment&&e.isImageLoaded?t("SurfaceComposerModalAttachmentRemoveButton",{staticClass:"absolute ltr:right-2 rtl:left-2 bottom-2 z-10",attrs:{"x-border":e.isShowingRemoveButtonBorder},on:{click:e.removeAttachment}}):e._e(),e._v(" "),t("BeethovenAttachmentPreview",{attrs:{"border-radius-class":"rounded-2xl","x-border":e.isShowingAttachmentBorder,"x-metadata":!0,url:e.url,width:e.imageWidth,caption:e.caption,"lazy-loading":!1,"dark-theme-type":e.darkThemeType,"is-dark":e.isDark,"usage-context":"postModal","post-cid":e.activeDraft&&e.activeDraft.cid},on:{"load-data":e.handleAttachmentDataLoaded,"load-image":e.handleAttachmentPreviewLoaded,error:e.handleAttachmentPreviewError}})],1),e._v(" "),t("div",{class:["flex flex-row justify-end items-start","pt-2",e.isCustomAttachment?"px-3":"px-2"]},[e.isImageLoaded?t("BeethovenAttachmentCaption",{ref:"caption",class:["pe-2 flex-grow"],attrs:{caption:e.caption,"attachment-title":e.attachmentTitle,"can-edit-inline":e.isImageLoaded,"dark-theme-type":e.darkThemeType,"is-dark":e.isDark,"usage-context":"postModal"},on:{change:e.handleCaptionTextChange,"edit-start":function(t){return e.$emit("start-attachment-caption-edit")}}}):e._e(),e._v(" "),e.isCustomAttachment&&e.isImageLoaded?t("OzTextButton",{class:["p-0 m-0 flex-none",e.isPhone?"text-body-extra-small":"text-body-small-posts","font-semibold"],attrs:{"color-scheme":e.OzTextButtonColorScheme.SecondaryMuted,text:e.__("Remove")},on:{click:e.removeAttachment}}):e._e()],1)])}),[],!1,null,null,null).exports,le=o(1368),ce=o.n(le),de=o(1369),pe=o.n(de),ue=o(1370),he=o.n(ue),ge=o(1371),fe=o.n(ge),me=o(1372),ve=o.n(me),ye=o(1084),be=o(132),xe=o(1373),ke=o.n(xe),we=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},Se=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Oe=class extends(Object(r.c)()){constructor(){super(...arguments),this.TOTAL_HEXAGONS_DOCKED=53,this.TOTAL_HEXAGONS_EXPANDED=73,this.COLUMN_COUNT_DOCKED=11,this.COLUMN_COUNT_EXPANDED=15,this.MAX_COLUMN_COUNT_MOBILE_TABLET=33,this.shouldFillHexDocked={},this.unfilledHexKeysDocked=[],this.shouldFillHexExpanded={},this.unfilledHexKeysExpanded=[]}get nRows(){return this.isDesktop?5:2}get nCols(){return this.isDesktop?this.isDocked?this.COLUMN_COUNT_DOCKED:this.COLUMN_COUNT_EXPANDED:this.MAX_COLUMN_COUNT_MOBILE_TABLET-2*this.sideHexagonsOutsideModalCount+4}onProgress(e,t){if(e<.01)return;const o=e<1?Math.round((e-t)*this.TOTAL_HEXAGONS_EXPANDED):this.unfilledHexKeysExpanded.length,i=e<1?Math.round((e-t)*this.TOTAL_HEXAGONS_DOCKED):this.unfilledHexKeysDocked.length;for(let r=0;r<o;++r){const e=this.unfilledHexKeysExpanded.pop();e&&(this.shouldFillHexExpanded[e]=!0)}for(let r=0;r<i;++r){const e=this.unfilledHexKeysDocked.pop();e&&(this.shouldFillHexDocked[e]=!0)}}get totalHexagonsOnScreen(){return this.isDesktop?this.isDocked?this.TOTAL_HEXAGONS_DOCKED:this.TOTAL_HEXAGONS_EXPANDED:this.columnLimit(1)+this.columnLimit(2)-4}get progressUnitsDigit(){return Math.floor(100*this.progress%10)}get progressTensDigit(){return Math.floor(10*this.progress%10)}get columnIndexForTrashIcon(){const e=this.isDesktop?0:2;return this.nCols-e-1}columnLimit(e){return e%2===0?this.nCols:this.nCols-1}hexagonText(e,t){const o=1===Math.floor(this.progress);let i=1,r=2,n=3,a=4;if("rtl"===this.dir&&(i=o?4:3,r=o?3:2,n=o?2:1,a=1),0===e){if(t===this.columnIndexForTrashIcon-i)return"%";if(t===this.columnIndexForTrashIcon-r)return""+this.progressUnitsDigit;if(t===this.columnIndexForTrashIcon-n)return""+(this.progressTensDigit>0||1===Math.floor(this.progress)?this.progressTensDigit:"");if(o&&t===this.columnIndexForTrashIcon-a)return"1"}return""}shouldFillHexagon(e,t){if(!this.isDesktop){return(2*t-(0===e?1:0))/this.totalHexagonsOnScreen<=this.progress}return this.isDocked?!!this.shouldFillHexDocked[this.hexagonKey(e,t)]:!!this.shouldFillHexExpanded[this.hexagonKey(e,t)]}hexagonKey(e,t){return`${e}-${t}`}isCancelButton(e,t){return 0===e&&t===this.columnIndexForTrashIcon}created(){const e=e=>[...Array(this.COLUMN_COUNT_DOCKED-e%2).keys()],t=e=>[...Array(this.COLUMN_COUNT_EXPANDED-e%2).keys()],{dockedIndices:o,expandedIndices:i}=[0,1,2,3,4].reduce((o,i)=>({dockedIndices:[...o.dockedIndices,...e(i).map(e=>this.hexagonKey(i,e))],expandedIndices:[...o.expandedIndices,...t(i).map(e=>this.hexagonKey(i,e))]}),{dockedIndices:[],expandedIndices:[]});this.unfilledHexKeysDocked=ke()(o),this.unfilledHexKeysExpanded=ke()(i),this.progress&&this.onProgress(this.progress,0)}cancel(){this.$emit("cancel")}};we([Object(r.e)({required:!0}),Se("design:type",Boolean)],Oe.prototype,"isDocked",void 0),we([Object(r.e)({required:!0}),Se("design:type",Number)],Oe.prototype,"sideHexagonsOutsideModalCount",void 0),we([Object(r.e)({required:!0}),Se("design:type",Number)],Oe.prototype,"progress",void 0),we([n.b,Se("design:type",Boolean)],Oe.prototype,"isDesktop",void 0),we([n.b,Se("design:type",String)],Oe.prototype,"dir",void 0),we([Object(r.g)("progress"),Se("design:type",Function),Se("design:paramtypes",[Number,Number]),Se("design:returntype",void 0)],Oe.prototype,"onProgress",null),Oe=we([Object(r.a)({components:{RoundedHexagonIcon:ye.a}})],Oe);var _e=Oe,Ce=Object(g.a)(_e,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["flex","flex-col","-space-y-1.25"]},e._l(e.nRows,(function(o,i){return t("div",{key:i,class:["flex","ltr:even:ml-4.25 rtl:even:mr-[18px]","space-x-0.5 rtl:space-x-reverse","w-min"],attrs:{dir:e.dir}},e._l(e.columnLimit(i),(function(o,r){return t("rounded-hexagon-icon",{key:e.hexagonKey(i,r),class:[!e.isCancelButton(i,r)&&"text-base",!e.isCancelButton(i,r)&&"font-semibold","transition-colors"],attrs:{height:37,"icon-size":20,"icon-line-height":.95,"icon-name":e.isCancelButton(i,r)&&"delete","background-color":e.shouldFillHexagon(i,r)?"loadingColors":"transparent",text:e.hexagonText(i,r),color:0===i&&e.shouldFillHexagon(i,r)?"invertedPrimary":"secondary",title:e.isCancelButton(i,r)&&e.__("Cancel"),"is-button":e.isCancelButton(i,r),"should-stop-click-propagation":!0},on:{click:e.cancel}})})),1)})),0)}),[],!1,null,null,null).exports,Pe=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},De=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const je=Object(n.d)("draft");let Te=class extends(Object(r.c)()){constructor(){super(...arguments),this.EXTRACTION_TIME_MS_95TH=12e3,this.fakeExtractionProgressIntervalId=null,this.fakeExtractionProgress=0,this.isFileUploadDone=!1}get isUploadingFile(){return!!this.activeDraft.uploadingFile}get uploadFileProgress(){return this.activeDraft.uploadProgress||0}get gridProgress(){const e=this.isUploadingFile||this.isFileUploadDone?.9*this.uploadFileProgress+.1*this.fakeExtractionProgress:this.fakeExtractionProgress;return Math.pow(e,2)}fakeExtractionAfterUpload(e){1===Math.floor(e)&&(this.isFileUploadDone=!0,this.startFakeExtractionProgress({intervalMs:this.EXTRACTION_TIME_MS_95TH/3,totalTimeMs:this.EXTRACTION_TIME_MS_95TH}))}startFakeExtractionProgress({intervalMs:e,totalTimeMs:t}){this.fakeExtractionProgressIntervalId=window.setInterval(()=>{this.fakeExtractionProgress+=e/t,1===Math.floor(this.fakeExtractionProgress)&&(this.fakeExtractionProgress=1,this.stopFakeExtractionProgress())},e)}stopFakeExtractionProgress(){this.fakeExtractionProgressIntervalId&&window.clearInterval(this.fakeExtractionProgressIntervalId)}cancelLoadAttachment(){this.isUploadingFile?this.stopUploadFileActiveDraft():this.removeDraftAttachment({postCid:this.activeDraft.cid})}mounted(){this.isUploadingFile||this.startFakeExtractionProgress({intervalMs:this.EXTRACTION_TIME_MS_95TH/24,totalTimeMs:this.EXTRACTION_TIME_MS_95TH})}beforeDestroy(){this.stopFakeExtractionProgress()}};Pe([Object(r.e)({required:!0}),De("design:type",Boolean)],Te.prototype,"isDocked",void 0),Pe([Object(r.e)({required:!0}),De("design:type",Number)],Te.prototype,"sideHexagonsOutsideModalCount",void 0),Pe([je.Getter,De("design:type",Object)],Te.prototype,"activeDraft",void 0),Pe([je.Action,De("design:type",Function)],Te.prototype,"removeDraftAttachment",void 0),Pe([je.Action,De("design:type",Function)],Te.prototype,"stopUploadFileActiveDraft",void 0),Pe([Object(r.g)("uploadFileProgress",{immediate:!0}),De("design:type",Function),De("design:paramtypes",[Number]),De("design:returntype",void 0)],Te.prototype,"fakeExtractionAfterUpload",null),Te=Pe([Object(r.a)({components:{SurfaceComposerModalHexGridProgress:Ce}})],Te);var Ae,Me=Te,Be=Object(g.a)(Me,(function(){var e=this._self._c;this._self._setupProxy;return e("surface-composer-modal-hex-grid-progress",{attrs:{"is-docked":this.isDocked,"side-hexagons-outside-modal-count":this.sideHexagonsOutsideModalCount,progress:this.gridProgress},on:{cancel:this.cancelLoadAttachment}})}),[],!1,null,null,null).exports,ze=o(366),Re=o(68),Ie=o(231),Ee=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},Fe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e[e.Ready=0]="Ready",e[e.LoadingAttachment=1]="LoadingAttachment",e[e.HandlingDragEvent=2]="HandlingDragEvent"}(Ae||(Ae={}));const Ne=Object(n.d)("browser"),He=Object(n.d)("draft"),$e=Object(n.d)("contentPicker"),Le=Object(n.d)("dragAndDropEvents");let Ge=class extends(Object(r.c)()){constructor(){super(...arguments),this.HEXAGON_WIDTH_WITH_SPACE=34,this.HEXAGON_HEIGHT=37,this.Source=ze.a,this.SearchFilters=Ie.a,this.isContentPickerOpenedFromHere=!1}get gridState(){var e;return this.isPageHandlingDragEvent?Ae.HandlingDragEvent:(null===(e=this.activeDraft)||void 0===e?void 0:e.attachment)||this.activeDraftUploadingFile?Ae.LoadingAttachment:Ae.Ready}get isReadyState(){return this.gridState===Ae.Ready}get isLoadingAttachment(){return this.gridState===Ae.LoadingAttachment}get isHandlingDragEvent(){return this.gridState===Ae.HandlingDragEvent}get shouldSetBackgroundColor(){return!this.isLargeUi||!this.isReadyState&&!this.isHandlingDragEvent}get gridWidth(){return this.isLargeUi?this.isDocked?372:508:1120}get gridHeight(){return this.isLargeUi?165:69}get hexGridImageUrl(){let e;return e=this.isLargeUi?this.isDocked?this.darkMode?ve.a:he.a:this.darkMode?fe.a:pe.a:ce.a,`url(${e})`}get maskedGridStyle(){return{maskImage:this.hexGridImageUrl,maskSize:"100% 100%"}}get gridStyle(){const e=this.gridWidth+"px",t=this.gridHeight+"px",o={minWidth:e,maxWidth:e,minHeight:t,maxHeight:t};return this.isLargeUi&&(this.isReadyState||this.isHandlingDragEvent)?o.backgroundImage=this.hexGridImageUrl:Object.assign(o,this.maskedGridStyle),o}get sideHexagonsOutsideModalCount(){if(this.isLargeUi)return 0;const e=this.isPhone?this.windowWidth:540;return Math.ceil(.5*(this.gridWidth-e)/this.HEXAGON_WIDTH_WITH_SPACE)}resetFile(){this.$refs.hiddenFileInput.value=""}uploadFile(e){this.uploadFileActiveDraft({file:e.target.files[0]})}getContent(e){this.pickContentSource({source:e})}getContentIfSupported(e,t){t===ze.a.FileBrowser?this.$refs.hiddenFileInput.click():this.isMobile?t===ze.a.PhotoBooth&&this.$refs.hiddenImageInput.click():this.getContent(t)}openContentSearchMenu(e,t){if(Object(Re.a)("contentPicker",1)){const o={left:e.clientX,top:e.clientY};this.showContentSourceMenu({position:o,searchFilter:t,search:!0}),this.isContentPickerOpenedFromHere=!0,this.$nextTick(()=>{const e=document.querySelector("input.search-input");e&&e.focus()})}else this.getContent(ze.a.WebBrowser)}chooseContentSource(e){if(!this.isReadyState)return;const t={left:e.clientX,top:e.clientY};this.showContentSourceMenu({position:t}),this.isContentPickerOpenedFromHere=!0}openLinkInput(e){this.isReadyState&&(this.chooseContentSource(e),this.startLinkInputMode())}focusOnEditorOnMenuClose(e){e||this.isContentPickerOpenedFromHere&&(this.isContentPickerOpenedFromHere=!1,this.$emit("close-content-picker"))}};Ee([Object(r.e)({required:!0}),Fe("design:type",Boolean)],Ge.prototype,"isDocked",void 0),Ee([Object(r.e)({required:!0}),Fe("design:type",Boolean)],Ge.prototype,"isPageHandlingDragEvent",void 0),Ee([Object(r.e)({required:!0}),Fe("design:type",Boolean)],Ge.prototype,"isLargeUi",void 0),Ee([n.c,Fe("design:type",Boolean)],Ge.prototype,"isMobile",void 0),Ee([n.b,Fe("design:type",String)],Ge.prototype,"dir",void 0),Ee([Ne.State,Fe("design:type",Boolean)],Ge.prototype,"darkMode",void 0),Ee([Ne.Getter,Fe("design:type",Boolean)],Ge.prototype,"isPhone",void 0),Ee([Ne.Getter,Fe("design:type",Number)],Ge.prototype,"windowWidth",void 0),Ee([He.Getter,Fe("design:type",Object)],Ge.prototype,"activeDraft",void 0),Ee([He.Getter,Fe("design:type",Object)],Ge.prototype,"activeDraftUploadingFile",void 0),Ee([Le.Getter,Fe("design:type",String)],Ge.prototype,"dropActionMessage",void 0),Ee([$e.Getter,Fe("design:type",Boolean)],Ge.prototype,"xContentPicker",void 0),Ee([$e.Action,Fe("design:type",Function)],Ge.prototype,"pickContentSource",void 0),Ee([$e.Action,Fe("design:type",Function)],Ge.prototype,"showContentSourceMenu",void 0),Ee([$e.Action,Fe("design:type",Function)],Ge.prototype,"startLinkInputMode",void 0),Ee([He.Action,Fe("design:type",Function)],Ge.prototype,"uploadFileActiveDraft",void 0),Ee([He.Action,Fe("design:type",Function)],Ge.prototype,"updateActiveDraft",void 0),Ee([Object(r.g)("xContentPicker"),Fe("design:type",Function),Fe("design:paramtypes",[Boolean]),Fe("design:returntype",void 0)],Ge.prototype,"focusOnEditorOnMenuClose",null),Ge=Ee([Object(r.a)({components:{RoundedHexagonIcon:ye.a,OzLoadingSpinner:be.a,SurfaceComposerModalAttachmentGridLoading:Be}})],Ge);var Ue=Ge,We=Object(g.a)(Ue,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["flex","justify-center",...e.shouldSetBackgroundColor?["bg-light-ui-200","dark:bg-dark-ui-200"]:[],e.isReadyState&&e.isLargeUi&&"items-center",e.isReadyState&&"cursor-pointer",e.isHandlingDragEvent&&"rounded-2xl border border-dashed border-grape-500 dark:border-canary-500 overflow-hidden"],style:e.gridStyle,on:{click:e.chooseContentSource}},[e.isReadyState?t("div",{class:["flex","flex-row","space-x-9 rtl:space-x-reverse"],attrs:{dir:e.dir}},[t("rounded-hexagon-icon",{attrs:{height:e.HEXAGON_HEIGHT,"background-color":"green","icon-size":20,"icon-name":e.isLargeUi?"upload":"photo_video","icon-line-height":.97,"is-button":!0,"should-stop-click-propagation":!0,title:e.__("Upload")},on:{click:function(t){return e.getContentIfSupported(t,e.Source.FileBrowser)}}}),e._v(" "),t("input",{ref:"hiddenFileInput",attrs:{type:"file",hidden:"","aria-hidden":"true"},on:{change:e.uploadFile,click:function(t){return t.stopPropagation(),e.resetFile.apply(null,arguments)}}}),e._v(" "),t("rounded-hexagon-icon",{attrs:{height:e.HEXAGON_HEIGHT,"background-color":"green","icon-size":20,"icon-name":"camera","icon-line-height":.97,"is-button":!0,"should-stop-click-propagation":!0,title:e.__("Take photo")},on:{click:function(t){return e.getContentIfSupported(t,e.Source.PhotoBooth)}}}),e._v(" "),t("input",{ref:"hiddenImageInput",attrs:{type:"file",accept:"image/*",capture:"environment",hidden:"","aria-hidden":"true"},on:{change:e.uploadFile,click:function(e){e.stopPropagation()}}}),e._v(" "),t("rounded-hexagon-icon",{attrs:{height:e.HEXAGON_HEIGHT,"background-color":"orange","icon-size":20,"icon-name":"link","icon-line-height":.95,"is-button":!0,"should-stop-click-propagation":!0,title:e.__("Link")},on:{click:e.openLinkInput}}),e._v(" "),t("rounded-hexagon-icon",{attrs:{height:e.HEXAGON_HEIGHT,"background-color":"orange","icon-size":20,"icon-name":"image_search","icon-line-height":.95,"is-button":!0,"should-stop-click-propagation":!0,title:e.__("Image Search")},on:{click:function(t){return e.openContentSearchMenu(t,e.SearchFilters.Images)}}}),e._v(" "),t("rounded-hexagon-icon",{attrs:{height:e.HEXAGON_HEIGHT,"background-color":"pink","icon-size":20,"icon-name":"dot_3_horizontal","icon-line-height":.95,"is-button":!0,"should-stop-click-propagation":!0,title:e.__("More")},on:{click:e.chooseContentSource}})],1):e.isLoadingAttachment?[t("surface-composer-modal-attachment-grid-loading",{attrs:{"is-docked":e.isDocked,"side-hexagons-outside-modal-count":e.sideHexagonsOutsideModalCount}})]:e.isHandlingDragEvent?t("div",{class:["rounded-2xl","flex","items-center","justify-center","backdrop-filter","backdrop-blur","bg-light-ui-100","dark:bg-dark-ui-100","bg-opacity-43","dark:bg-opacity-18","text-center","text-input-body","font-sans","break-words","text-grape-500 dark:text-canary-500","font-bold"],style:{width:e.gridWidth+"px"}},[e._v("\n    "+e._s(e.dropActionMessage)+"\n  ")]):e._e()],2)}),[],!1,null,null,null).exports,Ve=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},qe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ye=class extends s.b{get hasCustomIcon(){return!!this.$slots.customIcon}click(e){this.$emit("click",e)}};Ve([Object(r.e)({default:"padlet"}),qe("design:type",String)],Ye.prototype,"iconName",void 0),Ve([Object(r.e)({default:16}),qe("design:type",Number)],Ye.prototype,"iconSize",void 0),Ve([Object(r.e)({required:!0}),qe("design:type",String)],Ye.prototype,"text",void 0),Ve([Object(r.e)({default:!1}),qe("design:type",Boolean)],Ye.prototype,"disabled",void 0),Ye=Ve([Object(r.a)({components:{OzIcon:M.default}})],Ye);var Ke,Xe=Ye,Ze=Object(g.a)(Xe,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{class:["cursor-pointer","select-none","transition","focus:outline-none","h-8","rounded-3xl","border-none","flex","space-x-1.5 rtl:space-x-reverse","items-center","justify-center","text-12-18","font-normal","font-sans","whitespace-nowrap","ltr:pl-2.5 rtl:pl-3","ltr:pr-3 rtl:pr-2.5","bg-light-ui-300","dark:bg-dark-ui-300","text-highway-200","dark:text-white-200","hover-hover:hover:bg-steel-active-light","hover-hover:dark:hover:bg-steel-active-dark","hover-hover:focus:bg-steel-active-light","hover-hover:dark:focus:bg-steel-active-dark","hover-hover:active:bg-steel-active-light","hover-hover:dark:active:bg-steel-active-dark","hover-hover:disabled:bg-steel-disabled-light","hover-hover:dark:disabled:bg-steel-disabled-dark","hover-hover:disabled:text-highway-disabled","hover-hover:dark:disabled:text-white-disabled","hover-hover:disabled:cursor-not-allowed"],attrs:{disabled:e.disabled},on:{click:e.click}},[e._t("customIcon"),e._v(" "),e.hasCustomIcon?e._e():t("OzIcon",{attrs:{size:e.iconSize,name:e.iconName}}),e._v(" "),t("div",{staticClass:"truncate"},[e._v(e._s(e.text))])],2)}),[],!1,null,null,null).exports,Je=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},Qe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const et=Object(n.d)("browser"),tt=Object(n.d)("draft"),ot=Object(n.d)("section"),it=Object(n.d)("composerModalTagInputs");let rt=class extends(Object(r.c)()){get sectionTitle(){var e;return(null===(e=this.sectionById(this.activeDraft.wall_section_id))||void 0===e?void 0:e.title)||this.__("No section")}get locationName(){return this.activeDraft.location_name||this.__("No location")}get isLightColorScheme(){return"light"===this.colorScheme}get postColorName(){return Object(ee.j)({postColor:this.activeDraft.color,isLightColorScheme:this.isLightColorScheme})}get postColorClasses(){return[Object(ee.l)({postColor:this.activeDraft.color,isLightColorScheme:this.isLightColorScheme}),Object(ee.m)({postColor:this.activeDraft.color,isLightColorScheme:this.isLightColorScheme}),...Object(ee.o)({isLightColorScheme:this.isLightColorScheme})]}updateInputChipPostions(){this.$nextTick(()=>{const e=this.$refs.sectionChip?{top:this.$refs.sectionChip.$el.getBoundingClientRect().top,left:this.$refs.sectionChip.$el.getBoundingClientRect().left,width:this.$refs.sectionChip.$el.getBoundingClientRect().width}:{top:0,left:0,width:0},t=this.$refs.locationChip?{top:this.$refs.locationChip.$el.getBoundingClientRect().top,left:this.$refs.locationChip.$el.getBoundingClientRect().left,width:this.$refs.locationChip.$el.getBoundingClientRect().width}:{top:0,left:0,width:0},o=this.$refs.postColorChip?{top:this.$refs.postColorChip.$el.getBoundingClientRect().top,left:this.$refs.postColorChip.$el.getBoundingClientRect().left,width:this.$refs.postColorChip.$el.getBoundingClientRect().width}:{top:0,left:0,width:0};this.updatePopoverAnchorPositions({sectionChipPosition:e,locationChipPosition:t,postColorChipPosition:o})})}onVisualViewportHeightChange(){setTimeout(()=>this.updateInputChipPostions(),200)}openInput(e){this.updateInputChipPostions(),this.openPopover({inputType:e})}mounted(){this.updateInputChipPostions(),O.a.addEventListener("resize",this.updateInputChipPostions),O.a.addEventListener("scroll",this.updateInputChipPostions)}beforeDestroy(){O.a.removeEventListener("resize",this.updateInputChipPostions),O.a.removeEventListener("scroll",this.updateInputChipPostions)}};Je([n.b,Qe("design:type",Boolean)],rt.prototype,"isShelf",void 0),Je([n.b,Qe("design:type",Boolean)],rt.prototype,"isMap",void 0),Je([n.b,Qe("design:type",String)],rt.prototype,"colorScheme",void 0),Je([tt.Getter,Qe("design:type","function"===typeof(Ke="undefined"!==typeof DraftPost&&DraftPost)?Ke:Object)],rt.prototype,"activeDraft",void 0),Je([ot.Getter,Qe("design:type",Function)],rt.prototype,"sectionById",void 0),Je([et.Getter,Qe("design:type",Number)],rt.prototype,"visualViewportHeight",void 0),Je([it.Action,Qe("design:type",Function)],rt.prototype,"updatePopoverAnchorPositions",void 0),Je([it.Action,Qe("design:type",Function)],rt.prototype,"openPopover",void 0),Je([Object(r.g)("visualViewportHeight"),Qe("design:type",Function),Qe("design:paramtypes",[]),Qe("design:returntype",void 0)],rt.prototype,"onVisualViewportHeightChange",null),rt=Je([Object(r.a)({components:{InputChip:Ze}})],rt);var nt=rt,at=Object(g.a)(nt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:["px-4","flex","space-x-4 rtl:space-x-reverse","bg-modal-top-light","dark:bg-modal-top-dark","md:bg-transparent"]},[e.isShelf?t("input-chip",{ref:"sectionChip",staticClass:"flex-shrink min-w-0",attrs:{"icon-name":"section",text:e.sectionTitle,title:e.sectionTitle},on:{click:function(t){return e.openInput("section")}}}):e._e(),e._v(" "),e.isMap?t("input-chip",{ref:"locationChip",staticClass:"flex-shrink min-w-0",attrs:{"icon-name":"location_marker",text:e.locationName,title:e.locationName},on:{click:function(t){return e.openInput("location")}}}):e._e(),e._v(" "),t("input-chip",{ref:"postColorChip",staticClass:"flex-shrink-0 capitalize group",attrs:{text:e.postColorName,title:e.postColorName},on:{click:function(t){return e.openInput("postColor")}},scopedSlots:e._u([{key:"customIcon",fn:function(){return[t("div",{class:["h-4","w-4","rounded-xl","bg-clip-padding",e.postColorClasses]})]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,st=o(80),lt=o(22),ct=o(468),dt=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},pt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const ut=Object(n.d)("draft"),ht=Object(n.d)("browser"),gt=Object(n.d)("composerModal"),ft=Object(n.d)("composerModalAlert"),mt=Object(n.d)("dragAndDropEvents");let vt=class extends(Object(r.c)(G.a)){constructor(){super(...arguments),this.bodyFocused=!1,this.isLastActionAttachment=!1,this.subjectAttachmentLink=null,this.firstSubjectUndoOccurred=!1,this.unsubscribeTinyKeys=()=>{},this.isAttachmentLoaded=!1}get isAttachmentGridInBottom(){return!this.isLargeUi&&!this.isPageHandlingDragEvent}get xSubjectInput(){return!0}get subjectText(){var e;return(null===(e=this.activeDraft)||void 0===e?void 0:e.subject)||""}get bodyText(){var e;return(null===(e=this.activeDraft)||void 0===e?void 0:e.body)||""}get attachmentUrl(){var e;return(null===(e=this.activeDraft)||void 0===e?void 0:e.attachment)||""}get attachmentCaption(){var e;return null===(e=this.activeDraft)||void 0===e?void 0:e.attachment_caption}get bodyTextPlaceholder(){const e=[this.__("Write something beautiful..."),this.__("Write something fantastic..."),this.__("Write something incredible...")];return e[Math.floor(Math.random()*e.length)]}get isOnScreenKeyboardShowing(){return Math.round(this.visualViewportHeight*this.visualViewportScale)<this.windowHeight}get isShowingTextFormatToolbarInBottom(){return!this.isToolbarFloating&&(this.bodyFocused||this.toolbarInputFocused)}handlePastedFiles(e){var t,o;if(e.length>1)return void this.openAlert({title:this.__("Multiple files pasted"),body:this.__("While writing a post, only one file can be pasted in at a time."),primaryActionText:this.__("Okay"),primaryActions:[]});const i=e[0];if((null===(t=this.activeDraft)||void 0===t?void 0:t.attachment)||this.activeDraftUploadingFile){const e=(null===(o=this.activeDraft)||void 0===o?void 0:o.attachment)?[{type:"draft/removeDraftAttachment",payload:{postCid:this.activeDraft.cid}},{type:"draft/uploadFileActiveDraft",payload:{file:i}}]:[{type:"draft/replaceActiveDraftUploadingFile",payload:{file:i}}];this.openAlert({title:this.__("An attachment already exists"),body:this.__("Are you sure you want to replace your current attachment?"),primaryActionText:this.__("Replace"),secondaryActionText:this.__("Cancel"),secondaryActions:[],primaryActions:e})}else this.uploadFileActiveDraft({file:i})}handlePastedLink(e,t){var o;if((null===(o=this.activeDraft)||void 0===o?void 0:o.attachment)||this.activeDraftUploadingFile)return;this.isLastActionAttachment=!0;"subject"===t.currentTarget.dataset.element&&(this.firstSubjectUndoOccurred=!1,this.subjectAttachmentLink=e,t.preventDefault()),this.updateActiveDraft({attachment:e,wish_content:{attachment_props:{url:e},is_processed:!1}})}handleOnPaste(e){var t,o,i,r,n,a;const s=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain");if(s&&Object(st.f)(s))return void this.handlePastedLink(s,e);if((null===(i=null===(o=e.clipboardData)||void 0===o?void 0:o.types)||void 0===i?void 0:i.includes("text/rtf"))&&(null===(n=null===(r=e.clipboardData)||void 0===r?void 0:r.types)||void 0===n?void 0:n.includes("Files")))return;const l=null===(a=e.clipboardData)||void 0===a?void 0:a.files;!l||l.length<1||(e.preventDefault(),this.handlePastedFiles(l))}respondToVisualViewportHeightChange(){this.checkScrollPosition(),this.setFormattingToolbarPosition()}respondToAttachmentLoadedOrRemoved(){this.checkScrollPosition()}respondToAttachmentUrlChange(e){e||(this.isAttachmentLoaded=!1)}respondToFormatToolbarInputFocused(){this.isShowingTextFormatToolbarInBottom&&setTimeout(()=>{this.setFormattingToolbarPosition()},200)}get isToolbarFloating(){return!this.isMobile}onSubjectChange(e){this.$emit("subject-change",e)}handleSubjectChangeIfNotAttachmentPaste(e){this.isLastActionAttachment||this.onSubjectChange(e)}focusBodyEditor(){this.$refs.editor.focus()}focusSubjectEditor(){this.$refs.subject.focus()}focusEditor(){this.subjectText&&!this.bodyText?this.focusBodyEditor():this.focusSubjectEditor()}onSubjectFocus(){this.hideTrixToolbar()}onBodyChange(e){const t=e.replace(/<span style="background-color: highlight;">(.*?)<\/span>/g,"$1");this.$emit("body-change",t)}onBodyBlur(){this.toolbarInputFocused||this.hideTrixToolbar(),this.bodyFocused=!1}onBodySelectionChange(){this.isToolbarFloating&&this.repositionTrixToolbar()}onBodyFileAccept(e){e.preventDefault()}checkScrollPosition(){this.$refs.postContentEditor&&this.$nextTick(()=>{const e=this.$refs.postContentEditor.scrollTop<1,t=this.$refs.postContentEditor.scrollHeight-this.$refs.postContentEditor.scrollTop-this.$refs.postContentEditor.clientHeight<4;this.updateScrollPosition({scrolledToTop:e,scrolledToBottom:t})})}scrollToTop(){this.$refs.postContentEditor.scroll(0,0)}scrollToBottom(){this.$refs.postContentEditor.scroll(0,this.$refs.postContentEditor.scrollHeight)}scrollTillPositionVisible(e){(this.$refs.postContentEditor.scrollTop>=e-20||this.$refs.postContentEditor.scrollTop+this.$refs.postContentEditor.clientHeight<=e+20)&&this.$refs.postContentEditor.scrollTo(0,e)}onAttachmentCaptionEditStart(){if(this.isTouchable){const e=()=>{this.$nextTick(()=>setTimeout(()=>{const e=this.$refs.attachmentPreview.$refs.caption.$el.offsetTop;this.scrollTillPositionVisible(e)}))};if(Object(lt.a)("visualViewport")&&!this.isOnScreenKeyboardShowing){const t=this.$watch("visualViewportHeight",()=>{e(),t()})}else e()}}onBodyEditStart(){if(this.bodyFocused=!0,this.isToolbarFloating||(this.showTrixToolbar(),this.setFormattingToolbarPosition()),this.isTouchable){const e=()=>{this.$nextTick(()=>setTimeout(()=>{var e,t;const o=null===(e=this.$refs.editor.editor)||void 0===e?void 0:e.getSelectedRange();if(!o)return;const i=null===(t=this.$refs.editor.editor)||void 0===t?void 0:t.getClientRectAtPosition(o[0]);if(!i||!i.top)return;const r=i.top-this.$refs.postContentEditor.getBoundingClientRect().top+this.$refs.postContentEditor.scrollTop-20;this.scrollTillPositionVisible(r)}))};if(Object(lt.a)("visualViewport")&&!this.isOnScreenKeyboardShowing){const t=this.$watch("visualViewportHeight",()=>{e(),t()})}else e()}}setFormattingToolbarPosition(){this.isToolbarFloating||this.$nextTick(()=>{setTimeout(()=>{const e=this.isOnScreenKeyboardShowing?O.a.innerHeight-this.visualViewportHeight:0,t=document.getElementById(this.toolbarId);t&&(t.style.bottom=e+"px")})})}get xAttachmentPreview(){return""!==this.attachmentUrl&&!this.isPageHandlingDragEvent}get shouldShowAttachmentOnTheSide(){return this.isMobile&&this.visualViewportWidth>this.visualViewportHeight&&this.visualViewportWidth>=1024}resetAttachmentAndLinkTrackers(){this.isLastActionAttachment&&(this.isLastActionAttachment=!1,this.subjectAttachmentLink=null)}attachmentRemoved(){this.isAttachmentLoaded=!1,this.isLastActionAttachment=!1,this.subjectAttachmentLink=null}customKeyboardUndoBehavior(){this.unsubscribeTinyKeys=Object(ct.a)(this.$refs.postContentEditor,{"$mod+KeyZ":()=>{var e;if(this.isLastActionAttachment)return(null===(e=this.activeDraft)||void 0===e?void 0:e.cid)&&this.removeDraftAttachment({postCid:this.activeDraft.cid}),this.subjectAttachmentLink?void(this.firstSubjectUndoOccurred?(this.onSubjectChange(this.subjectText.replace(this.subjectAttachmentLink,"")),this.firstSubjectUndoOccurred=!1,this.isLastActionAttachment=!1,this.subjectAttachmentLink=null):(this.firstSubjectUndoOccurred=!0,this.onSubjectChange(this.subjectText+this.subjectAttachmentLink))):(this.isLastActionAttachment=!1,void(this.subjectAttachmentLink=null))}}),this.$refs.postContentEditor.addEventListener("keydown",this.resetAttachmentAndLinkTrackers)}mounted(){this.setFormattingToolbarPosition(),this.shouldFocusAttachmentCaption?(this.$refs.attachmentPreview.focusCaptionOnLoad(),this.clearShouldFocusAttachmentCaption()):this.focusEditor(),this.checkScrollPosition(),this.customKeyboardUndoBehavior()}beforeDestroy(){this.unsubscribeTinyKeys(),this.$refs.postContentEditor.removeEventListener("keydown",this.resetAttachmentAndLinkTrackers),this.hideTrixToolbar()}};dt([Object(r.e)({required:!0}),pt("design:type",Boolean)],vt.prototype,"isDocked",void 0),dt([Object(r.e)({required:!0}),pt("design:type",Boolean)],vt.prototype,"isLargeUi",void 0),dt([n.c,pt("design:type",Boolean)],vt.prototype,"isMobile",void 0),dt([n.c,pt("design:type",Boolean)],vt.prototype,"isTouchable",void 0),dt([n.c,pt("design:type",Boolean)],vt.prototype,"isMac",void 0),dt([n.c,pt("design:type",Boolean)],vt.prototype,"isIOS",void 0),dt([n.b,pt("design:type",String)],vt.prototype,"dir",void 0),dt([ht.Getter,pt("design:type",Number)],vt.prototype,"windowWidth",void 0),dt([ht.Getter,pt("design:type",Number)],vt.prototype,"windowHeight",void 0),dt([ht.Getter,pt("design:type",Number)],vt.prototype,"visualViewportWidth",void 0),dt([ht.Getter,pt("design:type",Number)],vt.prototype,"visualViewportHeight",void 0),dt([ht.Getter,pt("design:type",Number)],vt.prototype,"visualViewportScale",void 0),dt([ht.Getter("isPhone"),pt("design:type",Boolean)],vt.prototype,"isScreenSizePhone",void 0),dt([ut.Getter,pt("design:type",Object)],vt.prototype,"activeDraft",void 0),dt([ut.Getter,pt("design:type",Object)],vt.prototype,"activeDraftUploadingFile",void 0),dt([gt.Getter,pt("design:type",Boolean)],vt.prototype,"shouldFocusAttachmentCaption",void 0),dt([gt.Getter,pt("design:type",Boolean)],vt.prototype,"xRequiresApprovalBanner",void 0),dt([mt.Getter("isHandlingDragEvent"),pt("design:type",Boolean)],vt.prototype,"isPageHandlingDragEvent",void 0),dt([ut.Action,pt("design:type",Function)],vt.prototype,"uploadFileActiveDraft",void 0),dt([ut.Action,pt("design:type",Function)],vt.prototype,"updateActiveDraft",void 0),dt([ut.Action,pt("design:type",Function)],vt.prototype,"removeDraftAttachment",void 0),dt([gt.Action,pt("design:type",Function)],vt.prototype,"updateScrollPosition",void 0),dt([gt.Action,pt("design:type",Function)],vt.prototype,"clearShouldFocusAttachmentCaption",void 0),dt([ft.Action,pt("design:type",Function)],vt.prototype,"openAlert",void 0),dt([Object(r.g)("visualViewportHeight"),pt("design:type",Function),pt("design:paramtypes",[]),pt("design:returntype",void 0)],vt.prototype,"respondToVisualViewportHeightChange",null),dt([Object(r.g)("isAttachmentLoaded"),pt("design:type",Function),pt("design:paramtypes",[]),pt("design:returntype",void 0)],vt.prototype,"respondToAttachmentLoadedOrRemoved",null),dt([Object(r.g)("attachmentUrl"),pt("design:type",Function),pt("design:paramtypes",[Object]),pt("design:returntype",void 0)],vt.prototype,"respondToAttachmentUrlChange",null),dt([Object(r.g)("toolbarInputFocused"),pt("design:type",Function),pt("design:paramtypes",[]),pt("design:returntype",void 0)],vt.prototype,"respondToFormatToolbarInputFocused",null),vt=dt([Object(r.a)({components:{MultilineInput:U.a,RichTextEditor:W.a,SurfaceComposerModalAttachmentPreview:se,SurfaceComposerModalAttachmentGrid:We,SurfaceComposerModalTags:at}})],vt);var yt=vt,bt=(o(1374),Object(g.a)(yt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex flex-row flex-grow overflow-hidden",attrs:{dir:e.dir}},[t("div",{class:["md:pt-3","relative","flex","flex-col","flex-grow","overflow-hidden",e.isShowingTextFormatToolbarInBottom&&"mb-10 md:mb-0",e.isDocked?"md:w-101":"md:w-135"]},[e.xRequiresApprovalBanner&&e.isScreenSizePhone?t("div",{staticClass:"h-6 flex flex-shrink-0 items-center justify-center bg-light-ui-300 dark:bg-dark-ui-300 text-dark-text-200 dark:text-light-text-200 text-12-16"},[e._v("\n      "+e._s(e.__("Requires approval"))+"\n    ")]):e._e(),e._v(" "),t("div",{ref:"postContentEditor",class:["px-4","mt-4","md:mt-0",e.isAttachmentLoaded?"mb-4":"mb-16","md:mb-4","flex","flex-col","flex-grow","overflow-y-auto","overflow-x-hidden","scrollbar-regular","dark:scrollbar-regular-dark"],attrs:{"data-element":"postContent"},on:{scroll:e.checkScrollPosition}},[t("div",{staticClass:"mx-2"},[e.xSubjectInput?t("multiline-input",{ref:"subject",class:["text-xl","mb-0","font-semibold","font-sans","text-dark-text-100","dark:text-light-text-100","placeholder-dark-text-400","dark:placeholder-light-text-300","flex-shrink-0"],attrs:{"data-element":"subject",value:e.subjectText,placeholder:e.__("Subject"),dir:e.dir,ondragstart:"return false;"},on:{input:e.handleSubjectChangeIfNotAttachmentPaste,enter:e.focusBodyEditor,"arrow-down-on-last-line":e.focusBodyEditor,focus:e.onSubjectFocus,paste:e.handleOnPaste}}):e._e()],1),e._v(" "),e.xAttachmentPreview&&!e.shouldShowAttachmentOnTheSide?t("surface-composer-modal-attachment-preview",{ref:"attachmentPreview",staticClass:"flex-shrink-0",attrs:{url:e.attachmentUrl,caption:e.attachmentCaption,"is-modal-docked":e.isDocked,"is-shown-on-side":!1},on:{load:function(t){e.isAttachmentLoaded=!0},remove:e.attachmentRemoved,"start-attachment-caption-edit":e.onAttachmentCaptionEditStart}}):e._e(),e._v(" "),t("rich-text-editor",{ref:"editor",class:["new-post-modal-editor","text-post-modal-body","font-normal","font-sans","text-dark-text-100","dark:text-light-text-100","flex-grow","mt-4","mx-2","order-last"],attrs:{"toolbar-id":e.toolbarId,value:e.bodyText,placeholder:e.bodyTextPlaceholder,dir:e.dir,ondragstart:"return false;"},on:{input:e.onBodyChange,blur:e.onBodyBlur,selectionchange:e.onBodySelectionChange,fileaccept:e.onBodyFileAccept,"arrow-up-on-first-line":e.focusSubjectEditor,paste:e.handleOnPaste,focus:e.onBodyEditStart}}),e._v(" "),!e.isAttachmentLoaded||e.isPageHandlingDragEvent?t("surface-composer-modal-attachment-grid",{staticClass:"mt-4 post-modal-attachment-grid",class:[e.isAttachmentGridInBottom?["absolute","-bottom-5","self-center"]:[]],attrs:{"is-docked":e.isDocked,"is-page-handling-drag-event":e.isPageHandlingDragEvent,"is-large-ui":e.isLargeUi},on:{"close-content-picker":e.focusEditor}}):e._e()],1),e._v(" "),t("surface-composer-modal-tags",{class:["flex-shrink-0","order-first","md:order-none","pb-2",e.isAttachmentGridInBottom&&!e.isAttachmentLoaded?"md:pb-16":"md:pb-4"],attrs:{dir:e.dir}})],1),e._v(" "),e.xAttachmentPreview&&e.shouldShowAttachmentOnTheSide?t("div",{class:[e.isAttachmentLoaded?"w-64 px-4":"px-0","overflow-y-auto","flex-shrink-0"]},[t("surface-composer-modal-attachment-preview",{ref:"attachmentPreview",staticClass:"flex-shrink-0",attrs:{url:e.attachmentUrl,caption:e.attachmentCaption,"is-modal-docked":e.isDocked,"is-shown-on-side":!0},on:{load:function(t){e.isAttachmentLoaded=!0},remove:e.attachmentRemoved,"start-attachment-caption-edit":e.onAttachmentCaptionEditStart}})],1):e._e()])}),[],!1,null,"7eb4b5ee",null).exports),xt=o(95),kt=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},wt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const St=Object(n.d)("composerModalTagInputs"),Ot=Object(n.d)("section");let _t=class extends(Object(r.c)()){constructor(){super(...arguments),this.sectionTitle="",this.OzContainedButtonColorScheme=y.a}cancel(){this.closeNewSectionPrompt()}createNewSection(){this.saveNewSectionToDraft({title:this.sectionTitle}),this.closeNewSectionPrompt()}mounted(){this.$refs.sectionTitleInput.focusInput()}};kt([n.b,wt("design:type",String)],_t.prototype,"dir",void 0),kt([n.b,wt("design:type",Boolean)],_t.prototype,"isUsingNewSurfaceShadows",void 0),kt([St.Action,wt("design:type",Function)],_t.prototype,"closeNewSectionPrompt",void 0),kt([Ot.Action,wt("design:type",Function)],_t.prototype,"saveNewSectionToDraft",void 0),_t=kt([Object(r.a)({components:{OzContainedButton:y.d,OzInput:xt.a,SurfaceComposerModalPrompt:S}})],_t);var Ct,Pt,Dt=_t,jt=Object(g.a)(Dt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("surface-composer-modal-prompt",{attrs:{"x-new-surface-shadows":e.isUsingNewSurfaceShadows},on:{cancel:function(t){return e.$emit("cancel")}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"px-4"},[t("div",{staticClass:"py-5 font-sans text-heading-3 font-semibold text-dark-text-100 dark:text-light-text-100"},[e._v("\n        "+e._s(e.__("New Section"))+"\n      ")]),e._v(" "),t("OzInput",{ref:"sectionTitleInput",attrs:{placeholder:e.__("Section Title"),type:"text",dir:e.dir},model:{value:e.sectionTitle,callback:function(t){e.sectionTitle=t},expression:"sectionTitle"}}),e._v(" "),t("div",{staticClass:"pb-4 pt-7 flex flex-row space-x-3.5 rtl:space-x-reverse"},[t("OzContainedButton",{staticClass:"flex-grow",attrs:{"color-scheme":e.OzContainedButtonColorScheme.Secondary,text:e.__("Cancel")},on:{click:e.cancel}}),e._v(" "),t("OzContainedButton",{staticClass:"flex-grow",attrs:{text:e.__("Create")},on:{click:e.createNewSection}})],1)],1)]},proxy:!0}])})}),[],!1,null,null,null).exports,Tt=o(467),At=o(1193),Mt=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},Bt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const zt=Object(n.d)("browser"),Rt=Object(n.d)("section"),It=Object(n.d)("draft"),Et=Object(n.d)("composerModalTagInputs");let Ft=class extends(Object(r.c)()){constructor(){super(...arguments),this.OzTextButtonColorScheme=z.a}cancel(){this.$emit("cancel")}createNewSection(){this.openNewSectionPrompt(),this.cancel()}changeSection(e){this.updateActiveDraft({wall_section_id:e}),this.cancel()}};Mt([Object(r.e)({required:!0}),Bt("design:type","function"===typeof(Ct="undefined"!==typeof PopoverAnchor&&PopoverAnchor)?Ct:Object)],Ft.prototype,"popoverAnchor",void 0),Mt([n.b,Bt("design:type",String)],Ft.prototype,"dir",void 0),Mt([n.b,Bt("design:type",Boolean)],Ft.prototype,"canIModerate",void 0),Mt([n.b,Bt("design:type",Boolean)],Ft.prototype,"isUsingNewSurfaceShadows",void 0),Mt([zt.Getter,Bt("design:type",Boolean)],Ft.prototype,"isPhone",void 0),Mt([zt.Getter,Bt("design:type",Number)],Ft.prototype,"windowHeight",void 0),Mt([zt.Getter,Bt("design:type",Number)],Ft.prototype,"windowWidth",void 0),Mt([Rt.Getter,Bt("design:type",Array)],Ft.prototype,"sortedSections",void 0),Mt([It.Getter,Bt("design:type","function"===typeof(Pt="undefined"!==typeof DraftPost&&DraftPost)?Pt:Object)],Ft.prototype,"activeDraft",void 0),Mt([It.Action,Bt("design:type",Function)],Ft.prototype,"updateActiveDraft",void 0),Mt([Et.Action,Bt("design:type",Function)],Ft.prototype,"openNewSectionPrompt",void 0),Ft=Mt([Object(r.a)({components:{OzRichModal:Tt.b,OzTextButton:z.c,SurfaceComposerModalTagMenuRow:At.a}})],Ft);var Nt,Ht,$t=Ft,Lt=Object(g.a)($t,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("oz-rich-modal",{staticClass:"bg-modal-overlay-light dark:bg-modal-overlay-dark",attrs:{"is-phone":e.isPhone,"should-show-popover":!0,"popover-width":"default","popover-classes":{"shadow-elevation-3":e.isUsingNewSurfaceShadows},"popover-tip-classes":{"drop-shadow-elevation-3":e.isUsingNewSurfaceShadows},"popover-anchor":e.popoverAnchor,"window-height":e.windowHeight,"window-width":e.windowWidth,"disable-drag":!0},on:{cancel:e.cancel}},[t("template",{slot:"header"},[t("div",{staticClass:"grid grid-cols-3 items-center",attrs:{dir:e.dir}},[t("div",{staticClass:"col-start-2 justify-self-center font-sans text-heading-3 md:text-heading-4 font-semibold text-highway-100 dark:text-white"},[e._v("\n        "+e._s(e.__("Section"))+"\n      ")]),e._v(" "),e.canIModerate?t("OzTextButton",{staticClass:"justify-self-end px-0 text-14 font-semibold",attrs:{"color-scheme":e.OzTextButtonColorScheme.Primary,text:e.__("New"),"aria-label":e.__("New Section"),title:e.__("New Section")},on:{click:function(t){return t.stopPropagation(),e.createNewSection.apply(null,arguments)}}}):e._e()],1)]),e._v(" "),t("template",{slot:"body"},[t("div",{staticClass:"flex flex-col flex-grow mb-4 overflow-auto"},e._l(e.sortedSections,(function(o,i){return t("surface-composer-modal-tag-menu-row",{key:o.id,attrs:{value:o.id,"display-value":o.title,"is-selected":o.id===e.activeDraft.wall_section_id,"x-separator":i!==e.sortedSections.length-1},on:{"select-option":e.changeSection}})})),1)])],2)}),[],!1,null,null,null).exports,Gt=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},Ut=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Wt=Object(n.d)("browser"),Vt=Object(n.d)("draft");let qt=class extends(Object(r.c)()){get postColors(){return ee.k}get isLightColorScheme(){return"light"===this.colorScheme}postColorName(e){return Object(ee.j)({postColor:e,isLightColorScheme:this.isLightColorScheme})}postColorClasses(e){return[Object(ee.l)({postColor:e,isLightColorScheme:this.isLightColorScheme}),Object(ee.m)({postColor:e,isLightColorScheme:this.isLightColorScheme}),...Object(ee.o)({isLightColorScheme:this.isLightColorScheme})]}changeColor(e){this.updateActiveDraft({color:e}),this.cancel()}cancel(){this.$emit("cancel")}};Gt([Object(r.e)({required:!0}),Ut("design:type","function"===typeof(Nt="undefined"!==typeof PopoverAnchor&&PopoverAnchor)?Nt:Object)],qt.prototype,"popoverAnchor",void 0),Gt([n.b,Ut("design:type",String)],qt.prototype,"colorScheme",void 0),Gt([n.b,Ut("design:type",Boolean)],qt.prototype,"isUsingNewSurfaceShadows",void 0),Gt([Wt.Getter,Ut("design:type",Boolean)],qt.prototype,"isPhone",void 0),Gt([Wt.Getter,Ut("design:type",Number)],qt.prototype,"windowHeight",void 0),Gt([Wt.Getter,Ut("design:type",Number)],qt.prototype,"windowWidth",void 0),Gt([Vt.Getter,Ut("design:type","function"===typeof(Ht="undefined"!==typeof DraftPost&&DraftPost)?Ht:Object)],qt.prototype,"activeDraft",void 0),Gt([Vt.Action,Ut("design:type",Function)],qt.prototype,"updateActiveDraft",void 0),qt=Gt([Object(r.a)({components:{OzRichModal:Tt.b,SurfaceComposerModalTagMenuRow:At.a}})],qt);var Yt=qt,Kt=Object(g.a)(Yt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("oz-rich-modal",{staticClass:"bg-modal-overlay-light dark:bg-modal-overlay-dark",attrs:{"is-phone":e.isPhone,"should-show-popover":!0,"popover-width":"default","popover-classes":{"max-h-84":!0,"shadow-elevation-3":e.isUsingNewSurfaceShadows},"popover-tip-classes":{"drop-shadow-elevation-3":e.isUsingNewSurfaceShadows},"popover-anchor":e.popoverAnchor,"window-height":e.windowHeight,"window-width":e.windowWidth,"disable-drag":!0,"preferred-tray-start-height":420},on:{cancel:e.cancel}},[t("template",{slot:"header"},[t("div",{staticClass:"grid grid-cols-3 items-center"},[t("div",{staticClass:"col-start-2 justify-self-center font-sans text-heading-3 md:text-heading-4 font-semibold text-highway-100 dark:text-white"},[e._v("\n        "+e._s(e.__("Color"))+"\n      ")])])]),e._v(" "),t("template",{slot:"body"},[t("div",{staticClass:"flex flex-col flex-grow mb-4 overflow-auto"},e._l(e.postColors,(function(o,i){return t("surface-composer-modal-tag-menu-row",{key:o,attrs:{value:o,"display-value":e.postColorName(o),"is-selected":(o||"default")===(e.activeDraft.color||"default"),"x-separator":i!==e.postColors.length-1},on:{"select-option":e.changeColor},scopedSlots:e._u([{key:"icon",fn:function(){return[t("div",{class:["h-5","w-5","rounded-xl","bg-clip-padding","box-border",...o?[]:["border","border-solid","border-highway-disabled","dark:border-white-disabled"],...e.postColorClasses(o)]})]},proxy:!0}],null,!0)})})),1)])],2)}),[],!1,null,null,null).exports,Xt=o(1376),Zt=o.n(Xt),Jt=o(298),Qt=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},eo=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let to=class extends r.f{constructor(){super(...arguments),this.thumbnailSrc=Zt.a}respondToAttachmentChange(e){if(e){const t={width:24,height:24};Object(Jt.a)(e,t).then(e=>{e&&this.$nextTick(()=>{this.thumbnailSrc=e.image_url.startsWith("data:")?Zt.a:e.image_url})})}else this.thumbnailSrc=Zt.a}};Qt([Object(r.e)({required:!0}),eo("design:type",String)],to.prototype,"attachmentUrl",void 0),Qt([Object(r.e)({default:24}),eo("design:type",Number)],to.prototype,"width",void 0),Qt([Object(r.e)({default:24}),eo("design:type",Number)],to.prototype,"height",void 0),Qt([Object(r.e)(),eo("design:type",String)],to.prototype,"altText",void 0),Qt([Object(r.g)("attachmentUrl",{immediate:!0}),eo("design:type",Function),eo("design:paramtypes",[Object]),eo("design:returntype",void 0)],to.prototype,"respondToAttachmentChange",null),to=Qt([Object(r.a)({})],to);var oo,io,ro=to,no=Object(g.a)(ro,(function(){var e=this._self._c;this._self._setupProxy;return e("img",{staticClass:"rounded-md",attrs:{width:this.width,height:this.height,src:this.thumbnailSrc,alt:this.altText}})}),[],!1,null,null,null).exports,ao=o(37),so=o(127),lo=o(566),co=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},po=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.PopUp="PopUp",e.Dock="Dock",e.Delete="Delete",e.UndoAutoPublish="UndoAutoPublish",e.Save="Save"}(io||(io={}));const uo=Object(n.d)("browser"),ho=Object(n.d)("draft");let go=class extends(Object(r.c)()){constructor(){super(...arguments),this.OzBoxColors=ao.a,this.OzMenuRowsFocusStyle=so.a,this.OzMenuRowsSizePreset=so.d}get draftActionRows(){return[this.autoPublishActionItem,{text:this.__("Pop-up draft"),icon:"enlarge",eventPayload:io.PopUp},{text:this.__("Dock draft"),icon:"expand",eventPayload:io.Dock},{text:this.__("Delete draft"),icon:"delete",rowStyle:so.c.Danger,eventPayload:io.Delete}]}get autoPublishActionItem(){return this.targetDraft.shouldAutoPublish?{text:this.__("Undo auto-publish"),icon:"undo",eventPayload:io.UndoAutoPublish}:{text:this.targetDraft.uploadingFile?this.__("Auto publish draft"):this.__("Publish draft"),icon:"send",rowStyle:this.shouldDisableSave?so.c.Disabled:so.c.Default,isDisabled:this.shouldDisableSave,eventPayload:io.Save}}get popoverAnchor(){return{position:"side",top:this.top,left:this.left,height:0,width:0}}get targetDraft(){return this.draftByCid(this.draftCid)}get draftActionHandlers(){return{[io.PopUp]:this.expand,[io.Dock]:this.dock,[io.Delete]:this.confirmDelete,[io.UndoAutoPublish]:this.undoAutoPublish,[io.Save]:this.save}}handleDraftAction(e,t){this.draftActionHandlers[t]()}close(){this.$emit("close")}expand(){this.$emit("expand")}dock(){this.$emit("dock")}save(){this.close(),this.$emit("save")}undoAutoPublish(){this.close(),this.$emit("stop-auto-publish")}confirmDelete(){this.close(),this.$emit("confirm-delete")}};co([Object(r.e)({required:!0}),po("design:type","function"===typeof(oo="undefined"!==typeof Cid&&Cid)?oo:Object)],go.prototype,"draftCid",void 0),co([Object(r.e)({required:!0}),po("design:type",Number)],go.prototype,"top",void 0),co([Object(r.e)({required:!0}),po("design:type",Number)],go.prototype,"left",void 0),co([Object(r.e)({required:!0}),po("design:type",Boolean)],go.prototype,"shouldDisableSave",void 0),co([n.c,po("design:type",Boolean)],go.prototype,"isFirefox",void 0),co([n.b,po("design:type",String)],go.prototype,"dir",void 0),co([n.b,po("design:type",Boolean)],go.prototype,"isUsingNewSurfaceShadows",void 0),co([uo.Getter,po("design:type",Boolean)],go.prototype,"isPhone",void 0),co([uo.Getter,po("design:type",Number)],go.prototype,"windowWidth",void 0),co([uo.Getter,po("design:type",Number)],go.prototype,"windowHeight",void 0),co([ho.Getter,po("design:type",Function)],go.prototype,"draftByCid",void 0),go=co([Object(r.a)({components:{OzMenuRows:so.e,OzScreenSizeAwarePopoverModal:lo.a}})],go);var fo=go,mo=Object(g.a)(fo,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("OzScreenSizeAwarePopoverModal",{attrs:{"is-draggable-drawer":!1,color:e.OzBoxColors.PrimaryBlur,dir:e.dir,"is-phone":e.isPhone,"popover-width":"auto","popover-anchor":e.popoverAnchor,"window-height":e.windowHeight,"window-width":e.windowWidth,"x-header":!1,"x-popover-tip":!1,"box-classes":{"shadow-popover":!e.isUsingNewSurfaceShadows,"shadow-elevation-3":e.isUsingNewSurfaceShadows},"is-firefox":e.isFirefox},on:{"scrim-click":e.close,"scrim-esc":e.close},scopedSlots:e._u([{key:"body",fn:function(){return[t("OzMenuRows",{staticClass:"my-1",attrs:{"size-preset":e.OzMenuRowsSizePreset.H44px,rows:e.draftActionRows,"focus-style":e.OzMenuRowsFocusStyle.Bubble100},on:{"select-row":e.handleDraftAction}})]},proxy:!0}])})}),[],!1,null,null,null).exports,vo=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},yo=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let bo=class extends r.f{get progressPercentage(){return 100*this.progress+"%"}};vo([Object(r.e)(),yo("design:type",Number)],bo.prototype,"progress",void 0),bo=vo([Object(r.a)({})],bo);var xo=bo,ko=Object(g.a)(xo,(function(){var e=this._self._c;this._self._setupProxy;return e("div",{class:["h-1","w-full","block","rounded-none","bg-clip-padding","overflow-hidden"]},[e("div",{class:["absolute","top-0","bottom-0","bg-grape-500","dark:bg-canary-500",this.progress<1&&"rounded-r","transition-width","duration-300","ease-linear"],style:{width:this.progressPercentage}})])}),[],!1,null,null,null).exports,wo=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},So=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Oo=class extends r.f{constructor(){super(...arguments),this.animatedProgressDegree=0,this.arcInterval=null}get centerPos(){return this.size/2}get circleStrokeWidth(){return this.size/9}get circleRadius(){return this.size/2-this.circleStrokeWidth}mounted(){this.$nextTick(()=>{const e=this.$refs.progressCanvas;e.style.width=this.size+"px",e.style.height=this.size+"px";const t=2*O.a.devicePixelRatio;e.width=this.size*t,e.height=this.size*t;e.getContext("2d").scale(t,t)})}updateProgressCircle(e){const t=3.6*e*100;this.$nextTick(()=>{const e=this.$refs.progressCanvas.getContext("2d");e.lineCap="round",this.arcInterval&&clearInterval(this.arcInterval),this.arcInterval=O.a.setInterval(()=>{this.animatedProgressDegree+=1,e.clearRect(0,0,this.size,this.size),e.beginPath(),e.arc(this.centerPos,this.centerPos,this.circleRadius,Math.PI/2*3,Math.PI/2*7),e.strokeStyle=this.darkMode?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",e.lineWidth=this.circleStrokeWidth,e.stroke(),e.beginPath(),e.strokeStyle=this.darkMode?"#FEC006":"#9466E8",e.lineWidth=this.circleStrokeWidth,e.arc(this.centerPos,this.centerPos,this.circleRadius,Math.PI/2*3,Math.PI/180*(270-this.animatedProgressDegree),!0),e.stroke(),this.animatedProgressDegree>=t&&this.arcInterval&&clearInterval(this.arcInterval)},5)})}};wo([Object(r.e)({required:!0}),So("design:type",Number)],Oo.prototype,"size",void 0),wo([Object(r.e)({required:!0,validator:e=>e>=0&&e<=1}),So("design:type",Number)],Oo.prototype,"progress",void 0),wo([Object(r.e)({required:!0}),So("design:type",Boolean)],Oo.prototype,"darkMode",void 0),wo([Object(r.g)("progress",{immediate:!0}),So("design:type",Function),So("design:paramtypes",[Number]),So("design:returntype",void 0)],Oo.prototype,"updateProgressCircle",null),Oo=wo([Object(r.a)({})],Oo);var _o,Co,Po,Do,jo,To,Ao=Oo,Mo=Object(g.a)(Ao,(function(){var e=this._self._c;this._self._setupProxy;return e("canvas",{ref:"progressCanvas"})}),[],!1,null,null,null).exports,Bo=o(578),zo=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},Ro=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Io=Object(n.d)("draft"),Eo=Object(n.d)("map"),Fo=Object(n.d)("post"),No=Object(n.d)("composerModal"),Ho=Object(n.d)("composerModalAlert"),$o=Object(n.d)("composerModalTagInputs"),Lo=Object(n.d)("browser"),Go=Object(n.d)("section"),Uo=Object(n.d)("confirmationDialog"),Wo=Object(n.d)("dragAndDropEvents");let Vo=class extends(Object(r.c)(Bo.a)){constructor(){super(...arguments),this.minimizedContextMenuTop=0,this.minimizedContextMenuLeft=0,this.OzIconButtonColorScheme=B.a,this.OzIconButtonSizePreset=B.c,this.removeKeyboardShortcutsListener=()=>{}}get isCurrentDraftActive(){return this.isCidActiveDraft(this.draftCid)}get modalState(){return this.isCurrentDraftActive?this.isLargeUi&&this.isCurrentDraftNewPost?this.storeModalState:"expanded":"minimized"}get currentDraft(){return this.draftByCid(this.draftCid)}get isCurrentDraftNewPost(){return this.isDraftCidNewPost(this.draftCid)}get canDock(){return this.isCurrentDraftNewPost&&this.isLargeUi}get canMinimize(){return this.isCurrentDraftNewPost}get currentDraftUploadingFile(){var e;return null===(e=this.currentDraft)||void 0===e?void 0:e.uploadingFile}get isUploadingFile(){return!!this.currentDraftUploadingFile}get currentDraftFakeUploadProgress(){var e;return Math.pow(.9*((null===(e=this.currentDraft)||void 0===e?void 0:e.uploadProgress)||0),2)}get isDocked(){return"docked"===this.modalState}get isDirty(){const e=this.getPostByCid(this.draftCid);return!!this.currentDraft&&(this.currentDraft.subject!==(null===e||void 0===e?void 0:e.subject)||this.currentDraft.body!==(null===e||void 0===e?void 0:e.body)||this.currentDraft.attachment!==(null===e||void 0===e?void 0:e.attachment)||this.currentDraft.attachment_caption!==(null===e||void 0===e?void 0:e.attachment_caption)||!!this.currentDraftUploadingFile)}get canAutoPublishDraft(){return this.isUploadingFile&&!this.isPhone}get shouldDisableSave(){var e,t,o,i,r;const n=this.isMap&&("number"!==typeof(null===(t=null===(e=this.currentDraft)||void 0===e?void 0:e.location_point)||void 0===t?void 0:t.longitude)||"number"!==typeof(null===(i=null===(o=this.currentDraft)||void 0===o?void 0:o.location_point)||void 0===i?void 0:i.latitude)),a=Object(A.k)(this.currentDraft),s=this.isShelf&&!this.sectionById(null===(r=this.currentDraft)||void 0===r?void 0:r.wall_section_id);return Object(A.j)(this.currentDraft)&&!this.canAutoPublishDraft||n&&a||s}get currentDraftAttachment(){var e;return null===(e=this.currentDraft)||void 0===e?void 0:e.attachment}get hasAttachment(){return!!this.currentDraftAttachment}get minimizedTitle(){var e;return this.currentDraft&&(this.currentDraft.subject||(null===(e=this.currentDraft.uploadingFile)||void 0===e?void 0:e.name)||this.currentDraft.minimizedPlaceholderTitle)||this.__("Draft")}get xMinimizedContextMenu(){return this.draftCid===this.draftShowingMinimizedContextMenuCid}get isLargeUi(){return this.isDesktop&&!this.isPhone}get isDraftAutoPublishing(){var e;return!!(null===(e=this.currentDraft)||void 0===e?void 0:e.shouldAutoPublish)}mounted(){this.removeKeyboardShortcutsListener=Object(ct.a)(this.$refs.modalContainer.$el,{"$mod+Enter":e=>{this.handlePostShortcut(e)},"$mod+Shift+Enter":e=>{this.handlePostAndStartNewPostShortcut(e)}})}beforeDestroy(){this.removeKeyboardShortcutsListener()}handlePostShortcut(e){this.shouldDisableSave||(e.stopPropagation(),e.preventDefault(),this.save())}handlePostAndStartNewPostShortcut(e){this.shouldDisableSave||(e.stopPropagation(),e.preventDefault(),this.save(),setTimeout(()=>{this.isMap?this.startPickingLocation():this.startNewPost()},300))}resetPostModalPanels(){this.resetAlert(),this.closePopover(),this.closeNewSectionPrompt(),this.closeMinimizedContextMenu()}respondToActiveDraftChange(){this.resetPostModalPanels()}respondToUploadingFileChange(e){e?this.startUpload():this.cancelUpload()}respondToObjectsDraggedOnPage(e){if(e&&this.isCurrentDraftActive&&this.isDocked){const e=this.$refs.modalContainer.$el.getBoundingClientRect();this.setPostModalDropZone({left:e.left,right:e.right,top:e.top,bottom:e.bottom})}}respondToDraftAutoPublished(e){e&&this.minimize()}respondToModalExpanded(e){"expanded"===e&&this.expand()}onProgress(){this.updateCurrentDraft({uploadProgress:this.progress})}closeModal(){this.isShowingAlert||this.isShowingTagMenu||this.xNewSectionPrompt||(this.isDirty?this.openAlert({title:this.__("You have unsaved changes"),body:this.__("Are you sure you want to discard your changes and close this panel?"),primaryActionText:this.__("Discard"),secondaryActionText:this.__("Keep Working"),primaryActions:[{type:"draft/cancelEditingDraft"}],secondaryActions:[],isPrimaryActionDanger:!0}):this.cancelEditingDraft())}closePopoverAndFocusPostModal(){this.closePopover(),setTimeout(()=>{this.$refs.contentEditor&&this.$refs.contentEditor.$el.focus()})}minimize(){this.setDraftNumber({cid:this.draftCid}),this.stopEditingPost()}unminimize(){this.startEditingPost({postCid:this.draftCid})}updateCurrentDraft(e){this.updateDraft(Object.assign(Object.assign({},e),{cid:this.draftCid}))}updateDraftSubject(e){this.updateCurrentDraft({subject:e})}updateDraftBody(e){this.updateCurrentDraft({body:e})}save(){this.publishDraft({cid:this.draftCid})}stopAutoPublish(){this.stopAutoPublishDraft({cid:this.draftCid})}scrollToTop(){this.$refs.contentEditor.scrollToTop()}scrollToBottom(){this.$refs.contentEditor.scrollToBottom()}toggleMinimizedContextMenu(e){this.isDesktop&&(this.xMinimizedContextMenu?this.closeMinimizedContextMenu():(this.minimizedContextMenuTop=e.y,this.minimizedContextMenuLeft=e.x,this.openMinimizedContextMenu({cid:this.draftCid})))}expandMinimizedDraft(){this.expand(),this.unminimize()}dockMinimizedDraft(){this.dock(),this.unminimize()}confirmDelete(){this.currentDraft&&Object(A.j)(this.currentDraft)?this.deletePost({postCid:this.draftCid}):this.openConfirmationDialog(Object.assign(Object.assign({},a.b),{afterConfirmActions:[{type:"post/deletePost",payload:{postCid:this.draftCid}}],xShadow:this.isUsingNewSurfaceShadows}))}onModalOverlayClicked(){this.isShowingAlert||this.isShowingTagMenu||this.xNewSectionPrompt||!this.isDesktop||(Object(A.j)(this.currentDraft)?this.cancelEditingDraft():this.canMinimize?this.minimize():this.closeModal())}};zo([Object(r.e)({required:!0}),Ro("design:type","function"===typeof(_o="undefined"!==typeof Cid&&Cid)?_o:Object)],Vo.prototype,"draftCid",void 0),zo([n.c,Ro("design:type",Boolean)],Vo.prototype,"isMac",void 0),zo([n.b,Ro("design:type",Boolean)],Vo.prototype,"isShelf",void 0),zo([n.b,Ro("design:type",Boolean)],Vo.prototype,"isMap",void 0),zo([n.b,Ro("design:type",Boolean)],Vo.prototype,"isDesktop",void 0),zo([n.b,Ro("design:type",String)],Vo.prototype,"dir",void 0),zo([n.b,Ro("design:type",Boolean)],Vo.prototype,"isUsingNewSurfaceShadows",void 0),zo([Ho.Getter("isOpen"),Ro("design:type",Boolean)],Vo.prototype,"isShowingAlert",void 0),zo([No.Getter("modalState"),Ro("design:type","function"===typeof(Co="undefined"!==typeof DockableModalState&&DockableModalState)?Co:Object)],Vo.prototype,"storeModalState",void 0),zo([No.Getter,Ro("design:type",Boolean)],Vo.prototype,"scrolledToTop",void 0),zo([No.Getter,Ro("design:type",Boolean)],Vo.prototype,"scrolledToBottom",void 0),zo([Fo.Getter,Ro("design:type",Function)],Vo.prototype,"getPostByCid",void 0),zo([Io.Getter,Ro("design:type",Object)],Vo.prototype,"activeDraftCid",void 0),zo([Io.Getter,Ro("design:type",Function)],Vo.prototype,"isDraftCidNewPost",void 0),zo([Io.Getter,Ro("design:type",Function)],Vo.prototype,"draftByCid",void 0),zo([Io.Getter,Ro("design:type",Function)],Vo.prototype,"isCidActiveDraft",void 0),zo([Io.Getter,Ro("design:type",Object)],Vo.prototype,"draftShowingMinimizedContextMenuCid",void 0),zo([Go.Getter,Ro("design:type",Function)],Vo.prototype,"sectionById",void 0),zo([Lo.Getter,Ro("design:type",Boolean)],Vo.prototype,"isPhone",void 0),zo([Lo.Getter,Ro("design:type",Number)],Vo.prototype,"windowHeight",void 0),zo([Lo.Getter,Ro("design:type",Number)],Vo.prototype,"visualViewportHeight",void 0),zo([Lo.Getter,Ro("design:type",Number)],Vo.prototype,"visualViewportWidth",void 0),zo([Lo.Getter,Ro("design:type",Number)],Vo.prototype,"visualViewportScale",void 0),zo([Lo.State("darkMode"),Ro("design:type",Boolean)],Vo.prototype,"isBrowserDarkMode",void 0),zo([$o.Getter,Ro("design:type",Boolean)],Vo.prototype,"isShowingTagMenu",void 0),zo([$o.Getter,Ro("design:type",Boolean)],Vo.prototype,"xSectionMenu",void 0),zo([$o.Getter,Ro("design:type",Boolean)],Vo.prototype,"xLocationMenu",void 0),zo([$o.Getter,Ro("design:type",Boolean)],Vo.prototype,"xPostColorMenu",void 0),zo([$o.Getter,Ro("design:type",Boolean)],Vo.prototype,"xNewSectionPrompt",void 0),zo([$o.Getter,Ro("design:type","function"===typeof(Po="undefined"!==typeof PopoverAnchor&&PopoverAnchor)?Po:Object)],Vo.prototype,"sectionChipPosition",void 0),zo([$o.Getter,Ro("design:type","function"===typeof(Do="undefined"!==typeof PopoverAnchor&&PopoverAnchor)?Do:Object)],Vo.prototype,"locationChipPosition",void 0),zo([$o.Getter,Ro("design:type","function"===typeof(jo="undefined"!==typeof PopoverAnchor&&PopoverAnchor)?jo:Object)],Vo.prototype,"postColorChipPosition",void 0),zo([Wo.Getter("isHandlingDragEvent"),Ro("design:type",Boolean)],Vo.prototype,"isPageHandlingDragEvent",void 0),zo([No.Action,Ro("design:type",Function)],Vo.prototype,"dock",void 0),zo([No.Action,Ro("design:type",Function)],Vo.prototype,"expand",void 0),zo([$o.Action,Ro("design:type",Function)],Vo.prototype,"closeNewSectionPrompt",void 0),zo([$o.Action,Ro("design:type",Function)],Vo.prototype,"closePopover",void 0),zo([Ho.Action,Ro("design:type",Function)],Vo.prototype,"openAlert",void 0),zo([Ho.Action,Ro("design:type",Function)],Vo.prototype,"resetAlert",void 0),zo([Eo.Action,Ro("design:type",Function)],Vo.prototype,"startPickingLocation",void 0),zo([Fo.Action,Ro("design:type",Function)],Vo.prototype,"deletePost",void 0),zo([Fo.Action,Ro("design:type",Function)],Vo.prototype,"startEditingPost",void 0),zo([Fo.Action,Ro("design:type",Function)],Vo.prototype,"startNewPost",void 0),zo([Fo.Action,Ro("design:type",Function)],Vo.prototype,"stopEditingPost",void 0),zo([Io.Action,Ro("design:type",Function)],Vo.prototype,"setDraftNumber",void 0),zo([Io.Action,Ro("design:type",Function)],Vo.prototype,"cancelEditingDraft",void 0),zo([Io.Action,Ro("design:type",Function)],Vo.prototype,"updateDraft",void 0),zo([Io.Action,Ro("design:type",Function)],Vo.prototype,"openMinimizedContextMenu",void 0),zo([Io.Action,Ro("design:type",Function)],Vo.prototype,"closeMinimizedContextMenu",void 0),zo([Io.Action,Ro("design:type",Function)],Vo.prototype,"stopAutoPublishDraft",void 0),zo([Io.Action,Ro("design:type",Function)],Vo.prototype,"publishDraft",void 0),zo([Uo.Action,Ro("design:type",Function)],Vo.prototype,"openConfirmationDialog",void 0),zo([Wo.Action,Ro("design:type",Function)],Vo.prototype,"setPostModalDropZone",void 0),zo([Object(r.g)("activeDraftCid"),Ro("design:type",Function),Ro("design:paramtypes",[]),Ro("design:returntype",void 0)],Vo.prototype,"respondToActiveDraftChange",null),zo([Object(r.g)("file"),Ro("design:type",Function),Ro("design:paramtypes",[Object]),Ro("design:returntype",void 0)],Vo.prototype,"respondToUploadingFileChange",null),zo([Object(r.g)("isPageHandlingDragEvent"),Ro("design:type",Function),Ro("design:paramtypes",[Boolean]),Ro("design:returntype",void 0)],Vo.prototype,"respondToObjectsDraggedOnPage",null),zo([Object(r.g)("isDraftAutoPublishing"),Ro("design:type",Function),Ro("design:paramtypes",[Boolean]),Ro("design:returntype",void 0)],Vo.prototype,"respondToDraftAutoPublished",null),zo([Object(r.g)("modalState",{immediate:!0}),Ro("design:type",Function),Ro("design:paramtypes",["function"===typeof(To="undefined"!==typeof DockableModalState&&DockableModalState)?To:Object]),Ro("design:returntype",void 0)],Vo.prototype,"respondToModalExpanded",null),Vo=zo([Object(r.a)({components:{DockableModal:f,OzIconButton:B.d,SurfaceComposerContextMenu:mo,SurfaceComposerModalConfirmationAlert:T,SurfaceComposerModalHeaderBar:L,SurfaceComposerModalEditor:bt,SurfaceComposerModalNewSectionPrompt:jt,SurfaceComposerModalTagSectionMenu:Lt,SurfaceComposerModalTagPostColorMenu:Kt,SurfaceComposerModalTagLocationMenu:()=>Promise.all([o.e(5),o.e(215)]).then(o.bind(null,1456)),SurfaceFileUploadBar:ko,SurfaceComposerModalMinimizedAttachmentThumbnail:no,CircularProgressBar:Mo}})],Vo);var qo=Vo,Yo=(o(1377),Object(g.a)(qo,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("dockable-modal",{ref:"modalContainer",class:"expanded"===e.modalState&&"expanded-post-modal",attrs:{"data-cy":"surfaceComposerModal","data-pw":"surfaceComposerModal",state:e.modalState,"window-height":e.windowHeight,"visual-viewport-height":e.visualViewportHeight,"visual-viewport-width":e.visualViewportWidth,"visual-viewport-scale":e.visualViewportScale,"is-phone":e.isPhone,"x-expanded-overlay-color":!e.isPageHandlingDragEvent,"x-minimized-context-menu":e.xMinimizedContextMenu,"x-new-surface-shadows":e.isUsingNewSurfaceShadows,dir:e.dir},on:{close:e.closeModal,"overlay-clicked":e.onModalOverlayClicked}},[t("template",{slot:"overflowable-modal-content"},[e.xSectionMenu?t("surface-composer-modal-tag-section-menu",{staticClass:"pointer-events-auto",attrs:{"popover-anchor":e.sectionChipPosition},on:{cancel:e.closePopoverAndFocusPostModal}}):e._e(),e._v(" "),e.xPostColorMenu?t("surface-composer-modal-tag-post-color-menu",{staticClass:"pointer-events-auto",attrs:{"popover-anchor":e.postColorChipPosition},on:{cancel:e.closePopoverAndFocusPostModal}}):e._e(),e._v(" "),e.xLocationMenu?t("surface-composer-modal-tag-location-menu",{staticClass:"pointer-events-auto",attrs:{"popover-anchor":e.locationChipPosition},on:{cancel:e.closePopoverAndFocusPostModal}}):e._e()],1),e._v(" "),t("template",{slot:"minimized-content"},[t("div",{class:["flex","justify-between","items-center","cursor-pointer","pointer-events-auto","h-10","rounded-t-2xl","bg-light-ui-100","dark:bg-dark-ui-100","select-none","px-3","relative","flex-shrink","min-w-0",e.isUsingNewSurfaceShadows&&"shadow-elevation-2"],style:{flexBasis:"164px",maxWidth:"164px"},attrs:{dir:e.dir},on:{click:e.unminimize,keyup:e.unminimize,contextmenu:function(t){return t.preventDefault(),e.toggleMinimizedContextMenu.apply(null,arguments)}}},[t("div",{class:["w-3/4","truncate","font-semibold","text-sm","font-sans","text-dark-text-100","dark:text-light-text-100"]},[e._v("\n        "+e._s(e.minimizedTitle)+"\n      ")]),e._v(" "),e.isUploadingFile?t("circular-progress-bar",{attrs:{size:24,progress:e.currentDraftFakeUploadProgress,"dark-mode":e.isBrowserDarkMode}}):e.hasAttachment?t("surface-composer-modal-minimized-attachment-thumbnail",{attrs:{width:24,height:24,"attachment-url":e.currentDraftAttachment,"alt-text":e.__("Attachment thumbnail")}}):e._e(),e._v(" "),e.xMinimizedContextMenu?t("SurfaceComposerContextMenu",{attrs:{top:e.minimizedContextMenuTop,left:e.minimizedContextMenuLeft,"should-disable-save":e.shouldDisableSave,"draft-cid":e.draftCid,"x-new-surface-shadows":e.isUsingNewSurfaceShadows},on:{close:e.closeMinimizedContextMenu,expand:e.expandMinimizedDraft,dock:e.dockMinimizedDraft,"confirm-delete":e.confirmDelete,save:e.save,"stop-auto-publish":e.stopAutoPublish}}):e._e()],1)]),e._v(" "),t("template",{slot:"modal-content"},[e.isShowingAlert?t("surface-composer-modal-confirmation-alert",{on:{cancel:e.resetAlert}}):e._e(),e._v(" "),e.xNewSectionPrompt?t("surface-composer-modal-new-section-prompt",{on:{cancel:e.closeNewSectionPrompt}}):e._e(),e._v(" "),t("surface-composer-modal-header-bar",{attrs:{"is-docked":e.isDocked,"disable-save":e.shouldDisableSave,"can-dock":e.canDock,"can-minimize":e.canMinimize,"is-large-ui":e.isLargeUi,tabindex:"-1",dir:e.dir},on:{close:e.closeModal,dock:e.dock,expand:e.expand,minimize:e.minimize,save:e.save,"stop-auto-publish":e.stopAutoPublish}}),e._v(" "),t("surface-composer-modal-editor",{ref:"contentEditor",attrs:{"is-docked":e.isDocked,"draft-cid":e.draftCid,"is-large-ui":e.isLargeUi,tabindex:"-1"},on:{"subject-change":e.updateDraftSubject,"body-change":e.updateDraftBody}})],1),e._v(" "),t("template",{slot:"extra-right"},[t("div",{class:["pointer-events-none","h-full","ps-4","flex","flex-col"]},[t("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:!e.scrolledToTop,expression:"!scrolledToTop"}],class:["mt-20","pointer-events-auto"],attrs:{label:e.__("Scroll to top"),"color-scheme":e.OzIconButtonColorScheme.Secondary,"size-preset":e.OzIconButtonSizePreset.H32px,"icon-name":"arrow_up","icon-size":16},on:{click:e.scrollToTop}}),e._v(" "),t("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:!e.scrolledToBottom,expression:"!scrolledToBottom"}],class:[e.isLargeUi?"mb-4":"mb-16","mt-auto","pointer-events-auto"],attrs:{label:e.__("Scroll to bottom"),"color-scheme":e.OzIconButtonColorScheme.Secondary,"size-preset":e.OzIconButtonSizePreset.H32px,"icon-name":"arrow_down","icon-size":16},on:{click:e.scrollToBottom}})],1)])],2)}),[],!1,null,null,null));t.default=Yo.exports},182:function(e,t,o){"use strict";var i=o(2),r=o(91),n=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},a=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let s=class extends i.f{constructor(){super(...arguments),this.isTouchingTopOfScreen=!1}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}mounted(){this.fullSize&&(this.isTouchingTopOfScreen=!0),this.$refs.modalContainer.clientHeight>=this.$el.clientHeight&&(this.isTouchingTopOfScreen=!0)}};n([Object(i.e)({default:!1}),a("design:type",Boolean)],s.prototype,"fullSize",void 0),n([Object(i.e)({default:"auto"}),a("design:type",Object)],s.prototype,"darkMode",void 0),n([Object(i.e)({default:!1}),a("design:type",Boolean)],s.prototype,"xScrim",void 0),n([Object(i.e)({default:!1}),a("design:type",Boolean)],s.prototype,"isScrimSpectral",void 0),n([Object(i.e)({default:!0}),a("design:type",Boolean)],s.prototype,"shouldFadeIn",void 0),s=n([Object(i.a)({components:{OzOverlay:r.a}})],s);var l=s,c=(o(277),o(5)),d=Object(c.a)(l,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("transition",{attrs:{"leave-active-class":"out",duration:200}},[t("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":e.isScrimSpectral,scrim:e.xScrim?"modal":null,"should-fade-in":e.shouldFadeIn},on:{"scrim-click":e.scrimClick,"scrim-esc":e.scrimEsc}},[t("div",{ref:"modalContainer",class:[{"w-full":!0,"max-h-full":!0,"min-h-full":e.fullSize,"overflow-auto flex flex-col":!0,"modal-container":!0,"shadow-elevation-5":!e.fullSize,"rounded-none":e.isTouchingTopOfScreen,"rounded-3xl rounded-br-none rounded-bl-none":!e.isTouchingTopOfScreen,"full-size":e.fullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"pb-safe-inset-bottom":!0}]},[t("div",{class:[{"max-h-full flex flex-grow flex-col overflow-hidden":!0}]},[e.$slots.header?t("header",[e._t("header")],2):e._e(),e._v(" "),t("div",{class:{"flex flex-grow flex-col p-0 overflow-auto":!0}},[e._t("body")],2)])])])],1)}),[],!1,null,"5a35ff94",null);t.a=d.exports},227:function(e,t,o){var i=o(278);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o(78).default)("46beea91",i,!0,{})},228:function(e,t,o){},277:function(e,t,o){"use strict";o(227)},278:function(e,t,o){(e.exports=o(77)(!1)).push([e.i,".modal-container[data-v-5a35ff94] {\n  max-height: none;\n  animation-name: modal-slide-up-5a35ff94;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-5a35ff94] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-5a35ff94] {\n    animation-name: modal-slide-down-5a35ff94;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-5a35ff94 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-5a35ff94 {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])},279:function(e,t,o){"use strict";o(228)},441:function(e,t,o){"use strict";var i=o(2),r=o(349),n=o.n(r),a=o(91),s=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},l=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends i.f{constructor(){super(...arguments),this.MAX_TOP_MARGIN=0,this.MIN_TOP_MARGIN=0,this.DRAG_DISTANCE_AT_TOP=0,this.DRAG_DISTANCE_MIN=0,this.dragDistanceY=0,this.dragDistanceYBeforeStart=0,this.latestVelocityY=0,this.latestPanEventTimestamp=0,this.draggedToFullSize=!1,this.scrollEnabled=!1,this.panEnabled=!1,this.marginTop=0,this.scrollTop=0,this.isDragStartEmittedForScroll=!1,this.scrollWithPan=!1}handleDragDisable(e){e?this.removePanListener():this.addPanListener()}handleResize(e){e?(this.resetElement("full","slow"),setTimeout(()=>{document.documentElement.scrollTop=0},100),this.removePanListener()):(this.resetElement("top","slow"),this.addPanListener())}updateElement(){this.$nextTick(()=>{const e=this.$refs.modalContainer;e&&(this.marginTop=this.MAX_TOP_MARGIN+this.dragDistanceY,this.marginTop==this.MIN_TOP_MARGIN?this.draggedToFullSize=!0:this.draggedToFullSize=!1,e.style.marginTop=this.marginTop+"px")})}addTransition(e="slow"){const t=this.$refs.modalContainer;t&&(t.style.transition="slow"==e?"margin 150ms cubic-bezier(0.4, 0, 0.2, 1)":"margin 50ms cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{t.style.transition=""},"slow"==e?150:100))}resetElement(e="bottom",t="slow"){this.addTransition(t),"bottom"==e?(this.dragDistanceY=0,this.disableScroll()):"top"==e?(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll()):"full"==e?(this.dragDistanceY=-this.MAX_TOP_MARGIN,this.enableScroll()):"out"===e&&(this.dragDistanceY=this.windowHeight),this.updateElement()}computeEndVelocity({endEvent:e,lastPanEvent:t}){const o=(e.velocity+t.velocity)/Math.abs(e.velocity+t.velocity);return e.timestamp-t.timestamp>60?o*Math.max(Math.abs(t.velocity),e.velocity)*1e3:o*Math.abs(e.velocity)*1e3}get isScrollingWholeModal(){return"whole"==this.scrollType}get scrollingElement(){return this.isScrollingWholeModal?this.$refs.modalContainerInnerWrapper:this.$refs.modalBody}handleTrayScrollStart(e){this.touchStartY=e.touches[0].clientY,this.isDragStartEmittedForScroll=!1}handleTrayScroll(e){if(!this.scrollEnabled)return void(e.cancelable&&e.preventDefault());this.isDragStartEmittedForScroll||(this.isDragStartEmittedForScroll=!0,this.$emit("dragstart"));const t=this.scrollingElement;t&&(this.panEnabled&&t.scrollTop<0?e.preventDefault():this.panEnabled&&0==t.scrollTop&&(this.touchStartY&&this.touchStartY>e.changedTouches[0].clientY+5||this.touchStartY&&this.touchStartY<e.changedTouches[0].clientY-5&&e.cancelable&&e.preventDefault()),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=void 0),this.scrollTimeout=setTimeout(()=>{this.scrollTop=t.scrollTop;this.scrollTop<=5?this.addPanListener():this.removePanListener()},250))}enableScroll(){this.scrollEnabled=!0,this.scrollingElement.style.overflow="auto"}disableScroll(){this.scrollEnabled=!1,this.scrollingElement.style.overflow="visible"}handleStartPan(){this.dragDistanceYBeforeStart=this.dragDistanceY;const e=this.scrollingElement;this.scrollEnabled&&0==e.scrollTop&&(this.scrollWithPan=!0),this.$emit("dragstart")}handlePanMove(e,t,o){if(this.scrollWithPan&&e<0){this.scrollingElement.scrollTop=-e,this.scrollWithPan=!1}else this.dragDistanceY=Math.max(this.dragDistanceYBeforeStart+e,this.DRAG_DISTANCE_AT_TOP),this.updateElement(),this.latestVelocityY=t,this.latestPanEventTimestamp=o,this.$emit("dragging",e)}handlePanEnd(e,t){const o=this.computeEndVelocity({endEvent:{velocity:e,timestamp:t},lastPanEvent:{velocity:this.latestVelocityY,timestamp:this.latestPanEventTimestamp}});this.dragDistanceY<=this.DRAG_DISTANCE_AT_TOP&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll());const i=this.dragDistanceYBeforeStart<=this.DRAG_DISTANCE_AT_TOP;o>300?(this.$emit("swipedown",{isAtTopBeforeDragging:i}),this.latestVelocityY+e>0?this.resetElement("bottom","fast"):this.resetElement("top","fast")):o<-300?(this.$emit("swipeup",{isAtTopBeforeDragging:i}),this.latestVelocityY+e<0?this.resetElement("top","fast"):this.resetElement("bottom","fast")):this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP/2?this.resetElement("bottom","slow"):this.DRAG_DISTANCE_AT_TOP/2>this.dragDistanceY&&this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP&&this.resetElement("top","slow"),this.$emit("dragend",this.dragDistanceY)}addPanListener(){if(!this.fullSize)if(this.disableDrag)this.enableScroll();else{if(!this.hammer){const e=this.$refs.modalContainerInner;this.hammer=new n.a(e)}this.hammer.get("pan").set({direction:n.a.DIRECTION_VERTICAL}),this.hammer.on("panstart",e=>{this.handleStartPan()}),this.hammer.on("panmove",e=>{this.handlePanMove(e.deltaY,e.velocityY,e.timeStamp)}),this.hammer.on("panend",e=>{this.handlePanEnd(e.velocityY,e.timeStamp)}),this.panEnabled=!0}}removePanListener(){this.hammer&&(this.hammer.off("panstart panmove panend"),this.panEnabled=!1)}computePrecalculatedMeasurement(){this.MAX_TOP_MARGIN=this.preferredTrayStartHeight?this.windowHeight-this.preferredTrayStartHeight:this.windowHeight/4,this.MIN_TOP_MARGIN=(()=>{var e;if(this.shouldFullSizeCoverScreen)return this.minTopMargin;const t=this.$refs.modalBodyContent;if(t){const o=this.windowHeight-t.clientHeight-(null===(e=this.$refs.header)||void 0===e?void 0:e.clientHeight);return o>this.MAX_TOP_MARGIN||o<0?this.minTopMargin:o}return this.minTopMargin})(),this.DRAG_DISTANCE_AT_TOP=-this.MAX_TOP_MARGIN+Math.max(0,this.MIN_TOP_MARGIN),this.DRAG_DISTANCE_MIN=-this.MAX_TOP_MARGIN+this.MIN_TOP_MARGIN}setStartingTopMargin(){this.marginTop=this.MAX_TOP_MARGIN,(this.fullSize||this.draggedToFullSize)&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP),this.updateElement()}recalculateMeasurement(){this.$nextTick(()=>{this.computePrecalculatedMeasurement(),this.setStartingTopMargin()})}mounted(){this.computePrecalculatedMeasurement(),this.setStartingTopMargin(),this.addPanListener()}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}};s([Object(i.e)({default:!0}),l("design:type",Boolean)],c.prototype,"xHeader",void 0),s([Object(i.e)({required:!0}),l("design:type",Number)],c.prototype,"windowHeight",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"xDrawerHandle",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"fullSize",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"disableDrag",void 0),s([Object(i.e)({default:"body"}),l("design:type",String)],c.prototype,"scrollType",void 0),s([Object(i.e)({default:"auto"}),l("design:type",Object)],c.prototype,"darkMode",void 0),s([Object(i.e)({default:void 0}),l("design:type",Number)],c.prototype,"preferredTrayStartHeight",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"shouldFullSizeCoverScreen",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"xScrim",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"isScrimSpectral",void 0),s([Object(i.e)({default:!0}),l("design:type",Boolean)],c.prototype,"shouldFadeIn",void 0),s([Object(i.e)({default:0}),l("design:type",Number)],c.prototype,"minTopMargin",void 0),s([Object(i.g)("disableDrag"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],c.prototype,"handleDragDisable",null),s([Object(i.g)("fullSize"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],c.prototype,"handleResize",null),s([Object(i.g)("preferredTrayStartHeight"),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],c.prototype,"recalculateMeasurement",null),c=s([Object(i.a)({components:{OzOverlay:a.a}})],c);var d=c,p=(o(536),o(5)),u=Object(p.a)(d,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("transition",{attrs:{"leave-active-class":"out"}},[t("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":e.isScrimSpectral,scrim:e.xScrim?"modal":null,"should-fade-in":e.shouldFadeIn},on:{"scrim-click":e.scrimClick,"scrim-esc":e.scrimEsc}},[t("div",{ref:"modalContainer",class:[{"mt-96 min-h-auto w-full":!0,"h-full":e.shouldFullSizeCoverScreen,"overflow-auto flex flex-col":!0,"modal-container":!0,"shadow-elevation-5":!e.fullSize&&!e.draggedToFullSize,"rounded-none":(e.fullSize||e.draggedToFullSize)&&e.MIN_TOP_MARGIN===e.minTopMargin,"rounded-3xl rounded-br-none rounded-bl-none":!e.fullSize&&!e.draggedToFullSize||e.MIN_TOP_MARGIN>e.minTopMargin,"full-size":e.fullSize||e.draggedToFullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"pb-safe-inset-bottom":!0}]},[t("div",{ref:"modalContainerInner",class:[{"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"min-h-full flex flex-grow flex-col overflow-hidden":!0}]},[t("div",{ref:"modalContainerInnerWrapper",class:[e.isScrollingWholeModal?"block":"contents","pb-0"]},[e.xHeader?t("header",{ref:"header"},[e.xDrawerHandle?t("div",{staticClass:"flex justify-center mb-2 pt-1",attrs:{id:"tray-expander-controller"}},[t("div",{staticClass:"rounded w-7 h-1 bg-highway-disabled dark:bg-white-disabled"})]):e._e(),e._v(" "),e._t("header")],2):e._e(),e._v(" "),t("div",{ref:"modalBody",class:{"h-auto flex flex-grow flex-col p-0 overflow-hidden":!0,"overflow-y-auto":e.fullSize||e.draggedToFullSize},on:{touchstart:e.handleTrayScrollStart,touchmove:e.handleTrayScroll,touchend:function(t){return e.$emit("dragend",e.dragDistanceY)}}},[t("div",{ref:"modalBodyContent"},[e._t("body")],2)])])])])])],1)}),[],!1,null,"53b37445",null);t.a=u.exports},463:function(e,t,o){var i=o(537);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o(78).default)("33433caf",i,!0,{})},536:function(e,t,o){"use strict";o(463)},537:function(e,t,o){(e.exports=o(77)(!1)).push([e.i,".modal-container[data-v-53b37445] {\n  max-height: none;\n  animation-name: modal-slide-up-53b37445;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-53b37445] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-53b37445] {\n    animation-name: modal-slide-down-53b37445;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-53b37445 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-53b37445 {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])},566:function(e,t,o){"use strict";var i=o(2),r=o(182),n=o(441),a=o(191),s=function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},l=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends i.f{};s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"isPhone",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"isDraggableDrawer",void 0),c=s([Object(i.a)({components:{OzDrawerStatic:r.a,OzDrawerDraggable:n.a,OzPopoverModal:a.b}})],c);var d=c,p=o(5),u=Object(p.a)(d,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isPhone&&!e.isDraggableDrawer?t("OzDrawerStatic",e._b({on:{"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")}}},"OzDrawerStatic",{...e.$props,...e.$attrs},!1),[e._l(e.$slots,(function(t,o){return e._t(o,null,{slot:o})}))],2):e.isPhone&&e.isDraggableDrawer?t("OzDrawerDraggable",e._b({on:{"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")},swipedown:function(t){return e.$emit("swipedown",t)},swipeup:function(t){return e.$emit("swipeup",t)}}},"OzDrawerDraggable",{...e.$props,...e.$attrs},!1),[e._l(e.$slots,(function(t,o){return e._t(o,null,{slot:o})}))],2):t("OzPopoverModal",e._b({on:{"trigger-anchor-update":function(t){return e.$emit("trigger-anchor-update")},"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")}}},"OzPopoverModal",{...e.$props,...e.$attrs},!1),[e._l(e.$slots,(function(t,o){return e._t(o,null,{slot:o})}))],2)}),[],!1,null,null,null);t.a=u.exports}}]);
//# sourceMappingURL=147-e9b3b89bb224072250fd.chunk.js.map